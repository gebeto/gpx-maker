<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link type="image/x-icon" href='/images/favicon.ico' rel='shortcut icon' />

    <title>Маршрут Гора Ключ. Пам`ятник УСС. На сайті "В Похід Карпатами"</title>
    
    <meta name="description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.'>
    
    <meta name="author" content="">
    
    <meta property="og:type" content="website" />    
    <meta property="fb:app_id" content="560240094486420" />
    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta property="og:url" content="https://vpohid.com.ua/routes/v/route/119/" />    
<meta property="og:title" content='Маршрут Гора Ключ. Пам`ятник УСС. На сайті &quot;В Похід Карпатами&quot;' />    
<meta property="og:description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.' />    
<meta property="og:image" content="https://vpohid.com.ua/images/og_image_routes.png" />
    <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <LINK type="text/css" rel="stylesheet" href="/css/basetheme.css">
    <LINK type="text/css" rel="stylesheet" href="/css/app.css?20250607131441">
    <LINK type="text/css" rel="stylesheet" href="/css/customstyle.css?20250530141609">
    
    <link href="/components/font-awesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="/components/cookieconsent/cookieconsent.css" rel="stylesheet" >
    
    <script src="/components/jquery/jquery.min.js"></script>
    <script src="/js/common.js?4"></script>
    
      </head>
 <body class="shortheader" >

<section class="defaultheadercontainer">

<div class="container-fluid" id="topnavigation">

<nav class="topnavbar navbar navbar-default">
	<div class="container navbarcontainer">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsednavbar" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">
			<img src="/images/logo_200.png" width="46">
			<span >В Похід<br>Карпатами</span>
			</a>
		</div>

		<div class="collapse navbar-collapse" id="collapsednavbar">
			
			<ul class="nav navbar-nav navbar-nav-right" id="rightnavbar">
				
				<li></li>

								<li class="nav-item ">
					<a class="nav-link btn btn-default" href="#" data-toggle="modal" data-target="#ai_mcp_modal_div">
						<img src="/images/icons/chatbot.png" width="24"> AI Connect</a>
				</li>
								
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="routesdropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Маршрути <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="routesdropdown">
						<a class="dropdown-item" href="/routes/">Маршрути</a>
						<a class="dropdown-item" href="/map/">Карта</a>
						<a class="dropdown-item" href="/browse/">Місця</a>
						<a class="dropdown-item" href="/towns/">Села та Міста</a>
						<a class="dropdown-item" href="/browse/?kindlist=mount&">Гірські вершини</a>
												<a class="dropdown-item" href="/browse/?filter=%D0%9E%D0%B7%D0%B5%D1%80%D0%BE&kindlist=lake&">Озера</a>
																		<a class="dropdown-item" href="/browse/?filter=%D0%92%D0%BE%D0%B4%D0%BE%D1%81%D0%BF%D0%B0%D0%B4&kindlist=lake&">Водоспади</a>
												<a class="dropdown-item" href="/browse/?kindlist=placeofinterest&">Цікаві місця</a>
					</div>
				</li>
				
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Спільнота <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
						<a class="dropdown-item" href="/chat/">Чат</a>
						<a class="dropdown-item" href="/forum/">Форум</a>
											</div>
				</li>

				<li class="nav-item visible-xs active">
					<a class="nav-link special" href="/routes/">Маршрути</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link special" href="/map/">Карта</a>
				</li>
									<li class="nav-item visible-xs">
						<a class="nav-link" href="/guides/">Гіди</a>
					</li>
													<li class="nav-item visible-xs">
						<a class="nav-link" href="/shop/">Спорядження</a>
					</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/weather/">Погода</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/forum/">Форум</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/chat/">Чат</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/quests/">Квести</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/blog/">Блог</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/pages/v/handbook/">Довідник</a>
				</li>
				
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/about/">Про сайт</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/developer/">Розробник</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/contact/">Контакт</a>
				</li>
				 
				<li class="nav-item hidden-xs">
					<a class="nav-link" href="#"><i class="fas fa-search"></i></a>
				</li>
																<li class="nav-item dropdown" id="loginformdropdown">
				<a href="#" class="dropdown-toggle " data-toggle="dropdown">
					<i class="far fa-user"></i> <span class="caret"></span></a>
				<ul id="login-dp" class="dropdown-menu">
				<li >
				<div class="row">
					
					<div class="col-md-12">
					 <form class="form" role="form" method="POST" action="/json/login/d/login/" accept-charset="UTF-8" id="login-nav">
						<input type="hidden" name="afterloginredirect" value="" >
						
						<div class="form-group">
							 <label class="sr-only" for="login">Email Адреса</label>
							 <input type="text" class="form-control" name="email" placeholder="Email Адреса" 
							 	required id="login-nav-email">
						</div>
						<div class="form-group">
							 <label class="sr-only" for="password">Пароль</label>
							 <input type="password" class="form-control" name="password" placeholder="Пароль" required>
							 <div class="help-block text-right"><a href="/login/v/forgot/">Забув пароль</a></div>
						</div>
						<div class="form-group text-danger text-center" id="login-nav-error" style="display:none;">
							 
						</div>
						<div class="form-group">
							 <button type="submit" class="btn btn-primary btn-block" id="loginformsubmit">Вхід</button>
						</div>
						<div class="checkbox">
							 <label>
							 <input type="checkbox" name="rememberme" value="y"> Запам’ятати мене
							 </label>
						</div>
					</form>
					<script type="text/javascript">
					
					$(function() {	
						$( "#login-nav" ).submit(function(e) {

							e.preventDefault();
							$('#login-nav-error').hide();
							$("#loginformsubmit").attr('disabled','disabled');
							$.ajax({
								type: "POST",
								url: $("#login-nav").attr('action'),
								dataType: "json",
								data: $("#login-nav").serialize(), 
								success: function(data)
								{
									if(data.status!='ok'){
										$('#login-nav-error').text(data.message);
										$('#login-nav-error').show();
										$("#login-nav-email").focus();
										$("#loginformsubmit").removeAttr('disabled');
									}else{
										window.location.href = getThisUrlToReload(data.response.redirecturl);
									}
								}
							});
						});
						
					});
					
					</script>
					</div>
				</div>
								<div class="row">
					<div class="col-md-12">
						<span class="hint">швидкий вхід із</span> 
						<div class="social-buttons">
												<a href="/login/d/sociallogin/facebook/" class="btn btn-fb"><i class="fab fa-facebook"></i> Facebook</a>
																		<a href="/login/d/sociallogin/twitter/" class="btn btn-tw"><i class="fab fa-twitter"></i> Twitter</a><br>
																		<a href="/login/d/sociallogin/google/" class="imagebtn btn">
							<img src="/images/google_signin.png" width="100%">
						</a>
																								<a href="/login/d/sociallogin/apple/" class="btn btn-ap"><i class="fab fa-apple"></i> Apple ID</a>
												</div>
					</div>
				</div>
								<div class="bottom text-center">
					<a href="/login/v/register/" class="btn btn-danger btn-block"><b>Зареєструватися</b></a>
				</div>
				
				</li>
				</ul>
			</li>
       
				
				<li class="nav-item dropdown hidden-xs">
					<button type="button" class="navbar-toggle navbar-toggle-visible" id="commondropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="dropdown-menu" aria-labelledby="commondropdown">
												<a class="dropdown-item" href="/guides/">Гіди</a>
						
												<a class="dropdown-item" href="/shop/">Спорядження</a>
						
												<a class="dropdown-item" href="/quests/">Квести</a>
						
												<a class="dropdown-item" href="/pages/v/handbook/">Довідник</a>
						
						<a class="dropdown-item" href="/weather/">Погода</a>
						<a class="dropdown-item" href="/blog/">Блог</a>
						<a class="dropdown-item" href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
                        <a class="dropdown-item" href="/pages/developer/Informatsiya+pro+rozrobnika.htm">Розробник</a>
						<a class="dropdown-item" href="/contact/">Контакт</a>
					</div>
				</li>

				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
							<span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
												<a class="dropdown-item" href="/de/routes/v/route/119/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="24">
							German</a>
												<a class="dropdown-item" href="/en/routes/v/route/119/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="24">
							English</a>
												<a class="dropdown-item" href="/pl/routes/v/route/119/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="24">
							Polish</a>
												<a class="dropdown-item" href="/routes/v/route/119/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="24">
							Ukrainian</a>
											</div>
				</li>
			</ul>
			
		</div><!-- /.navbar-collapse -->
		<div class="row visible-xs languageselectorxs">
		<div class="col-xs-12">
			<div class="row text-right">
									<span class="languageitem">
										<a href="/de/routes/v/route/119/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/en/routes/v/route/119/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/pl/routes/v/route/119/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="18">
										</a>					</span>
									<span class="languageitem">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
															</span>
								&nbsp;&nbsp;
			</div>
		</div>
		</div>
	</div><!-- /.container-fluid -->
</nav>
<div id="ai_mcp_modal_div" class="modal fade" role="dialog">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal">&times;</button>
		  <h4 class="modal-title"><img src="/images/icons/chatbot.png" width="24"> AI Connect - Інтеграція з AI-чатом</h4>
		</div>
		<div class="modal-body">
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<p class="muted" style="font-size:x-small">Цей сайт може бути інтегрований з вашим улюбленим AI-чатом, наприклад, Claude Desktop, CleverChatty CLI та інші.</p>
					<p class="muted" style="font-size:xx-small">AI-чат повинен підтримувати MCP (Model Context Protocol) для роботи з цим сайтом.</p>
					<p class="muted" style="font-size:x-small">Скопіюйте це MCP URL та додайте до налаштувань вашого AI-чату.</p>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-6 text-center">
							<a href="#">
								<img src="/images/icons/chatgpt.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
						<div class="col-xs-6">
							<a href="#">
								<img src="/images/icons/claude.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
					</div>
				</div>
			</div>
		  
		</div>
		<div class="modal-footer">
			<div class="row form-group">
				<label class="control-label col-sm-2" for="urlInput">MCP URL:</label>
				<div class="col-sm-10">
					<input type="text" id="urlInput" class="form-control" 
						value="http://vpohid.com.ua:8888/sse/" readonly onclick="this.select();" />
				</div>
			</div>
		</div>
	  </div>
	</div>
</div>
</div>
	<section class="container headershort">
		<div class="row text-center">
			<div class="col-xs-6 col-sm-3">
				<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001" class="btn craft-btn">
				<span class="fab fa-apple"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Apple iOS</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
				<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking" class="btn craft-btn">
				<span class="fab fa-android"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Android</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
								<a href="/pages/donate/Pidtrimayte+proekt+finansovo.htm" class="btn craft-btn">
				<span class="fa fa-usd"></span>
				<div class="craft-btn-content">
					<h6>Підтримайте проєкт</h6>
					<h4>DONATE</h4>
				</div>
				</a>
							</div>
			<div class="col-xs-6 col-sm-3">
								 
				<a href="https://www.tsypa.beer/" class="btn craft-btn sponsor-btn">
										<img src="/images/sponsor/web_logo_mini.png?2">
									<div class="craft-btn-content">
					<h6>Наш спонсор</h6>
					<h4>ЦИПА</h4>
				</div>
				</a>
											</div>
        </div>
		
	</section>
</section>      
    <section class="container" id="content">
	    
        
<div class="panel panel-default">
    <div class="panel-heading ">
		<div class="row">
        <div class="col-xs-4">

		        <a href="/routes/"><i class="fas fa-long-arrow-alt-left"></i><span class="hidden-xs"> Назад до списку</span></a>
		        </div>
        <div class="col-xs-8 text-right">
                    </div>
		</div>
    </div>
    <div class="panel-body routeview">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-9 col-lg-10">
                <div class="row routetitle">
                    <div class="col-xs-1">
                        <span style="color:#052ac3"><i class="fas fa-square fa-lg"></i></span>
                    </div>
                    <div class="col-xs-11">
                        <h2>Гора Ключ. Пам`ятник УСС</h2>
                    </div>
                    
                </div>
                <div class="row ">
                    
                    <div class="col-sm-6 col-xs-12 " id="leftcol">
                        
                        <div class="row shortdescription">
                            Сколе - озеро Журавлине - г. Ключ - Могила Січових Стрільців -  г.Яворинка - Сколе
                        </div>
                        
                        <div class="row">
                            <div class="col-xs-8">
                                                                <span class="text-muted">Старт з населеного пункту: </span><a href="/towns/v/town/703/">Сколе</a>
                                                            </div>
                            <div class="col-xs-4 text-right text-muted">
                                <span class="text-info">31.1 км</span><br>
                                <span class="text-dark">2 дні(в)</span><br>
                                <span class="text-muted">Рівень: Любитель</span>
                            </div>
                        </div>
                        
                        <div class="row routemounts">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Вершини на маршруті: </span>
                                                                                                                                <a href="/map/v/item/1084/">Плашори</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1092/">Яворинка</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/811/">Ключ</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/943/">Сукіль</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1291/">Віра</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/958/">Перепічки</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1317/">Семків Верх</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/894/">Клива</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/895/">Чудилів</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1453/">Закізи</a>
                                                                
                                                                                            </div>	
                        </div>
                        <div class="row routeinterestingplaces">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Цікаве на маршруті: </span>
                                                                                                                                <a href="/map/v/item/2210/">Скелі на горі Ключ</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1732/">Могила Січових Стрільців</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/2216/">Вершина із скелями</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/2214/">Каньйон з камінням, скелями</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/2207/">Скупчення скель</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1734/">Озеро Поляницьке</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5188/">Водоспад Дика Баба</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5213/">Водоспад Підступи Середній</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5211/">Водоспад Дзюрчик</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5212/">Водоспад Підступи Верхній</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5185/">Водоспад Хащуватий</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5210/">Залотом'ятий водоспад</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5214/">Водоспад Підступи</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1731/">Озро Журавлине (Мертве)</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5215/">Верхньокам'янський водоспад</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/4737/">Міст</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1733/">Водоспад Кам'янка</a>
                                                                
                                                                                            </div>	
                        </div>
                                                <div class="row routeweather">
                            <div class="col-xs-12">
                                <span class="text-muted">Прогноз погоди в населених пунктах в районі маршруту: </span>
                            </div>
                            <div class="col-xs-2">
                                <img src="/images/icons/cloud.png" width="48">
                            </div>
                            <div class="col-xs-10">
                                
                                <ul>
                                                                <li><span class="text-muted">Місто</span> <a href="/weather/v/view/703/?kind=town&">Сколе</a></li>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/719/?kind=town&">Козаківка</a></li>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/723/?kind=town&">Бубнище</a></li>
                                                                </ul>
                            </div>	
                        </div>
                                                
                    </div>
                    <div class="col-sm-6 col-xs-12" >
                                                <div class="row text-right"><a href="/profile/v/public/0/?edit=y&addroute=119&">
                                <i class="fas fa-address-card"></i> Я пройшов цей маршрут</a></div>
                                                <div class="row description">Одно- чи дводенний похід в околицях міста Сколе.

Маршрут можна значно скоротити , якщо виходти та повертатися в село Кам'янка.

На маршруті два гірські озера - Журавлине та Поляницьке. Декілька відоспадів, в тому числі водоспад Кам'янка.

Маршрут проходить через гору Ключ, під якою відбувались історичні бої Січових Стрільців, про що свідчить могила та пам'ятний знак.</div>
                        
                                                <div class="row routeguides">
														<div class="col-xs-12">
								<div><b>Гіди на цьому маршруті</b></div>
																	
																		<div class="row guideline">
										<div class="col-xs-2">
										<img src="/guides/v/photo/24/" width="50">  
										</div>
										<div class="col-xs-10">
										<b><a href="/guides/v/guide/24/" >TURE</a></b><br>
										<span class="text-muted">Організовуємо походи в Карпатах протягом усього року різної тривалості та складності. Локації трекінгових мандрівок: Чорногора, Свидовець, Ґорґани тощо. Наша мережа кемпів «Білий Слон» пропонує мандрівникам проживання, харчування та інші послуги: гірська хатина «Білий Слон Ґаджина» (1100 м н. р. м.), кемп «Білий Слон Дземброня» (720 м н. р. м.).</span>
										</div>
									</div>
																																										<div class="guideline text-muted text-center">
									Ви гід? <a href="/guides/">Покажіть свої послуги тут</a>
								</div>
															</div>	
                        </div>
							
                                            </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-2 hidden-xs hidden-sm">
                            </div>
        </div>
		        <div class="row text-left hidden-md hidden-lg">
                    </div>
                <div class="row" id="mapout">
			<div id="map"></div>
		</div>
		<div class="row text-center" style="margin-bottom:30px;">
            <a href="/map/?mclat=49.03244000&mclng=23.506708000&mz=14&" >Показати на загальній карті</a>
		</div>
		<div class="row text-center">
                    </div>
                <div class="row text-center">
            <h3>3D відео анімація цього маршруту</h3>
        </div>
        <div class="row text-center">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
				<div class="youtubeVideoWrapper">
                <iframe src="https://www.youtube.com/embed/p7JpStDEbNY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
            </div>
    </div>
<div class="row">
	<div class="col-sm-12">
		<div class="row">
						<div class="col-md-6 col-sm-12 objectphotos">
				                												                                				<script src="/js/comments.js"></script>
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
            <div class="col-xs-6 h3">
            Фотогалерея
            </div>
            <div class="col-xs-6">
				                            </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="row photogallery" id="photogallerydiv">
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb21093">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/21093_1000.jpg" 
                        id="photourl21093"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="WaYveD" 
                        data-whenadded="22 серпня, 21:02" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21093.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21093_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21093_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/21093_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/21093_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb21092">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/21092_1000.jpg" 
                        id="photourl21092"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="WaYveD" 
                        data-whenadded="22 серпня, 20:58" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21092.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/comments\/v\/photo\/21092\/?thumb=100&","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21092_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/21092_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/21092_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb21090">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/21090_1000.jpg" 
                        id="photourl21090"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="WaYveD" 
                        data-whenadded="22 серпня, 20:44" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21090.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/comments\/v\/photo\/21090\/?thumb=100&","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21090_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/21090_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/21090_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb20735">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/20735_1000.jpg" 
                        id="photourl20735"
                        data-footer="06.08.24 Ходили частиною цього маршруту. З с. Дубина до водоспаду Кам\'янка, просто дорога, далі до г. Ключ починаються "хащі", тому що стежок майже немає, все заросло, мітки дуже рідко. Орієнтувались лише картою на телефоні. Після могили Січових Стрільців стає  - краще. Далі ми звернули з маршруту і пішли "хребтом" до г. Лопата. (стежки через г. Беньки та г. Мутна майже відсутні)." 
                        data-image-id="" 
                        data-addedby="Ярослав Гальчишак" 
                        data-whenadded="11 серпня, 18:56" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/20735.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/20735_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/20735_300.jpg","license":"CC BY-SA 2.0","licenseid":"cc-by-sa-2.0","licensename":"Creative Commons Attribution-ShareAlike 2.0 Generic","licenseurl":"http:\/\/creativecommons.org\/licenses\/by-sa\/2.0\/","photocopyright":"","photosource":""}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/20735_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/20735_300.jpg" alt="06.08.24 Ходили частиною цього маршруту. З с. Дубина до водоспаду Кам\'янка, просто дорога, далі до г. Ключ починаються "хащі", тому що стежок майже немає, все заросло, мітки дуже рідко. Орієнтувались лише картою на телефоні. Після могили Січових Стрільців стає  - краще. Далі ми звернули з маршруту і пішли "хребтом" до г. Лопата. (стежки через г. Беньки та г. Мутна майже відсутні)." style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb19832">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/19832_1000.jpg" 
                        id="photourl19832"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Артем Гіжицький" 
                        data-whenadded="2024, 4 липня, 16:12" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/19832.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/19832_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/19832_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/19832_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/19832_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb10131">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/10131_1000.jpg" 
                        id="photourl10131"
                        data-footer="Ходив 6 липня. Від Сколе до підйому на гору Ключ нормальний. Далі маршрут заросший травою малиною та гіллям. Ні чого цікавого на маршруті не має, навіть краєвидів. Є могила Січових Стрільців. Все. Зійшов з маршруту в Кам\'янці. Гарні водоспади." 
                        data-image-id="" 
                        data-addedby="Давиденко Іван" 
                        data-whenadded="2022, 7 липня, 07:54" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/10131.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/10131_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/10131_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/10131_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/10131_300.jpg" alt="Ходив 6 липня. Від Сколе до підйому на гору Ключ нормальний. Далі маршрут заросший травою малиною та гіллям. Ні чого цікавого на маршруті не має, навіть краєвидів. Є могила Січових Стрільців. Все. Зійшов з маршруту в Кам\'янці. Гарні водоспади." style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb11692">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/11692_1000.jpg" 
                        id="photourl11692"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Taras Shumskyi" 
                        data-whenadded="2022, 17 вересня, 19:20" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/11692.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11692_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11692_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/11692_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/11692_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb1183">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/1183_1000.jpg" 
                        id="photourl1183"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Administrator" 
                        data-whenadded="2020, 26 травня, 08:15" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/1183.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/1183_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/1183_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/1183_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/1183_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb21028">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/21028_1000.jpg" 
                        id="photourl21028"
                        data-footer="Висота - 2 м" 
                        data-image-id="" 
                        data-addedby="Олександр" 
                        data-whenadded="20 серпня, 18:44" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21028.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21028_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21028_300.jpg","license":"CC BY 4.0","licenseid":"cc_by_4.0","licensename":"Creative Commons Attribution 4.0 International","licenseurl":"http:\/\/creativecommons.org\/licenses\/by\/4.0\/","photocopyright":"","photosource":""}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/21028_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/21028_300.jpg" alt="Висота - 2 м" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem">
                <div class = "thumbnail">
                <a href="/comments/v/photos/119/?kind=route&" role="button" class="btn btn-info">Всі фото</a> 
                </div>
            </div>
                        </div>
        </div>
        </div>
   

<div id="photoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="photoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-10">
				<div class="row">
					<div class="col-xs-2 col-md-1 text-left">
						<button type="button" class="btn btn-primary" id="show-previous-image"><i class="fas fa-angle-double-left"></i></button>
					</div>
					<div class="col-xs-2 col-md-1 text-right">
						<button type="button" id="show-next-image" class="btn btn-info"><i class="fas fa-angle-double-right"></i></button>
					</div>
					<div class="col-xs-8 col-md-10 text-center text-muted" id="photoviewdialoginfo"></div>
				</div>
                <div class="row">
					<div class="col-xs-12 col-md-10 col-md-offset-1 text-center" id="photoviewdialogcaption"></div>
                </div>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    var setClickAttr = '.thumbnail a.thumbnaila';
    $(function() {
            $('body').on('click', '.editphoto', function(e) {
                    e.stopPropagation();
              
                    if ($('#editcommentlink'+$(this).attr("photoid")).length) {
						$('#editcommentlink'+$(this).attr("photoid")).click()
						return ;
					}
                    $('#editcommentarea').val($('#photourl'+$(this).attr("photoid")).attr('data-footer'));
                    $('#commentid').val($(this).attr("photoid"));

                    var selector = $('#photourl'+$(this).attr('photoid'));
                    var photoInfo = getPhotoLicenseInfo(selector);

                    if (photoInfo.license != "own") {
                        $('#editphotolicense').val(photoInfo.licenseid);
                        $('#editphotosource').val(photoInfo.photosource);
                        $('#editphotocopyright').val(photoInfo.photocopyright);
                        $("#editthisismyphoto").prop('checked', false);
                    } else {
                        $('#editphotosource').val('');
                        $('#editphotocopyright').val('');
                        $("#editthisismyphoto").prop('checked', true);
                    }
                    $("#editthisismyphoto").change();
                    
                    $('#editphotodiv').show()
					
                    $("#editcommentdialog").modal("toggle");
                    $('#editcommentarea').focus()
            });
            
            loadGallery();

            
            
            
    });
    function loadGallery(){
		var current_image,
			selector,
			counter = 0;

		$('#show-next-image, #show-previous-image').click(function(){
			if($(this).attr('id') == 'show-previous-image'){
				current_image--;
			} else {
				current_image++;
			}

			selector = $('[data-image-id="' + current_image + '"]');
			updateGallery(selector);
		});

		function updateGallery(selector) {
			var $sel = selector;
			current_image = $sel.data('image-id');
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#photoviewdialogcaption').html(caption)
			$('#photoviewdialoginfo').html(info)

			$('#photoviewdialogimg').attr('src',$sel.attr('href'))

			disableButtons(counter, $sel.data('image-id'));
			
			$("#photoviewdialog").modal("show");
		}

		
		$('[data-image-id]').each(function(){
			counter++;
			$(this).attr('data-image-id',counter);
		});
		
		$(setClickAttr).on('click',function(event){
			event.preventDefault();
			if(event.target.nodeName == 'IMG') {
				updateGallery($(this));
			}
		});
	}
	//This function disables buttons when needed
	function disableButtons(counter_max, counter_current){
		$('#show-previous-image, #show-next-image').show();
		console.log(counter_current+','+counter_max)
		if(counter_max == counter_current){
			$('#show-next-image').hide();
			
		}
		if (counter_current == 1){
			$('#show-previous-image').hide();
		}
	}
</script>


			</div>
			<div class="col-md-6 col-sm-12 objectcomments">
								<script src="/js/comments.js"></script>
        <div class="panel panel-default">
        <div class="panel-heading">
           <div class="row">
            <div class="col-xs-4 h3">
            Коментарі
            </div>
            <div class="col-xs-8 text-right">
				
				

    

<script>
    $(function() {
            $(".addcomment").click(function() {
                    if (!loginRequired("Лише зареєстровані користувачі можуть коментувати")) {
                        return;
                    }


            });

            


    });
    
</script>




                <button type="button" class="btn btn-info addcomment"><i class="fas fa-plus-circle"></i> 
					<span class="hidden-xs">Додати коментар або фото</span><span class="visible-xs">Додати</span></button>
            </div>
            </div>
        </div>
        <div class="panel-body" id="commentslist">
                        <div class="row comment" id="commentpanel21091">
                <div class="row commentinfo"><a name="comment21091"></a>WaYveD - <span class="commenttime">2024-08-22 20:58:05</span>
                                                </div>
                <div class="row commenttext" id="comment21091">Продовження історії з "псом поводирем". Вже потроху темніло, а ми хотіли найти місце для таборування, і десь недалеко від столика відпочинку спустившись і перейшовши річку чи потічок, що простягався з гори, ми зупинились щоб передихнути і побачили що собака полізла вгору і пішли глянути за нею, а там була неймовірна точка. Місце для палаток, дві імпровізовані лавки і місце для вогнища і при цьому міста вже не видно, чути шум річки що тече з гори, багато дров на місці, дуже мало людей а навіть якщо проходять то ця точка на підвищенні так що нікого не  видно і це все між соснами. Одним словом це місце нам дуже пригрілось і ми там залишились. Якщо вертатись в місто на потяг чи магазин то відносно недалеко вертатись.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21089">
                <div class="row commentinfo"><a name="comment21089"></a>WaYveD - <span class="commenttime">2024-08-22 20:42:08</span>
                                                </div>
                <div class="row commenttext" id="comment21089">Сходили недавно цим маршрутом в компанії 
На самому початку до нас привязався "пес поводирь" так ми його прозвали і на першій розвилці ще попри р. Опір він нас повів, ми так подумали коротким шляхом, і ми йому довірились, но це була помилка. По дорозі було до біса борщовиків і кропиви, но нас це не спинили бо ми повністю довіряли цій собаці. А перед тим напевно ще випав дощ тож було трішки вогко. І вже біля труб ми скарабкувались по болоту, борщовиках і кропиві. Загалом це було весело, але вертаючись назад ми все-таки пішли цивілізованою стежкою.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel20735">
                <div class="row commentinfo"><a name="comment20735"></a>Ярослав Гальчишак - <span class="commenttime">2024-08-11 18:56:17</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/20735.jpg" 
                        id="commentphotourl20735"
                        commentid="20735"
                        data-footer="06.08.24 Ходили частиною цього маршруту. З с. Дубина до водоспаду Кам\'янка, просто дорога, далі до г. Ключ починаються "хащі", тому що стежок майже немає, все заросло, мітки дуже рідко. Орієнтувались лише картою на телефоні. Після могили Січових Стрільців стає  - краще. Далі ми звернули з маршруту і пішли "хребтом" до г. Лопата. (стежки через г. Беньки та г. Мутна майже відсутні)." 
                        data-addedby="Ярослав Гальчишак" 
                        data-whenadded="11 серпня, 18:56" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/20735.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/20735_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/20735_300.jpg","license":"CC BY-SA 2.0","licenseid":"cc-by-sa-2.0","licensename":"Creative Commons Attribution-ShareAlike 2.0 Generic","licenseurl":"http:\/\/creativecommons.org\/licenses\/by-sa\/2.0\/","photocopyright":"","photosource":""}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/20735_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/20735_100.jpg" class="commentphoto" id="commentphoto20735"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment20735">06.08.24 Ходили частиною цього маршруту. З с. Дубина до водоспаду Кам'янка, просто дорога, далі до г. Ключ починаються "хащі", тому що стежок майже немає, все заросло, мітки дуже рідко. Орієнтувались лише картою на телефоні. Після могили Січових Стрільців стає  - краще. Далі ми звернули з маршруту і пішли "хребтом" до г. Лопата. (стежки через г. Беньки та г. Мутна майже відсутні).</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel19831">
                <div class="row commentinfo"><a name="comment19831"></a>Артем Гіжицький - <span class="commenttime">2024-07-04 16:10:41</span>
                                                </div>
                <div class="row commenttext" id="comment19831">Тільки що пройшов маршрут, досить легкий, але гору Ключ краще оминути, стежки нормальної немає, все заросло, краще обійти одразу жо могили січових Стрільців з Кам'янки, фото стежки закріпив, і якщо йдете, то беріть водонепроникне взуття, бо по маршруті треба переходити ріку</div>
                                
            </div>
                        <div class="row comment" id="commentpanel19830">
                <div class="row commentinfo"><a name="comment19830"></a>Артем Гіжицький - <span class="commenttime">2024-07-04 16:08:59</span>
                                                </div>
                <div class="row commenttext" id="comment19830">Тільки що пройшов маршрут, досить легкий, але гору Ключ краще оминути, стежки нормальної немає, все заросло, краще обійти одразу жо могили січових Стрільців з Кам'янки, фото стежки закріпив, і якщо йдете, то беріть во ж онепроникнн взуття, бо по маршруті треба переходити ріку</div>
                                
            </div>
                        <div class="row comment" id="commentpanel19198">
                <div class="row commentinfo"><a name="comment19198"></a>Svetlana Tereschuk - <span class="commenttime">2024-05-23 15:42:18</span>
                                                </div>
                <div class="row commenttext" id="comment19198">Була на минулих вихідних, хотіла відтворити варіант цього маршруту. До г. Ключ через водоспад Кам'янка і до могили січових стрільців  дорога більш менш, далі вирішила піти варіантом маршрутів, що були на вказівнику біля могили і то жесть була, відмітки на деревах інколи траплялись, але жодної стежки, по кущах і деревах там не ходили кілька років точно, просто орієнтувалась на карти в телефоні. Багато слідів копит кабанчиків</div>
                                
            </div>
                        <div class="row comment" id="commentpanel13523">
                <div class="row commentinfo"><a name="comment13523"></a>Myroslav Diakiv - <span class="commenttime">2023-05-29 10:16:15</span>
                                                </div>
                <div class="row commenttext" id="comment13523">Ходили в кінці травня, перша половина маршруту до памʼятника січовим стрільцям нормальна, дальше немає нічого цікавого, краєвиди і потічки відсутні, обхід гори Сукіль жахливий, болото і калюжі по коліна.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel10131">
                <div class="row commentinfo"><a name="comment10131"></a>Давиденко Іван - <span class="commenttime">2022-07-07 07:54:35</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/10131.jpg" 
                        id="commentphotourl10131"
                        commentid="10131"
                        data-footer="Ходив 6 липня. Від Сколе до підйому на гору Ключ нормальний. Далі маршрут заросший травою малиною та гіллям. Ні чого цікавого на маршруті не має, навіть краєвидів. Є могила Січових Стрільців. Все. Зійшов з маршруту в Кам\'янці. Гарні водоспади." 
                        data-addedby="Давиденко Іван" 
                        data-whenadded="2022, 7 липня, 07:54" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/10131.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/10131_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/10131_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/10131_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/10131_100.jpg" class="commentphoto" id="commentphoto10131"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment10131">Ходив 6 липня. Від Сколе до підйому на гору Ключ нормальний. Далі маршрут заросший травою малиною та гіллям. Ні чого цікавого на маршруті не має, навіть краєвидів. Є могила Січових Стрільців. Все. Зійшов з маршруту в Кам'янці. Гарні водоспади.</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel5459">
                <div class="row commentinfo"><a name="comment5459"></a>Сати Бец - <span class="commenttime">2021-07-06 08:44:41</span>
                                                </div>
                <div class="row commenttext" id="comment5459">Чудовий маршрут, дякуємо автору! 
Не доходячи трішки до повороту на оз. Журавлине - є джерело, потік якого підведений прямо до дороги. Воно не помічене на карті, але дуже вдало розміщене. Можна не нести з собою зайву воду.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel1474">
                <div class="row commentinfo"><a name="comment1474"></a>ніна - <span class="commenttime">2020-08-04 19:26:20</span>
                                                </div>
                <div class="row commenttext" id="comment1474">доброго дня
де можливі зупинки на ночівлю на цьому маршруті?
плануємо бути з дитиною 4 роки. чи можна зробити 2 ночівлі?
чи популярне місце "мертве озеро"? біля нього зазвичай ж туристи чи це відносно безлюдна місцевість?</div>
                                
            </div>
                                </div>
        </div>

<div id="singlephotoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="singlephotoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialoginfo"></div>
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialogcaption"></div>
			<div class="col-xs-10" style="padding:10px;">
				<a href="" id="singlephotoviewdialoglink">Показати оригінал зображення</a>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    $(function() {
		$('.commentphotolink').on('click',function(event){
			event.preventDefault();
			
			$('#singlephotoviewdialogimg').attr('src',$(this).attr('href'))
			$('#singlephotoviewdialoglink').attr('href',$(this).attr('href'))

            var selector = $('#commentphotourl'+$(this).attr('commentid'));
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#commentphotoviewdialogcaption').html(caption)
			$('#commentphotoviewdialoginfo').html(info)
			
			$('#singlephotoviewdialog').modal('show')
		});
    });
</script>


			</div>
		</div>
	</div>
</div>


<script language="javascript">
    var list = [];
		
    
		
	var route = Array
		
        list.push({lat: 49.03244000, lng: 23.506708000})
        list.push({lat: 49.03100500, lng: 23.509455000})
        list.push({lat: 49.02957000, lng: 23.510914000})
        list.push({lat: 49.03047100, lng: 23.513231000})
        list.push({lat: 49.03156800, lng: 23.515763000})
        list.push({lat: 49.03207500, lng: 23.517051000})
        list.push({lat: 49.03283400, lng: 23.519754000})
        list.push({lat: 49.03522600, lng: 23.523445000})
        list.push({lat: 49.03615400, lng: 23.523745000})
        list.push({lat: 49.03730800, lng: 23.524733000})
        list.push({lat: 49.03716700, lng: 23.525763000})
        list.push({lat: 49.03730800, lng: 23.526492000})
        list.push({lat: 49.03646400, lng: 23.527694000})
        list.push({lat: 49.03469100, lng: 23.530054000})
        list.push({lat: 49.03418500, lng: 23.531213000})
        list.push({lat: 49.03449400, lng: 23.531728000})
        list.push({lat: 49.03418500, lng: 23.533144000})
        list.push({lat: 49.03365000, lng: 23.534174000})
        list.push({lat: 49.03362200, lng: 23.535547000})
        list.push({lat: 49.03376300, lng: 23.536663000})
        list.push({lat: 49.03334100, lng: 23.537908000})
        list.push({lat: 49.03232800, lng: 23.538637000})
        list.push({lat: 49.03168100, lng: 23.540440000})
        list.push({lat: 49.03117400, lng: 23.542156000})
        list.push({lat: 49.03094900, lng: 23.544087000})
        list.push({lat: 49.03021800, lng: 23.545504000})
        list.push({lat: 49.02889500, lng: 23.547821000})
        list.push({lat: 49.02881100, lng: 23.550825000})
        list.push({lat: 49.02844500, lng: 23.552370000})
        list.push({lat: 49.02844500, lng: 23.554087000})
        list.push({lat: 49.02906400, lng: 23.556275000})
        list.push({lat: 49.02875400, lng: 23.558121000})
        list.push({lat: 49.02945800, lng: 23.559623000})
        list.push({lat: 49.03078000, lng: 23.561554000})
        list.push({lat: 49.03128700, lng: 23.563185000})
        list.push({lat: 49.03199000, lng: 23.563142000})
        list.push({lat: 49.03246900, lng: 23.564215000})
        list.push({lat: 49.03227200, lng: 23.565588000})
        list.push({lat: 49.03289100, lng: 23.565116000})
        list.push({lat: 49.03320900, lng: 23.568703000})
        list.push({lat: 49.03375000, lng: 23.569904000})
        list.push({lat: 49.03428500, lng: 23.571095000})
        list.push({lat: 49.03460200, lng: 23.571707000})
        list.push({lat: 49.03487600, lng: 23.571878000})
        list.push({lat: 49.03487600, lng: 23.571878000})
        list.push({lat: 49.03460200, lng: 23.571707000})
        list.push({lat: 49.03428500, lng: 23.571095000})
        list.push({lat: 49.03375000, lng: 23.569904000})
        list.push({lat: 49.03320900, lng: 23.568703000})
        list.push({lat: 49.03320000, lng: 23.569021000})
        list.push({lat: 49.03376300, lng: 23.571167000})
        list.push({lat: 49.03327200, lng: 23.573999000})
        list.push({lat: 49.03254000, lng: 23.575931000})
        list.push({lat: 49.03144300, lng: 23.576488000})
        list.push({lat: 49.03231500, lng: 23.577089000})
        list.push({lat: 49.03411600, lng: 23.577948000})
        list.push({lat: 49.03529800, lng: 23.577948000})
        list.push({lat: 49.03639500, lng: 23.578076000})
        list.push({lat: 49.03690100, lng: 23.577304000})
        list.push({lat: 49.03785800, lng: 23.576875000})
        list.push({lat: 49.03875800, lng: 23.577905000})
        list.push({lat: 49.04027700, lng: 23.578119000})
        list.push({lat: 49.04289400, lng: 23.581724000})
        list.push({lat: 49.04427200, lng: 23.581767000})
        list.push({lat: 49.04565000, lng: 23.583913000})
        list.push({lat: 49.04657900, lng: 23.585029000})
        list.push({lat: 49.04686000, lng: 23.586788000})
        list.push({lat: 49.04688800, lng: 23.588290000})
        list.push({lat: 49.04587500, lng: 23.589921000})
        list.push({lat: 49.04489100, lng: 23.591165000})
        list.push({lat: 49.04365300, lng: 23.591552000})
        list.push({lat: 49.04317500, lng: 23.595200000})
        list.push({lat: 49.04306200, lng: 23.598933000})
        list.push({lat: 49.04252800, lng: 23.600993000})
        list.push({lat: 49.04075600, lng: 23.603268000})
        list.push({lat: 49.03988400, lng: 23.604340000})
        list.push({lat: 49.04016500, lng: 23.606701000})
        list.push({lat: 49.04013700, lng: 23.608632000})
        list.push({lat: 49.04058700, lng: 23.611636000})
        list.push({lat: 49.04069900, lng: 23.613310000})
        list.push({lat: 49.04092400, lng: 23.615327000})
        list.push({lat: 49.03766100, lng: 23.617773000})
        list.push({lat: 49.03673300, lng: 23.619103000})
        list.push({lat: 49.03564200, lng: 23.617746000})
        list.push({lat: 49.03434800, lng: 23.618304000})
        list.push({lat: 49.03325100, lng: 23.617532000})
        list.push({lat: 49.03218200, lng: 23.618304000})
        list.push({lat: 49.03130900, lng: 23.617060000})
        list.push({lat: 49.03074700, lng: 23.616716000})
        list.push({lat: 49.02945200, lng: 23.619592000})
        list.push({lat: 49.02770800, lng: 23.620922000})
        list.push({lat: 49.02753900, lng: 23.623626000})
        list.push({lat: 49.02604700, lng: 23.625729000})
        list.push({lat: 49.02748200, lng: 23.629119000})
        list.push({lat: 49.02900200, lng: 23.632080000})
        list.push({lat: 49.03005000, lng: 23.633468000})
        list.push({lat: 49.02975400, lng: 23.634090000})
        list.push({lat: 49.02917000, lng: 23.634863000})
        list.push({lat: 49.02835400, lng: 23.635024000})
        list.push({lat: 49.02777700, lng: 23.634906000})
        list.push({lat: 49.02645500, lng: 23.634337000})
        list.push({lat: 49.02558900, lng: 23.633908000})
        list.push({lat: 49.02511800, lng: 23.633500000})
        list.push({lat: 49.02511800, lng: 23.633500000})
        list.push({lat: 49.02558900, lng: 23.633908000})
        list.push({lat: 49.02645500, lng: 23.634337000})
        list.push({lat: 49.02777700, lng: 23.634906000})
        list.push({lat: 49.02835400, lng: 23.635024000})
        list.push({lat: 49.02917000, lng: 23.634863000})
        list.push({lat: 49.02975400, lng: 23.634090000})
        list.push({lat: 49.03005000, lng: 23.633468000})
        list.push({lat: 49.02900200, lng: 23.632080000})
        list.push({lat: 49.02748200, lng: 23.629119000})
        list.push({lat: 49.02607100, lng: 23.625405000})
        list.push({lat: 49.02587400, lng: 23.623517000})
        list.push({lat: 49.02539600, lng: 23.621929000})
        list.push({lat: 49.02421400, lng: 23.621071000})
        list.push({lat: 49.02300400, lng: 23.620169000})
        list.push({lat: 49.01991200, lng: 23.621757000})
        list.push({lat: 49.01760400, lng: 23.622444000})
        list.push({lat: 49.01535200, lng: 23.622787000})
        list.push({lat: 49.01462000, lng: 23.622101000})
        list.push({lat: 49.01236900, lng: 23.619011000})
        list.push({lat: 49.01039800, lng: 23.615921000})
        list.push({lat: 49.00932900, lng: 23.615234000})
        list.push({lat: 49.00792100, lng: 23.613003000})
        list.push({lat: 49.00589400, lng: 23.612316000})
        list.push({lat: 49.00496800, lng: 23.611462000})
        list.push({lat: 49.00289900, lng: 23.607342000})
        list.push({lat: 49.00129400, lng: 23.604090000})
        list.push({lat: 49.00109700, lng: 23.601751000})
        list.push({lat: 49.00085700, lng: 23.600421000})
        list.push({lat: 48.99968900, lng: 23.598511000})
        list.push({lat: 48.99760700, lng: 23.596056000})
        list.push({lat: 48.99762100, lng: 23.593953000})
        list.push({lat: 48.99805800, lng: 23.592001000})
        list.push({lat: 48.99970500, lng: 23.590027000})
        list.push({lat: 49.00112700, lng: 23.588675000})
        list.push({lat: 49.00255900, lng: 23.586083000})
        list.push({lat: 49.00416400, lng: 23.584925000})
        list.push({lat: 49.00555700, lng: 23.582242000})
        list.push({lat: 49.00670900, lng: 23.581852000})
        list.push({lat: 49.00722900, lng: 23.581251000})
        list.push({lat: 49.00768000, lng: 23.581122000})
        list.push({lat: 49.00931200, lng: 23.580457000})
        list.push({lat: 49.01097300, lng: 23.579513000})
        list.push({lat: 49.01250700, lng: 23.577024000})
        list.push({lat: 49.01373200, lng: 23.578805000})
        list.push({lat: 49.01464100, lng: 23.578862000})
        list.push({lat: 49.01782100, lng: 23.577274000})
        list.push({lat: 49.01866800, lng: 23.576120000})
        list.push({lat: 49.01807700, lng: 23.575347000})
        list.push({lat: 49.01712000, lng: 23.574746000})
        list.push({lat: 49.01571300, lng: 23.573588000})
        list.push({lat: 49.01399600, lng: 23.572000000})
        list.push({lat: 49.01343300, lng: 23.570069000})
        list.push({lat: 49.01185700, lng: 23.568009000})
        list.push({lat: 49.01104100, lng: 23.566120000})
        list.push({lat: 49.01129400, lng: 23.562773000})
        list.push({lat: 49.01123800, lng: 23.557666000})
        list.push({lat: 49.01067500, lng: 23.554447000})
        list.push({lat: 49.00839500, lng: 23.548310000})
        list.push({lat: 49.00628300, lng: 23.544448000})
        list.push({lat: 49.00735300, lng: 23.540586000})
        list.push({lat: 49.00733600, lng: 23.540219000})
        list.push({lat: 49.00795500, lng: 23.538931000})
        list.push({lat: 49.00836300, lng: 23.538652000})
        list.push({lat: 49.00868000, lng: 23.538803000})
        list.push({lat: 49.00900400, lng: 23.538545000})
        list.push({lat: 49.00979900, lng: 23.538599000})
        list.push({lat: 49.01038400, lng: 23.538858000})
        list.push({lat: 49.01194000, lng: 23.538933000})
        list.push({lat: 49.01291800, lng: 23.539373000})
        list.push({lat: 49.01338200, lng: 23.539813000})
        list.push({lat: 49.01386800, lng: 23.539953000})
        list.push({lat: 49.01406500, lng: 23.539717000})
        list.push({lat: 49.01424100, lng: 23.539899000})
        list.push({lat: 49.01460600, lng: 23.539955000})
        list.push({lat: 49.01547800, lng: 23.539784000})
        list.push({lat: 49.01606900, lng: 23.539944000})
        list.push({lat: 49.01651300, lng: 23.539290000})
        list.push({lat: 49.01774400, lng: 23.537788000})
        list.push({lat: 49.01836400, lng: 23.537264000})
        list.push({lat: 49.01984200, lng: 23.535601000})
        list.push({lat: 49.02092400, lng: 23.533464000})
        list.push({lat: 49.02123400, lng: 23.533163000})
        list.push({lat: 49.02158500, lng: 23.532187000})
        list.push({lat: 49.02226100, lng: 23.531168000})
        list.push({lat: 49.02239400, lng: 23.530803000})
        list.push({lat: 49.02423500, lng: 23.529362000})
        list.push({lat: 49.02478400, lng: 23.529352000})
        list.push({lat: 49.02531100, lng: 23.528998000})
        list.push({lat: 49.02569800, lng: 23.528879000})
        list.push({lat: 49.02625400, lng: 23.528654000})
        list.push({lat: 49.02657000, lng: 23.527957000})
        list.push({lat: 49.02689400, lng: 23.525350000})
        list.push({lat: 49.02688000, lng: 23.524577000})
        list.push({lat: 49.02761200, lng: 23.522281000})
        list.push({lat: 49.02816700, lng: 23.520736000})
        list.push({lat: 49.02861100, lng: 23.519374000})
        list.push({lat: 49.02811100, lng: 23.518172000})
        list.push({lat: 49.02799900, lng: 23.517410000})
        list.push({lat: 49.02827300, lng: 23.516123000})
        list.push({lat: 49.02825200, lng: 23.515286000})
        list.push({lat: 49.02799200, lng: 23.514546000})
        list.push({lat: 49.02820300, lng: 23.514020000})
        list.push({lat: 49.02832900, lng: 23.512882000})
        list.push({lat: 49.02890600, lng: 23.511659000})
        list.push({lat: 49.02938500, lng: 23.510758000})
    		
	
		
    

    function mapLoadedHook() {
        var latlngs = []
        
        for (var i = 0; i < list.length; i++) {
			latlngs.push([list[i].lat, list[i].lng])
		}
		
		
		var polyline = L.polyline(latlngs, {
			color: '#052ac3',
			opacity: 1.0,
            weight: 5
			}).addTo(map);
		// zoom the map to the polyline
		map.fitBounds(polyline.getBounds());
		
		L.marker(polyline.getLatLngs()[polyline.getLatLngs().length-1],{
			icon: L.icon({
				iconUrl: '/images/icons/route_finish.png',
				iconSize:     [32, 32]
			}),
            title: 'Кінець маршруту',
			}).addTo(map);
		
		L.marker(polyline.getLatLngs()[0],{
			icon: L.icon({
				iconUrl: '/images/icons/route_start.png',
				iconSize:     [32, 32]
			}),
            title: 'Початок маршруту',
			}).addTo(map);
		var center = polyline.getLatLngs()[parseInt(polyline.getLatLngs().length/2)]

		map.panTo(center);
		map.setZoom(14);
    }

</script>


<div id="markerinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-1" ><img id="markerinfodialogimage" src="" width="40" width="40"></div>
        <div class="col-xs-10 h3" ><a href="" id="markerinfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="markerinfodialogbody">
        <div class="col-sm-8 col-xs-12">
            <div class="row" id="markerinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="markerinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="markerinfodialogcommentslist"></div>
            <div class="text-center" id="markerinfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="markerinfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="towninfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" ><a href="" id="towninfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body" style="padding:25px;">
        <div class="row" id="towninfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="towninfodialogdetails"></div>
            <div class="row" id="towninfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="towninfodialogcomments">
            <h4>Коментарі</h4>
            <div id="towninfodialogcommentslist"></div>
            <div class="text-center" id="towninfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="towninfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="inetcoverdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" >Область покриття мобільний інтернетом</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" >
			<div class="col-xs-12">Підтверджені мобільні оператори:</div>
			<div class="col-xs-12" ><h4 id="inetcoveroperators"></h4></div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 col-xs-offset-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="routeinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11" >
			Маршрут<br>
			<h3><a href="" id="routeinfodialogtitle" target="_top"></a></a></h3>
			</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="routeinfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="routeinfodialogdetails"></div>
            <div class="row" id="routeinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="routeinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="routeinfodialogcommentslist"></div>
            <div class="text-center" id="routeinfodialogcommentslink">
                <a href="#"  target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="routeinfodialoglink" class="btn btn-info" role="button"  target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="embedcodebuttondialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
			<div class="col-xs-10">
				Код для інтеграції	
			</div>
			<div class="col-xs-2">
				<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
			</div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-xs-12 form-group">
                Пряме посилання на відображене на карті
            </div>
			<div class="col-xs-12 form-group">
				<input type="text" name="mapstatelink" class="form-control" id="mapstatelinkinput" >
			</div>
        </div>
        <div class="row">
            <div class="col-xs-12 form-group">
                Код інтеграції обраного виду
            </div>
			<div class="col-xs-12 form-group">
				<textarea name="embedcodetext" class="form-control" id="embedcodeinput" rows="5" cols="80"></textarea>
			</div>
        </div>
    </div>
    </div>
    </div>
</div>


<script>
    var map;
    
    var minZoomLevel = 8;
    var boundNorthEastLat = 50.663537;
    var boundNorthEastLng = 27.390398;
    var boundSouthWestLat  = 47.204799;
    var boundSouthWestLng = 22.034563;
    
    var loadingObjects = false;
    var loadingTowns = false;
    var loadingRoutes = false;
    var loadingInternetConn = false;
    
    var isDefaultLocale = 1;
    
    var centralMarker = false;
    var centerTitle = "";
        
    
    var markersArray = [];
    var townsArray = [];
    var townsMarkersArray = [];
    
    var polygonesArray = [];
    var polygonesTitlesArray = [];
    
    var routesArray = [];
    var routesMarkersArray = [];
    
    var internetCoverArray = [];
    
    var topareas = [];
    var areas = [];
    var loadingAreas = false;

    var markersGrid = {};
    
    var inetCoverZoomRadius = {15:50, 14: 80, 13: 150, 12: 300, 11:500, 10: 800}
    
    function initMap() {

		var Lat = 49.02558900;
		
		var Lnd = 23.633908000;
		
		var CZoom = 0

		
		map = initMapStandard('map',{lat: Lat, lng: Lnd})
		
		var scaleControl = L.control.scale({
			position: 'topleft',
			metric:true,
			imperial:false
		});
		scaleControl.addTo(map);
		
		var measureControl = new L.Control.Measure({
			primaryLengthUnit: 'meters', 
			secondaryLengthUnit: 'kilometers',
			primaryAreaUnit: 'sqmeters', 
			secondaryAreaUnit: 'hectares',
			activeColor: '#a30505',
			completedColor: '#a8323a'
			});
		measureControl.addTo(map);
		
				map.setZoom(13)	
				
		/*
		map.zoomControl = false
		map.scaleControl = false
		map.acrollwheel = false
		map.sisableDoubleClickZoom = true
		*/
        if (CZoom > 0) {
			map.setZoom(CZoom)	
		}
        
                var myLatLng = {lat: 49.02558900, lng: 23.633908000};
        
                map.whenReady(function() {setTimeout(tilesLoaded,1000)});
        
                // Bounds for Ukrainian Karpathians
        var strictBounds = L.latLngBounds(
            L.latLng(boundSouthWestLat, boundSouthWestLng),
            L.latLng(boundNorthEastLat, boundNorthEastLng)
        );
        
        map.on("dragend",function() {
                setCenterLocation()

                if (strictBounds.contains(map.getCenter())) {

                    return;
                }

                // We're out of bounds - Move the map back within the bounds

                var c = map.getCenter()

                x = c.lng;
                y = c.lat;
                maxX = strictBounds.getNorthEast().lng;
                maxY = strictBounds.getNorthEast().lat;
                minX = strictBounds.getSouthWest().lng;
                minY = strictBounds.getSouthWest().lat;
                
                if (x < minX) x = minX;
                if (x > maxX) x = maxX;
                if (y < minY) y = minY;
                if (y > maxY) y = maxY;
                
                map.panTo(new L.LatLng(y,x));
                
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
                
                setCenterLocation()
        });
        
        // control maximum zoom
        map.on('zoomend', function() {
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
        });	
                
        
    }
    function tilesLoaded() {
		updateShiftCoef()
		
		loadAreas()
        loadData()
        
                map.on('zoomend', reloadObjects);	
		map.on('dragend', reloadObjects);	 
        
        map.on('zoomend', updateShiftCoef);	
        
        setCenterLocation()
        
        if (typeof mapLoadedHook === 'function') {
			mapLoadedHook()
		}
    } 
    function makeGrid()
    {
        var bounds = getBoundaries()

        markersGrid = []
        // limits are from bounds.boundSouthWestLat to  bounds.boundNorthEastLat
        // and from bounds.boundSouthWestLng to  bounds.boundNorthEastLng
        // make the grid 10x10 , remember bounds of every cell 
        // save cells in markersGrid
        // every cell is 1/10 of the map
        var cellLat = (bounds.boundNorthEastLat - bounds.boundSouthWestLat) / 10
        var cellLng = (bounds.boundNorthEastLng - bounds.boundSouthWestLng) / 10

        for (var i = 0; i < 10; i++) {
            for (var j = 0; j < 10; j++ ) {
                var cell = {
                    boundSouthWestLat: bounds.boundSouthWestLat + cellLat * i,
                    boundSouthWestLng: bounds.boundSouthWestLng + cellLng * j,
                    boundNorthEastLat: bounds.boundSouthWestLat + cellLat * (i+1),
                    boundNorthEastLng: bounds.boundSouthWestLng + cellLng * (j+1),
                    minimumAltitude:0,
                    markers: []
                }
                markersGrid[i+'_'+j] = cell
            }
        }
    }
    function getGridIndexForLocation(lat, lng) {
        // check every cell in markersGrid to find matching cell 
        // return index of the cell
        for (var key in markersGrid) {
            if (lat >= markersGrid[key].boundSouthWestLat && lat <= markersGrid[key].boundNorthEastLat) {
                if (lng >= markersGrid[key].boundSouthWestLng && lng <= markersGrid[key].boundNorthEastLng) {
                    return key
                }
            }
        }
        return false
    }

    function reloadObjects() {
        loadData()
    }
    
		$(function() {
            initMap()// start map loading
		});
         // ==================================================================
    
    function loadData()
	{
		console.log("load data for zoom "+map.getZoom())
		
		if (map.getZoom() <= 10) {
			showAreas()
			showCenterMarker()
			return;
		}
		loadObjects()
		loadTowns()
		loadRoutes()
		loadInternetCover()
		showCenterMarker()
	}
    function showCenterMarker()
    {
		if (centralMarker) {
			console.log("show center marker 49.02558900, 23.633908000")
			L.marker([49.02558900, 23.633908000],{
				title: centerTitle,
				}).addTo(map);
		}
	}
    function setCenterLocation()
    {
        var lng = $('#geocoordslng')
        
        if (!lng || lng === 'undefined') {
            return
        }
        
        var lat = $('#geocoordslat')
        
        lng.val(roundCoord(map.getCenter().lng))
        lat.val(roundCoord(map.getCenter().lat))
    }
    
    function allKindsChecked()
    {
        var allChecked = false
        
        if ($('#filtercheckall').is(":checked")) {
            allChecked = true
        } else {
            allChecked = true
            $. each($(".filtercheckbox"), function(){
                if (!$(this).is(":checked")) {
                    allChecked = false 
                }
            });
        }
        return allChecked
    }
    function loadAreas() {
		if (areas.length == 0) {
			loadingAreas = true
			// load areas
			$.get("/json/map/v/areas/",{},
	        function(data){
	            
	            if(data.status=='ok'){
	                var data = data.response.areas;
	                for (i=0;i<data.areas.length;i++) {
	                    areas[data.areas[i].id] = data.areas[i];
	                }
                    for (i=0;i<data.topareas.length;i++) {
	                    topareas[data.topareas[i].id] = data.topareas[i];
	                }
	                
	                if (map.getZoom() <= 10) {
                        showAreas()
			        }
	                
	            }else{
	                	            }
	            loadingAreas = true
	        }, "json");
		}
	}
    
    function showAreas(att = 0)
    {
		clearAllRegions()
		clearAllMarkers()
		clearAllTowns()
		clearAllRoutes()
		clearInternetConnCover()
		
		$("#listing").html('');
		
		if (att == "undefined") {
			att = 1
		}

		if (areas.length == 0 && att < 5) {
			setTimeout(showAreas, 1000, att+1)
			return
		}

		if (map.getZoom() <= 8) {
            for (var key in topareas) {
                displayPolygone(topareas[key], false, true)
            }
			return 
		}
		
		for (var key in areas) {
			displayPolygone(areas[key], false, true)
		}
	}
    function loadObjects()
    {
        if (loadingObjects) {
            return;
        }
        
        loadingObjects = true;
        
                
        var loadKinds = getKinds()
        
        if (map.getZoom() < 13) {
			removeFromArray(loadKinds,'pasture')
			removeFromArray(loadKinds,'rescuepost')
			removeFromArray(loadKinds,'dangerplace')
		} 
		if (map.getZoom() < 14) {
			removeFromArray(loadKinds,'guide')
			removeFromArray(loadKinds,'watersource')
			removeFromArray(loadKinds,'kampplace')
			removeFromArray(loadKinds,'usefulbuilding')
		}
		
        var request = {
			"kind":loadKinds,
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
                
        
                
        
        $.get("/json/map/v/items/",request,
        function(data){
            
            if(data.status=='ok'){
            
                                
                clearAllMarkers()// remove all existent markers
                clearAllRegions()

                makeGrid()

                // check markers and assign to grid cells  
                for (i=0;i<data.response.items.length;i++) {
                    var item = data.response.items[i]
                    // item has properties latitude and longitude 
                    var gridIndex = getGridIndexForLocation(item.latitude, item.longitude)
                    if (gridIndex) {
                        //console.log("add marker to grid "+gridIndex)
                        // push to markersGrid[gridIndex].markers but keep sorted by sealevel
                        if (markersGrid[gridIndex].markers.length == 0) {
                            markersGrid[gridIndex].markers.push(item)
                        } else if (item.sealevel <= markersGrid[gridIndex].markers[0].sealevel) {
                            markersGrid[gridIndex].markers.push(item)
                        } else {
                            for (var j = 0; j < markersGrid[gridIndex].markers.length; j++) {
                                if (item.sealevel > markersGrid[gridIndex].markers[j].sealevel) {
                                    //console.log('insert marker at '+j+' position')
                                    markersGrid[gridIndex].markers.splice(j, 0, item)
                                    break
                                }
                            }
                        }
                        // keep not more 10 markers in the cell
                        if (markersGrid[gridIndex].markers.length > 5) {
                            markersGrid[gridIndex].markers.pop()
                        }
                    }
                } 
                // now we have markers in grid cells
                // check every cell and display markers
                for (var key in markersGrid) {
                    var cell = markersGrid[key]
                    for (var j = 0; j < cell.markers.length; j++) {
                        addObjectOnMap(cell.markers[j])
                    }
                }  
                //for (i=0;i<data.response.items.length;i++) {
                //    addObjectOnMap(data.response.items[i])
                //}
                if (map.getZoom() < 13) {
					// show areas too
					for (var key in areas) {
						var area = areas[key]
				
						if (area.kind != "area") {
							continue
						}
						displayPolygone(area, true)
					}
				}
                
                            }else{
                            }
            loadingObjects = false
        }, "json");
    }
    function loadTowns()
    {
        if (loadingTowns) {
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('towns'))) {
			// towns should not be loaded
			
			clearAllTowns()
			return;
		}
        
        loadingTowns = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
        $.get("/json/towns/v/townpolygons/",request,
        function(data){
            
            if(data.status=='ok'){
                clearAllTowns()
                
                for (var i=0;i<data.response.towns.length;i++) {
					var town = data.response.towns[i]
					
					addTownOnMap(town)	
                }
            }else{
				console.log(data.message)
            }
            loadingTowns = false
        }, "json");
    }
    function loadRoutes()
    {

		
				return;// disabled on this page
				
		
		if (loadingRoutes) {
            return;
        }
        
                
        if (map.getZoom() <= 9) {
            clearAllRoutes()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('routes'))) {
			// routes should not be loaded
			clearAllRoutes()
			return;
		}
        
        loadingRoutes = true;
        
        var request = {
			"zoom":map.getZoom(),
			"disableextrainfo":"y",
			"includepoints":"y",
			"bounds":getBoundaries()
            };
            
        $.get("/json/routes/?limit=500&",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearAllRoutes()
                
                for (var i=0;i<data.response.routes.list.length;i++) {
					addRouteOnMap(data.response.routes.list[i])	
                }
                
                                
            }else{
				console.log(data.message)
            }
            loadingRoutes = false
        }, "json");
	}
    function loadInternetCover()
    {		
		if (loadingInternetConn) {
            return;
        }
        
        if (map.getZoom() <= 10) {
            clearInternetConnCover()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('intconn'))) {
			// routes should not be loaded
			clearInternetConnCover()
			return;
		}
        
        loadingInternetConn = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
       
        $.get("/json/map/v/internetcover/",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearInternetConnCover()
                
                for (var i=0;i<data.response.polygons.length;i++) {
					addInternetCoverOnMap(data.response.polygons[i])	
                }
            }else{
				console.log(data.message)
            }
            loadingInternetConn = false
        }, "json");
	}
	function getKinds() {
		var kinds = [];
        
                
        kinds.push('all');
        
                
        return kinds
	}
    function addObjectOnMap(obj)
    {
        var zoom = map.getZoom();
        
        if (zoom <= 13 && allKindsChecked()) {
            if (obj.kind == 'usefulbuilding' ||
                obj.kind == 'kampplace' ||
                obj.kind == 'guide' ||
                obj.kind == 'watersource') {
                return ;
            }
        }
        
        if (zoom <= 11 && allKindsChecked()) {
            if (obj.kind == 'rescuepost' ||
                obj.kind == 'placeofinterest') {
                return ;
            }
        }
        if (zoom <= 10 && allKindsChecked()) {
            if (obj.kind == 'lake' ||
                obj.kind == 'pasture') {
                return ;
            }
        }
         
        var image = '/images/markers/'+obj.kind+'.svg';

        if (obj.kind == "marker" && obj.private == "y") {
            image = '/images/markers/privatemarker.svg';
        }
        
        var imageSize = 40
        
        if (zoom == 11) {
			imageSize = 26
		} else if (zoom == 12) {
			imageSize = 30
		}
           
        var marker = L.marker([parseFloat(obj.latitude), parseFloat(obj.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: obj.title
			})
			
        marker.id = obj.id;
        marker.icon_url = image;
        marker.viewurl = obj.viewurl;
        marker.description = obj.description;
        
        if ( 
			//(isDefaultLocale == 0 && obj.kind == 'mount' && (zoom > 12 || obj.sealevel > 1600))  ||
            (obj.kind == 'placeofinterest' || obj.kind == 'rescuepost') && zoom > 13 ||
            (obj.kind == 'lake' || obj.kind == 'pasture') && zoom > 11 ||
            zoom > 16) {
            var fw = "bold"
            
            if (zoom <= 13) {
                fw = "normal"
            }
            marker.bindTooltip(truncateString(obj.title, 20), 
			{
				permanent: true, 
				className: 'markersubtitle',
				direction: 'center'
			})
        }
        
        marker.on('click', markerClick);
        
        marker.addTo(map);
        
        markersArray.push(marker);
        
            }
    function addTownOnMap(townData)
    {
		var image = '/images/markers/town.svg';
        
        var imageSize = 30
           
        var marker = L.marker([parseFloat(townData.latitude), parseFloat(townData.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: townData.title
			})
			
        marker.title = townData.title;
        marker.id = townData.id;
        marker.viewurl = townData.viewurl;
        marker.description = townData.description;

        marker.bindTooltip(truncateString(townData.title, 20), 
        {
            permanent: true, 
            className: 'markersubtitle',
            direction: 'center'
        })
        
        marker.on('click', townPolygonClick);
        
        marker.addTo(map);
        
        townsArray.push(marker);
        
		return true;
	}
	function addInternetCoverOnMap(icPolygon)
    {
		var latlngs = []
        
        for (var i = 0; i < icPolygon.pointslist.length; i++) {
			latlngs.push([icPolygon.pointslist[i][0], icPolygon.pointslist[i][1]])
		}
		var pol ;
		
		if (latlngs.length == 1) {
			
			var radius = inetCoverZoomRadius[map.getZoom()]
			
			if (!radius) {
				radius = 50
			}
			
			pol = L.circle(latlngs[0], 
				{
				radius: radius,
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3});
		} else {
			pol = L.polygon(latlngs, 
				{
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3
				});
		}
        
        pol.title = icPolygon.operator;
        pol.operators = icPolygon.operators;
        
        pol.on('click', inetConnPolygonClick);
        
		pol.addTo(map)
        
        internetCoverArray.push(pol)
        
		return true;
	}
	function addRouteOnMap(routeData)
    {
		
		// Define the LatLng coordinates for the polygon's path.
        var coords = []
        
        for (var i = 0; i < routeData.points.length; i++) {
			var point = correctAllPointsPoint(routeData.points[i])
			coords.push([parseFloat(point[0]), parseFloat(point[1])])
		}
		
		addToAllPoints(routeData.points)
		
        var poly = L.polyline(coords, {
			color: routeData.color,
			opacity: 1.0,
            weight: 3
		})
        
        poly.routeindex = routesArray.length;
        poly.title = routeData.title;
        poly.id = routeData.id;
        poly.viewurl = routeData.link;
        poly.shortdescription = routeData.shortdescription;
        
        poly.addTo(map);
        
        poly.on('click', routeMarkerClick)
        
        routesArray.push(poly)
        var routeindex = routesArray.length-1
        
        if (map.getZoom() > 14) {
			var em = L.marker(poly.getLatLngs()[poly.getLatLngs().length-1],{
				icon: L.icon({
					iconUrl: '/images/icons/route_finish.png',
					iconSize:     [32, 32]
				}),
				title: 'Кінець маршруту',
				}).addTo(map);
			
			var sm = L.marker(poly.getLatLngs()[0],{
				icon: L.icon({
					iconUrl: '/images/icons/route_start.png',
					iconSize:     [32, 32]
				}),
				title: 'Початок маршруту',
				}).addTo(map);
				
			sm.routeindex = routeindex;
			routesMarkersArray.push(sm)

			em.routeindex = routeindex;
			routesMarkersArray.push(em)
			
			sm.on('click',routeMarkerClick);
			em.on('click',routeMarkerClick);
			
		}

        		
		return true;
	}
	function displayPolygone(polData, liteVer = false, longTitle = false)
    {
		// Define the LatLng coordinates for the polygon's path.
        var coords = []

        var pol = polData.polygone || polData.polygon
        
        for (var i = 0; i < pol.length; i++) {
			coords.push([pol[i][0], pol[i][1]])
		}

		var vFillOpacity = 0.3;
		
		if (liteVer == true) {
			var vFillOpacity = 0.2;
			
			if (map.getZoom() > 12) {
				var vFillOpacity = 0.1;
			}
		}
		// Construct the polygon.
		var pol = L.polygon(coords, 
			{
			color: polData.color,
			opacity:0.8,
			weight:2,
			fillColor:polData.color,
			fillOpacity:vFillOpacity
			}).addTo(map);
        
        polygonesArray.push(pol)
        
        var cl = 'polygontitleonmap'
        
        if (longTitle) {
			cl = 'polygonlongtitleonmap'
		}
        
        if (liteVer != true) {
			var marker = L.marker(pol.getBounds().getCenter(),{
				icon: L.divIcon({ 
					className: cl,
					iconSize: new L.Point(200, 26), 
					html: polData.title
				}),
				title: polData.title,
			}).addTo(map);
			
			polygonesTitlesArray.push(marker);
			
			return [pol, marker]
		}
		return [pol, null]
	}
    
    function clearAllMarkers() 
    {
        for (var i = 0; i < markersArray.length; i++ ) {
            markersArray[i].remove()
        }
        markersArray.length = 0;
    }
    function clearAllTowns() 
    {
        for (var i = 0; i < townsArray.length; i++ ) {
            townsArray[i].remove()
        }
        townsArray.length = 0;
        
        for (var i = 0; i < townsMarkersArray.length; i++ ) {
            townsMarkersArray[i].remove()
        }
        townsMarkersArray.length = 0;
    }
    function clearAllRoutes() 
    {
    
        for (var i = 0; i < routesArray.length; i++ ) {
            routesArray[i].remove()
        }
        routesArray.length = 0;
        
        for (var i = 0; i < routesMarkersArray.length; i++ ) {
			routesMarkersArray[i].remove()
        }
        routesMarkersArray.length = 0;
        
        cleanAllPointsCache()
    }
    function clearInternetConnCover() 
    {
        for (var i = 0; i < internetCoverArray.length; i++ ) {
            internetCoverArray[i].remove()
        }
        internetCoverArray.length = 0;
    }
    function clearAllRegions() 
    {
        for (var i = 0; i < polygonesArray.length; i++ ) {
            polygonesArray[i].remove()
        }
        polygonesArray.length = 0;
        
        for (var i = 0; i < polygonesTitlesArray.length; i++ ) {
			polygonesTitlesArray[i].remove()
        }
        polygonesTitlesArray.length = 0
    } 
    function markerClick()
    {
        
        $('#markerinfodialogtitle').text(this.title)
        $('#markerinfodialogtitle').attr('href', this.viewurl)
        $('#markerinfodialoglink').attr('href', this.viewurl)
        $('#markerinfodialogphotos a').attr('href',this.viewurl)
        $('#markerinfodialogimage').attr('src',this.icon_url)
        $('#markerinfodialogdescription').html(this.description)
        
        $('#markerinfodialogphotos').hide()
        $('#markerinfodialogcomments').hide()
        $('#markerinfodialogloading').show()
        
        $('#markerinfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#markerinfodialogloading').hide()
                
                if(data.status=='ok'){
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'markerinfodialogcommentslist', 'markerinfodialogcommentslink', 'markerinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'markerinfodialogphotos')
                    }
                    
                    if (data.response.item.kind == "mount") {
						$('#markerinfodialogtitle').text(data.response.item.title + " ("+data.response.item.sealevel+")")
					} else {
                        $('#markerinfodialogtitle').text(data.response.item.title)
                    }
                }else{
                    alert(data.message);
                }
            }, "json");
    }
    function townPolygonClick()
    {
		
		$('#towninfodialogtitle').text(this.title)
        $('#towninfodialogtitle').attr('href', this.viewurl)
        $('#towninfodialoglink').attr('href', this.viewurl)
        $('#towninfodialogphotos a').attr('href',this.viewurl)
        $('#towninfodialogdescription').html(this.description)
        
        $('#towninfodialogdetails').html('')
        
        $('#towninfodialogphotos').hide()
        $('#towninfodialogcomments').hide()
        $('#towninfodialogloading').show()
        
        $('#towninfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#towninfodialogloading').hide()
                
                if(data.status=='ok'){
					//console.log('comments '+data.response.comments.commentscount)
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'towninfodialogcommentslist', 'towninfodialogcommentslink', 'towninfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'towninfodialogphotos')
                    }
                    var infohtml = data.response.item.kindtitle+' <br>'+data.response.item.districttitle+'<br><br>'
                    
                                        if (data.response.item.hastransportinfo == 'y') {
						infohtml += '<img src="/images/icons/bus-front-red.png" width="20"> &nbsp;'
					}
										if (data.response.item.hastrainstation == 'y') {
						infohtml += '<img src="/images/icons/train-front.png" width="20" > &nbsp;'
					}
					if (data.response.item.transportnode == 'y') {
						infohtml += '<img src="/images/icons/road-sign.png"  width="20"> &nbsp;'
					}
					if (data.response.item.important == 'y') {
						infohtml += '<img src="/images/icons/star.png"  width="20"> &nbsp;'
					}
                    
                    $('#towninfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
	function inetConnPolygonClick()
    {
		$('#inetcoveroperators').text(this.operators)
        
        $('#inetcoverdialog').modal('toggle');
	}
	function routeMarkerClick() {
		var poly = routesArray[this.routeindex]
		
		$('#routeinfodialogtitle').text(poly.title)
		var viewurl = poly.viewurl+"?backto=map"
		
        $('#routeinfodialogtitle').attr('href', viewurl)
        $('#routeinfodialoglink').attr('href', viewurl)
        $('#routeinfodialogphotos a').attr('href',viewurl)
        $('#routeinfodialogdescription').html(poly.shortdescription)
        
        $('#routeinfodialogdetails').html('')
        
        $('#routeinfodialogphotos').hide()
        $('#routeinfodialogcomments').hide()
        $('#routeinfodialogloading').show()
        
        $('#routeinfodialog').modal('toggle');
        
        var action = poly.viewurl+"?short=y&responseformat=json"

        $.get(action,
            function(data){
                $('#routeinfodialogloading').hide()
                
                if(data.status=='ok'){
					
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, viewurl,
							'routeinfodialogcommentslist', 'routeinfodialogcommentslink', 'routeinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'routeinfodialogphotos')
                    }
                    var infohtml = data.response.route.description+'<br><br>'
                    
                    $('#routeinfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
    function addCommentsToDialog(comments, allcommentsurl, infodialogcommentslist, infodialogcommentslink, infodialogcomments)
    {
        $('#'+infodialogcommentslist).html('')
        
        for (i=0;i<comments.comments.length;i++) {
            var c = comments.comments[i]
            
            var html = '<div class="row comment">';
            html += '<div class="row commentinfo">'+c.name+' - ';
            html += '<span class="commenttime">'+c.whenadded+'</span>';
            html += '</div>';
            if (c.photo == 'y') {
				var cm = c.comment
				
				if (cm == "") {
					cm = "[фото]"
				}
				html += '<div class="row">'
				html += '<div class="col-xs-6 col-sm-3 col-md-2"><img src="'+c.photoinfo.thumbviewurl+'" class="commentphoto"></div>'
				html += '<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment'+c.id+'">'+c.comment+'</div>'
				html += '</div>'
			} else {
				html += '<div class="row commenttext" id="comment'+c.id+'">'+c.comment+'</div>';
			}
            html += '</div>';
            
            $( "#"+infodialogcommentslist).append(html);
        }
        if (comments.commentscount > comments.comments.length) {
            $('#'+infodialogcommentslink+' span').text(comments.commentscount)
            $('#'+infodialogcommentslink+' a').attr('href',allcommentsurl)
            $('#'+infodialogcommentslink).show()
        }  else {
            $('#'+infodialogcommentslink).hide()
        }

        $('#'+infodialogcomments).show()
    }
    function addPhotoToDialog(photos, infodialogphotos)
    {

        $('#'+infodialogphotos+' img').attr('src',photos.photos[0].photoinfo.thumbviewurl)
        $('#'+infodialogphotos+' span').text(photos.photoscount)
        
        $('#'+infodialogphotos).show()
        
        if ($('#'+infodialogphotos+' .thumbnail').width() > $('#'+infodialogphotos+' .thumbnail').height()) {
            $('#'+infodialogphotos+' .thumbnail').height($('#'+infodialogphotos+' .thumbnail').width())
        }
    }
    // ======================================================================
    
</script>


<script>
	var allPointsShiftCoef = 0.0002
	var allPointsOnRoutes = {}
	
    function getBoundaries() {
		var bounds = map.getBounds();
        var southWest = bounds.getSouthWest();
        var northEast = bounds.getNorthEast();
            
        			return {
                "boundNorthEastLat":northEast.lat,
                "boundSouthWestLat":southWest.lat,
                "boundNorthEastLng":northEast.lng,
                "boundSouthWestLng":southWest.lng
                }
        	}
    function roundCoord(num)
    {
        return Math.round(num * 100000) / 100000
    }
    function truncateString(content, limit) {
        if (content.length > limit) {
            return content.substring(0, limit);
        }
        return content
    }
    function saveMapState() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat; 
        var mapLng = mapCentre.lng; 
        var mapType = 'STD';
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("MapCookie",cookiestring, 30, 'y');
    } 
	function loadAndGetMapState() { 
        var gotCookieString=getCookie("MapCookie"); 

        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            
        
                        
			var b= {
                "boundNorthEastLat":50.663537,
                "boundSouthWestLat":47.204799,
                "boundNorthEastLng":27.390398,
                "boundSouthWestLng":22.034563
                }
            
            
            if (savedMapLat < boundSouthWestLat || savedMapLat > boundNorthEastLat) {
                return [0, 0, 0, 0];
            }
            if (savedMapLng < boundSouthWestLng || savedMapLng > boundNorthEastLng) {
                return [0, 0, 0, 0];
            }
            
            
			return [1, savedMapLat, savedMapLng, savedMapZoom];
        }

        return [0, 0, 0, 0];
    }
    function loadMapState() { 
        var st = loadAndGetMapState()
        
        if (st[0] == 1) {
			savedMapLat = st[1]
			savedMapLng = st[2]
			savedMapZoom = st[3]

			map.panTo(new L.LatLng(savedMapLat,savedMapLng));

            map.setZoom(savedMapZoom);
        }
    }
    function saveMapStateGoogle() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat(); 
        var mapLng = mapCentre.lng(); 
        var mapType = map.getMapTypeId();
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("GoogleMapCookie",cookiestring, 30, 'y');
    } 

    function loadMapStateGoogle() { 
        var gotCookieString=getCookie("GoogleMapCookie"); 
        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            map.setCenter(new google.maps.LatLng(savedMapLat,savedMapLng));
            map.setZoom(savedMapZoom);
        }
        
        if (splitStr.length > 3 && splitStr[3].length > 0) {
            var mapType = splitStr[3]
            if (mapType == "OSML" || mapType == "STD") {
                mapType = "OTM";
            }

            map.setMapTypeId(mapType);
        }
    }
    function initMapWithOSM(mapdivid,centerPoint, allowOutdors = false, mapType = "")
    {
		
        var mapTypeIds = [];
        for(var type in google.maps.MapTypeId) {
            mapTypeIds.push(google.maps.MapTypeId[type]);
        }
        mapTypeIds.push("OSM");
        mapTypeIds.push("OTM");
        
        if (allowOutdors) {
            mapTypeIds.push("OSMO");
        }
        
        if (mapType == "") {
            mapType = "OSM";
        }
        
        if (mapType == "OSML") {
            mapType = "OTM";
        }
        
        var map = new google.maps.Map(document.getElementById(mapdivid), {
                center: centerPoint,
                zoom: 11,
                mapTypeId: mapType,
                mapTypeControl: true,
                streetViewControl: false,
				mapTypeControlOptions: {
					mapTypeIds: mapTypeIds
				}
        });
        
        map.mapTypes.set("OSM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.openstreetmap.org/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OTM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://maps.vpohid.com.ua/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OpenTopoMaps",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OSMO", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.thunderforest.com/outdoors/" + zoom + "/" + coord.x + "/" + coord.y + ".png?apikey=bb9e57ff4e8743328dad2e1aafbb7c6f";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM Outdoors",
		  maxZoom: 18
		}));
		return map
	}
	function initMapStandard(mapdivid,centerPoint)
    {
		
        var map = L.map(mapdivid).setView([centerPoint.lat, centerPoint.lng], 11);
		//L.tileLayer.provider('OpenTopoMap',{
		//		lang: 'en'
		//	}).addTo(map);
		L.tileLayer('https://maps.vpohid.com.ua//{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);
		//L.tileLayer.provider('OpenStreetMap').addTo(map);
      
		return map
	}
	function updateShiftCoef()
    {
		if (map.getZoom() > 17) {
			allPointsShiftCoef = 0.00001
		} else if (map.getZoom() > 16) {
			allPointsShiftCoef = 0.00002
		} else if (map.getZoom() > 15) {
			allPointsShiftCoef = 0.00005
			
		} else if (map.getZoom() > 14) {
			allPointsShiftCoef = 0.0001
			
		} else if (map.getZoom() > 13) {
			allPointsShiftCoef = 0.0002
		} else {
			allPointsShiftCoef = 0.0003
		}
	}
	function cleanAllPointsCache()
	{
		allPointsOnRoutes = {}
	}
	function getAllPointsKey(point)
	{
		return parseFloat(point[0]).toFixed(6).toString()+':'+parseFloat(point[1]).toFixed(6).toString()
	}
	function correctAllPointsPoint(point) {
		var key = getAllPointsKey(point)
		
		if (key in allPointsOnRoutes) {
			var k1 = ((parseFloat(point[0])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			var k2 = ((parseFloat(point[1])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			return [k1, k2]
		}
		return [point[0], point[1]]
	}
	function addToAllPoints(pointslist) {
		var checked = []
		
		for (var i = 0; i< pointslist.length; i++) {
			var key = getAllPointsKey(pointslist[i])
		
			if (checked.includes(key)) {
				continue
			}
			checked.push(key)
			
			if (key in allPointsOnRoutes) {
				allPointsOnRoutes[key] = allPointsOnRoutes[key] - (-1)
			} else {
				allPointsOnRoutes[key] = 1
			}
		}
		//console.log(allPointsOnRoutes)
	}
	function getGoodMapTextColor() {
		var tColor = "white"
		
		if (map.getMapTypeId() != google.maps.MapTypeId.HYBRID && map.getMapTypeId() != google.maps.MapTypeId.SATELLITE) {
			tColor = "brown"
		}
		
		return tColor
	}
</script>


<link rel="stylesheet" href="/components/leaflet/leaflet.css" />
<link rel="stylesheet" href="/components/leaflet/leaflet-measure.css" />
<script src="/components/leaflet/leaflet.js"></script>
<script src="/components/leaflet/leaflet-providers.js"></script>
<script src="/components/leaflet/leaflet-measure.en.js"></script>



    </section>
    
<section class="footersection">
    <footer class="container footer">
    <div class="container">
            </div>
    	<nav class="navbar navbar-default navbar-expand-xs">
	  <div class="container">
	    
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bottomnavbar" aria-expanded="true">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
		  <img src="/images/logo_200.png" width="46">
	      <a class="navbar-brand" href="#">В Похід Карпатами</a>
	    </div>
	
	    <div class="navbar-collapse collapse" id="bottomnavbar">
	      <ul class="nav navbar-nav ">
	        <li class="nav-item">
			  <a href="/map/">Карта</a>
			</li>
			<li class="nav-item">
			  <a href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
			</li>
			<li class="nav-item">
			  <a href="/contact/">Контакт</a>
			</li>
						<li class="nav-item">
				<a href="/pages/privacypolicy/Politika+privatnosti.htm">Приватність</a>
			</li>
												<li class="nav-item">
				<a href="/pages/termsofuse/Pravila+vikoristannya.htm">Правила користування</a>
			</li>
				      </ul>
	      <ul class="nav navbar-nav navbar-center">
	        <li class="nav-item">
			  <a href="/forum/">Форум</a>
			</li>
			<li class="nav-item">
			  <a href="/chat/">Чат</a>			
			</li>
			
	      </ul>
	      <ul class="nav navbar-nav navbar-right hidden-xs">
	        				<li class="nav-item text-center"><a href="https://www.facebook.com/vpohid.com.ua/" target="_blank"><i class="fab fa-facebook fa-fw fa-3x"></i></a></li>
													<li class="nav-item text-center"><a href="https://www.instagram.com/vpohid_com_ua/" target="_blank"><i class="fab fa-instagram fa-fw fa-3x" ></i></a></li>
										<li class="nav-item text-center"><a href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" target="_blank"><i class="fab fa-youtube fa-fw fa-3x" ></i></a></li>
				      </ul>
	    </div>
	  </div>
	</nav>

			<div class="row text-center">
				<div class="col-xs-12 visible-xs text-center">
													<a title="facebook" target="_blank" href="https://www.facebook.com/vpohid.com.ua/" class="btn-social btn-md btn-facebook">
								<i class="fab fa-facebook" ></i>
						  	</a>
																									<a title="Instagram" target="_blank" href="https://www.instagram.com/vpohid_com_ua/" class="btn-social btn-md btn-instagram">
								<i class="fab fa-instagram"></i>
							</a>
																			<a title="Youtube" target="_blank" href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" class="btn-social btn-md btn-youtube">
								<i class="fab fa-youtube"></i>
							</a>
											
				</div>
				<div class="col-xs-12 col-sm-4 text-center">
					<div class="row">
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking"><img src="/images/android-app-icon.png" width="100%"></a>
						</div>
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001"><img src="/images/ios-app-icon.png" width="100%"></a>
						</div>
					</div>
				</div>
				<div class="col-xs-10 col-xs-offset-1 col-sm-6 text-center">
					<form action="/browse/" class="form" role="form" method="POST" id="filterform">
					<label for="searchfilter" class="frontlabel reversed-text">Знайти на сайті:</label> 
					<input type="text" id="searchfilter" name="filter" value="" class="form-control" placeholder="Пошук">
					</form>
				</div>
			</div>
            <div class="row text-center">
                    <hr class="small">
					<div class="col-xs-12 col-sm-9">
                    <p class="text-muted reversed-text">Copyright &copy; Roman Gelembjuk
                    
                                        2019 - 2025
                    										&nbsp;&nbsp;&nbsp;&nbsp;
					Web-site design concept by Anna Maimurenko
						
                    </p>
					</div>
					<div class="col-xs-12 col-sm-3 text-right">
						<button type="button" data-cc="c-settings">🍪 Cookies</button>
					</div>
            </div>
    </footer>
 </section>   
 <div id="loginformext" class="modal fade" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
    <div class="modal-header">
		<h3 class="panel-title">Будь ласка, ввійдіть</h3>
	</div>
	<div class="modal-body">
			<div class="row modal-header" id="loginformmessage"></div>
		
			<div class="row">
				
				<div class="col-md-7" style="border-right:1px solid #ccc;height:180px">
				<form action="/login/d/login/" method="POST" class="form-horizontal">
					<fieldset>
			
					<input name="email" type="text" placeholder="Email Адреса" class="form-control input-md">
					<div class="spacing"><input type="checkbox" name="rememberme" value="y"><small> Запам’ятати мене</small></div>
					<input name="password" type="password" placeholder="Пароль" class="form-control input-md">
					<div class="spacing"><a href="/login/v/forgot/"><small> Забув пароль?</small></a><br/></div>
					
					<div class="row">
						<div class="col-xs-6"	>	
						<button type="submit" class="btn btn-info pull-left">Вхід</button>
						</div>
						<div class="col-xs-6"	>			
						<a href="/login/v/register/" class="btn btn-warning pull-right" role="buttont">Зареєструватися</a>
						</div>
					</div>
					</fieldset>
				</form>
				</div>
								<div class="col-md-5 text-center" >
					<ul>
					<li><small class="text-muted">швидкий вхід із</small></li>
										<li><a href="/login/d/sociallogin/facebook/" class="btn btn-l btn-fb"><i class="fab fa-facebook"></i> Facebook</a></li>
															<li><a href="/login/d/sociallogin/twitter/" class="btn btn-l btn-tw"><i class="fab fa-twitter"></i> Twitter</a></li>
															<li><a href="/login/d/sociallogin/google/" class="btn btn-l btn-gp"><i class="fab fa-google"></i> Google</a></li>
																				<li><a href="/login/d/sociallogin/apple/" class="btn btn-l btn-ap"><i class="fab fa-apple"></i> Apple</a></li>
										</ul>
				</div>
							</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="fa fa-close"></i> Закрити</button>
	</div>
	</div>
	</div>
	</div>
</div>
<script type="text/javascript">
var iserislogedin=0;

function loginRequired(message){
	if(iserislogedin>0) return true;
	$('#loginformmessage').html(message);
	$('#loginformext').modal('toggle');
	
	return false;
}

</script>


<script src="/components/bootstrap/js/bootstrap.min.js"></script>
<script defer src="/components/cookieconsent/cookieconsent.js"></script>
<script type="text/javascript">
	var privacyPolicy = "/pages/privacypolicy/Politika+privatnosti.htm";	
	var contactPage = "/contact/";	
</script>
<script defer src="/components/cookieconsent/cookieconsent-init.js"></script>

    
</body>
</html>
