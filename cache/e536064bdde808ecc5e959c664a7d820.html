<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link type="image/x-icon" href='/images/favicon.ico' rel='shortcut icon' />

    <title>Маршрут Горган-Ілемський з Мислівки. На сайті "В Похід Карпатами"</title>
    
    <meta name="description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.'>
    
    <meta name="author" content="">
    
    <meta property="og:type" content="website" />    
    <meta property="fb:app_id" content="560240094486420" />
    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta property="og:url" content="https://vpohid.com.ua/routes/v/route/106/" />    
<meta property="og:title" content='Маршрут Горган-Ілемський з Мислівки. На сайті &quot;В Похід Карпатами&quot;' />    
<meta property="og:description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.' />    
<meta property="og:image" content="https://vpohid.com.ua/def/v/socialimage/route106/" />
    <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <LINK type="text/css" rel="stylesheet" href="/css/basetheme.css">
    <LINK type="text/css" rel="stylesheet" href="/css/app.css?20250607131441">
    <LINK type="text/css" rel="stylesheet" href="/css/customstyle.css?20250530141609">
    
    <link href="/components/font-awesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="/components/cookieconsent/cookieconsent.css" rel="stylesheet" >
    
    <script src="/components/jquery/jquery.min.js"></script>
    <script src="/js/common.js?4"></script>
    
      </head>
 <body class="shortheader" >

<section class="defaultheadercontainer">

<div class="container-fluid" id="topnavigation">

<nav class="topnavbar navbar navbar-default">
	<div class="container navbarcontainer">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsednavbar" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">
			<img src="/images/logo_200.png" width="46">
			<span >В Похід<br>Карпатами</span>
			</a>
		</div>

		<div class="collapse navbar-collapse" id="collapsednavbar">
			
			<ul class="nav navbar-nav navbar-nav-right" id="rightnavbar">
				
				<li></li>

								<li class="nav-item ">
					<a class="nav-link btn btn-default" href="#" data-toggle="modal" data-target="#ai_mcp_modal_div">
						<img src="/images/icons/chatbot.png" width="24"> AI Connect</a>
				</li>
								
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="routesdropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Маршрути <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="routesdropdown">
						<a class="dropdown-item" href="/routes/">Маршрути</a>
						<a class="dropdown-item" href="/map/">Карта</a>
						<a class="dropdown-item" href="/browse/">Місця</a>
						<a class="dropdown-item" href="/towns/">Села та Міста</a>
						<a class="dropdown-item" href="/browse/?kindlist=mount&">Гірські вершини</a>
												<a class="dropdown-item" href="/browse/?filter=%D0%9E%D0%B7%D0%B5%D1%80%D0%BE&kindlist=lake&">Озера</a>
																		<a class="dropdown-item" href="/browse/?filter=%D0%92%D0%BE%D0%B4%D0%BE%D1%81%D0%BF%D0%B0%D0%B4&kindlist=lake&">Водоспади</a>
												<a class="dropdown-item" href="/browse/?kindlist=placeofinterest&">Цікаві місця</a>
					</div>
				</li>
				
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Спільнота <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
						<a class="dropdown-item" href="/chat/">Чат</a>
						<a class="dropdown-item" href="/forum/">Форум</a>
											</div>
				</li>

				<li class="nav-item visible-xs active">
					<a class="nav-link special" href="/routes/">Маршрути</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link special" href="/map/">Карта</a>
				</li>
									<li class="nav-item visible-xs">
						<a class="nav-link" href="/guides/">Гіди</a>
					</li>
													<li class="nav-item visible-xs">
						<a class="nav-link" href="/shop/">Спорядження</a>
					</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/weather/">Погода</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/forum/">Форум</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/chat/">Чат</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/quests/">Квести</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/blog/">Блог</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/pages/v/handbook/">Довідник</a>
				</li>
				
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/about/">Про сайт</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/developer/">Розробник</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/contact/">Контакт</a>
				</li>
				 
				<li class="nav-item hidden-xs">
					<a class="nav-link" href="#"><i class="fas fa-search"></i></a>
				</li>
																<li class="nav-item dropdown" id="loginformdropdown">
				<a href="#" class="dropdown-toggle " data-toggle="dropdown">
					<i class="far fa-user"></i> <span class="caret"></span></a>
				<ul id="login-dp" class="dropdown-menu">
				<li >
				<div class="row">
					
					<div class="col-md-12">
					 <form class="form" role="form" method="POST" action="/json/login/d/login/" accept-charset="UTF-8" id="login-nav">
						<input type="hidden" name="afterloginredirect" value="" >
						
						<div class="form-group">
							 <label class="sr-only" for="login">Email Адреса</label>
							 <input type="text" class="form-control" name="email" placeholder="Email Адреса" 
							 	required id="login-nav-email">
						</div>
						<div class="form-group">
							 <label class="sr-only" for="password">Пароль</label>
							 <input type="password" class="form-control" name="password" placeholder="Пароль" required>
							 <div class="help-block text-right"><a href="/login/v/forgot/">Забув пароль</a></div>
						</div>
						<div class="form-group text-danger text-center" id="login-nav-error" style="display:none;">
							 
						</div>
						<div class="form-group">
							 <button type="submit" class="btn btn-primary btn-block" id="loginformsubmit">Вхід</button>
						</div>
						<div class="checkbox">
							 <label>
							 <input type="checkbox" name="rememberme" value="y"> Запам’ятати мене
							 </label>
						</div>
					</form>
					<script type="text/javascript">
					
					$(function() {	
						$( "#login-nav" ).submit(function(e) {

							e.preventDefault();
							$('#login-nav-error').hide();
							$("#loginformsubmit").attr('disabled','disabled');
							$.ajax({
								type: "POST",
								url: $("#login-nav").attr('action'),
								dataType: "json",
								data: $("#login-nav").serialize(), 
								success: function(data)
								{
									if(data.status!='ok'){
										$('#login-nav-error').text(data.message);
										$('#login-nav-error').show();
										$("#login-nav-email").focus();
										$("#loginformsubmit").removeAttr('disabled');
									}else{
										window.location.href = getThisUrlToReload(data.response.redirecturl);
									}
								}
							});
						});
						
					});
					
					</script>
					</div>
				</div>
								<div class="row">
					<div class="col-md-12">
						<span class="hint">швидкий вхід із</span> 
						<div class="social-buttons">
												<a href="/login/d/sociallogin/facebook/" class="btn btn-fb"><i class="fab fa-facebook"></i> Facebook</a>
																		<a href="/login/d/sociallogin/twitter/" class="btn btn-tw"><i class="fab fa-twitter"></i> Twitter</a><br>
																		<a href="/login/d/sociallogin/google/" class="imagebtn btn">
							<img src="/images/google_signin.png" width="100%">
						</a>
																								<a href="/login/d/sociallogin/apple/" class="btn btn-ap"><i class="fab fa-apple"></i> Apple ID</a>
												</div>
					</div>
				</div>
								<div class="bottom text-center">
					<a href="/login/v/register/" class="btn btn-danger btn-block"><b>Зареєструватися</b></a>
				</div>
				
				</li>
				</ul>
			</li>
       
				
				<li class="nav-item dropdown hidden-xs">
					<button type="button" class="navbar-toggle navbar-toggle-visible" id="commondropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="dropdown-menu" aria-labelledby="commondropdown">
												<a class="dropdown-item" href="/guides/">Гіди</a>
						
												<a class="dropdown-item" href="/shop/">Спорядження</a>
						
												<a class="dropdown-item" href="/quests/">Квести</a>
						
												<a class="dropdown-item" href="/pages/v/handbook/">Довідник</a>
						
						<a class="dropdown-item" href="/weather/">Погода</a>
						<a class="dropdown-item" href="/blog/">Блог</a>
						<a class="dropdown-item" href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
                        <a class="dropdown-item" href="/pages/developer/Informatsiya+pro+rozrobnika.htm">Розробник</a>
						<a class="dropdown-item" href="/contact/">Контакт</a>
					</div>
				</li>

				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
							<span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
												<a class="dropdown-item" href="/de/routes/v/route/106/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="24">
							German</a>
												<a class="dropdown-item" href="/en/routes/v/route/106/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="24">
							English</a>
												<a class="dropdown-item" href="/pl/routes/v/route/106/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="24">
							Polish</a>
												<a class="dropdown-item" href="/routes/v/route/106/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="24">
							Ukrainian</a>
											</div>
				</li>
			</ul>
			
		</div><!-- /.navbar-collapse -->
		<div class="row visible-xs languageselectorxs">
		<div class="col-xs-12">
			<div class="row text-right">
									<span class="languageitem">
										<a href="/de/routes/v/route/106/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/en/routes/v/route/106/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/pl/routes/v/route/106/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="18">
										</a>					</span>
									<span class="languageitem">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
															</span>
								&nbsp;&nbsp;
			</div>
		</div>
		</div>
	</div><!-- /.container-fluid -->
</nav>
<div id="ai_mcp_modal_div" class="modal fade" role="dialog">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal">&times;</button>
		  <h4 class="modal-title"><img src="/images/icons/chatbot.png" width="24"> AI Connect - Інтеграція з AI-чатом</h4>
		</div>
		<div class="modal-body">
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<p class="muted" style="font-size:x-small">Цей сайт може бути інтегрований з вашим улюбленим AI-чатом, наприклад, Claude Desktop, CleverChatty CLI та інші.</p>
					<p class="muted" style="font-size:xx-small">AI-чат повинен підтримувати MCP (Model Context Protocol) для роботи з цим сайтом.</p>
					<p class="muted" style="font-size:x-small">Скопіюйте це MCP URL та додайте до налаштувань вашого AI-чату.</p>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-6 text-center">
							<a href="#">
								<img src="/images/icons/chatgpt.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
						<div class="col-xs-6">
							<a href="#">
								<img src="/images/icons/claude.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
					</div>
				</div>
			</div>
		  
		</div>
		<div class="modal-footer">
			<div class="row form-group">
				<label class="control-label col-sm-2" for="urlInput">MCP URL:</label>
				<div class="col-sm-10">
					<input type="text" id="urlInput" class="form-control" 
						value="http://vpohid.com.ua:8888/sse/" readonly onclick="this.select();" />
				</div>
			</div>
		</div>
	  </div>
	</div>
</div>
</div>
	<section class="container headershort">
		<div class="row text-center">
			<div class="col-xs-6 col-sm-3">
				<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001" class="btn craft-btn">
				<span class="fab fa-apple"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Apple iOS</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
				<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking" class="btn craft-btn">
				<span class="fab fa-android"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Android</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
								<a href="/pages/donate/Pidtrimayte+proekt+finansovo.htm" class="btn craft-btn">
				<span class="fa fa-usd"></span>
				<div class="craft-btn-content">
					<h6>Підтримайте проєкт</h6>
					<h4>DONATE</h4>
				</div>
				</a>
							</div>
			<div class="col-xs-6 col-sm-3">
								 
				<a href="https://www.tsypa.beer/" class="btn craft-btn sponsor-btn">
										<img src="/images/sponsor/web_logo_mini.png?2">
									<div class="craft-btn-content">
					<h6>Наш спонсор</h6>
					<h4>ЦИПА</h4>
				</div>
				</a>
											</div>
        </div>
		
	</section>
</section>      
    <section class="container" id="content">
	    
        
<div class="panel panel-default">
    <div class="panel-heading ">
		<div class="row">
        <div class="col-xs-4">

		        <a href="/routes/"><i class="fas fa-long-arrow-alt-left"></i><span class="hidden-xs"> Назад до списку</span></a>
		        </div>
        <div class="col-xs-8 text-right">
                    </div>
		</div>
    </div>
    <div class="panel-body routeview">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-9 col-lg-10">
                <div class="row routetitle">
                    <div class="col-xs-1">
                        <span style="color:#038a10"><i class="fas fa-square fa-lg"></i></span>
                    </div>
                    <div class="col-xs-11">
                        <h2>Горган-Ілемський з Мислівки</h2>
                    </div>
                    
                </div>
                <div class="row ">
                    
                    <div class="col-sm-6 col-xs-12 " id="leftcol">
                        
                        <div class="row shortdescription">
                            Похід в Горгани з села Мислівка. Підйом на гору Горган-Ілемський
                        </div>
                        
                        <div class="row">
                            <div class="col-xs-8">
                                                                <span class="text-muted">Старт з населеного пункту: </span><a href="/towns/v/town/99/">Мислівка</a>
                                                            </div>
                            <div class="col-xs-4 text-right text-muted">
                                <span class="text-info">24.3 км</span><br>
                                <span class="text-dark">0 дні(в)</span><br>
                                <span class="text-muted">Рівень: Любитель</span>
                            </div>
                        </div>
                        
                        <div class="row routemounts">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Вершини на маршруті: </span>
                                                                                                                                <a href="/map/v/item/522/">Ґорґан Ілемський</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1205/">Пустошак Великий</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/1206/">Пустошак Малий</a>
                                                                
                                                                                            </div>	
                        </div>
                        <div class="row routeinterestingplaces">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Цікаве на маршруті: </span>
                                                                                                                                <a href="/map/v/item/390/">Місце катастрофи військового літака</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/4950/">Велетенські стовбури</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5173/">Водоспад Правич</a>
                                                                
                                                                                            </div>	
                        </div>
                                                <div class="row routeweather">
                            <div class="col-xs-12">
                                <span class="text-muted">Прогноз погоди в населених пунктах в районі маршруту: </span>
                            </div>
                            <div class="col-xs-2">
                                <img src="/images/icons/cloud.png" width="48">
                            </div>
                            <div class="col-xs-10">
                                
                                <ul>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/99/?kind=town&">Мислівка</a></li>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/82/?kind=town&">Осмолода</a></li>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/100/?kind=town&">Вишків</a></li>
                                                                </ul>
                            </div>	
                        </div>
                                                
                    </div>
                    <div class="col-sm-6 col-xs-12" >
                                                <div class="row text-right"><a href="/profile/v/public/0/?edit=y&addroute=106&">
                                <i class="fas fa-address-card"></i> Я пройшов цей маршрут</a></div>
                                                <div class="row description">Сходження на гору Горган-Ілемський з села Мислівка.
Ви можете пройти за день без ночівлі. Але це займе весь день і треба бути в хорошій фізичній формі. 
Або з ночівлею. Можна розташувати табір на полонині Мшана</div>
                        
                                                <div class="row routeguides">
														<div class="col-xs-12">
								<div><b>Гіди на цьому маршруті</b></div>
																	
																		<div class="row guideline">
										<div class="col-xs-2">
										<img src="/guides/v/photo/24/" width="50">  
										</div>
										<div class="col-xs-10">
										<b><a href="/guides/v/guide/24/" >TURE</a></b><br>
										<span class="text-muted">Організовуємо походи в Карпатах протягом усього року різної тривалості та складності. Локації трекінгових мандрівок: Чорногора, Свидовець, Ґорґани тощо. Наша мережа кемпів «Білий Слон» пропонує мандрівникам проживання, харчування та інші послуги: гірська хатина «Білий Слон Ґаджина» (1100 м н. р. м.), кемп «Білий Слон Дземброня» (720 м н. р. м.).</span>
										</div>
									</div>
																																										<div class="guideline text-muted text-center">
									Ви гід? <a href="/guides/">Покажіть свої послуги тут</a>
								</div>
															</div>	
                        </div>
							
                                            </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-2 hidden-xs hidden-sm">
                            </div>
        </div>
		        <div class="row text-left hidden-md hidden-lg">
                    </div>
                <div class="row" id="mapout">
			<div id="map"></div>
		</div>
		<div class="row text-center" style="margin-bottom:30px;">
            <a href="/map/?mclat=48.79173700&mclng=23.770626000&mz=14&" >Показати на загальній карті</a>
		</div>
		<div class="row text-center">
                    </div>
                <div class="row text-center">
            <h3>3D відео анімація цього маршруту</h3>
        </div>
        <div class="row text-center">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
				<div class="youtubeVideoWrapper">
                <iframe src="https://www.youtube.com/embed/nFEHpEpznrE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
            </div>
    </div>
<div class="row">
	<div class="col-sm-12">
		<div class="row">
						<div class="col-md-6 col-sm-12 objectphotos">
				                												                                				<script src="/js/comments.js"></script>
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
            <div class="col-xs-6 h3">
            Фотогалерея
            </div>
            <div class="col-xs-6">
				                            </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="row photogallery" id="photogallerydiv">
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb7973">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/7973_1000.jpg" 
                        id="photourl7973"
                        data-footer="Пройшли маршрут за 10 годин, як на мене початок з Мислівки через Пустошаки і на Горган-Ілемський дуже вдала ідея, так як зразу йде підйом висоти. Бо якщо йти в сторону Яйка-Ілемського та звідти поверати то будьте готові до такого дикуватого набору висоти. Можна було б сказати, що маршрут крутий та класний але вирубки лісу від Мислівки до Яйка паскудять всі враження, мов йдеш по території якогось апокаліпсису." 
                        data-image-id="" 
                        data-addedby="Дмитро" 
                        data-whenadded="2021, 12 вересня, 12:12" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/7973.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/7973_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/7973_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/7973_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/7973_300.jpg" alt="Пройшли маршрут за 10 годин, як на мене початок з Мислівки через Пустошаки і на Горган-Ілемський дуже вдала ідея, так як зразу йде підйом висоти. Бо якщо йти в сторону Яйка-Ілемського та звідти поверати то будьте готові до такого дикуватого набору висоти. Можна було б сказати, що маршрут крутий та класний але вирубки лісу від Мислівки до Яйка паскудять всі враження, мов йдеш по території якогось апокаліпсису." style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb4620">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/4620_1000.jpg" 
                        id="photourl4620"
                        data-footer="Німецька полонина" 
                        data-image-id="" 
                        data-addedby="Yulia Stelmakh" 
                        data-whenadded="2021, 13 червня, 12:08" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/4620.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/4620_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/4620_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/4620_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/4620_300.jpg" alt="Німецька полонина" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2038">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2038_1000.jpg" 
                        id="photourl2038"
                        data-footer="Пол. Німецька. Жовтень 2020" 
                        data-image-id="" 
                        data-addedby="Den Belitskiy" 
                        data-whenadded="2020, 17 жовтня, 04:56" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2038.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2038_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2038_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2038_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2038_300.jpg" alt="Пол. Німецька. Жовтень 2020" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2009">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2009_1000.jpg" 
                        id="photourl2009"
                        data-footer="Пустошак великий" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:38" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2009.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2009_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2009_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2009_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2009_300.jpg" alt="Пустошак великий" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2008">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2008_1000.jpg" 
                        id="photourl2008"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:37" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2008.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/comments\/v\/photo\/2008\/?thumb=100&","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2008_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2008_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2008_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2007">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2007_1000.jpg" 
                        id="photourl2007"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:36" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2007.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/comments\/v\/photo\/2007\/?thumb=100&","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2007_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2007_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2007_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2006">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2006_1000.jpg" 
                        id="photourl2006"
                        data-footer="Пустошак малий" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:33" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2006.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2006_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2006_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2006_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2006_300.jpg" alt="Пустошак малий" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2005">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2005_1000.jpg" 
                        id="photourl2005"
                        data-footer="Німецька полонина" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:31" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2005.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2005_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2005_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2005_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2005_300.jpg" alt="Німецька полонина" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb2004">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/2004_1000.jpg" 
                        id="photourl2004"
                        data-footer="Підніжжя гори
 Горган Ілемський" 
                        data-image-id="" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:30" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2004.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2004_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2004_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/2004_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/2004_300.jpg" alt="Підніжжя гори
 Горган Ілемський" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        
                        </div>
        </div>
        </div>
   

<div id="photoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="photoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-10">
				<div class="row">
					<div class="col-xs-2 col-md-1 text-left">
						<button type="button" class="btn btn-primary" id="show-previous-image"><i class="fas fa-angle-double-left"></i></button>
					</div>
					<div class="col-xs-2 col-md-1 text-right">
						<button type="button" id="show-next-image" class="btn btn-info"><i class="fas fa-angle-double-right"></i></button>
					</div>
					<div class="col-xs-8 col-md-10 text-center text-muted" id="photoviewdialoginfo"></div>
				</div>
                <div class="row">
					<div class="col-xs-12 col-md-10 col-md-offset-1 text-center" id="photoviewdialogcaption"></div>
                </div>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    var setClickAttr = '.thumbnail a.thumbnaila';
    $(function() {
            $('body').on('click', '.editphoto', function(e) {
                    e.stopPropagation();
              
                    if ($('#editcommentlink'+$(this).attr("photoid")).length) {
						$('#editcommentlink'+$(this).attr("photoid")).click()
						return ;
					}
                    $('#editcommentarea').val($('#photourl'+$(this).attr("photoid")).attr('data-footer'));
                    $('#commentid').val($(this).attr("photoid"));

                    var selector = $('#photourl'+$(this).attr('photoid'));
                    var photoInfo = getPhotoLicenseInfo(selector);

                    if (photoInfo.license != "own") {
                        $('#editphotolicense').val(photoInfo.licenseid);
                        $('#editphotosource').val(photoInfo.photosource);
                        $('#editphotocopyright').val(photoInfo.photocopyright);
                        $("#editthisismyphoto").prop('checked', false);
                    } else {
                        $('#editphotosource').val('');
                        $('#editphotocopyright').val('');
                        $("#editthisismyphoto").prop('checked', true);
                    }
                    $("#editthisismyphoto").change();
                    
                    $('#editphotodiv').show()
					
                    $("#editcommentdialog").modal("toggle");
                    $('#editcommentarea').focus()
            });
            
            loadGallery();

            
            
            
    });
    function loadGallery(){
		var current_image,
			selector,
			counter = 0;

		$('#show-next-image, #show-previous-image').click(function(){
			if($(this).attr('id') == 'show-previous-image'){
				current_image--;
			} else {
				current_image++;
			}

			selector = $('[data-image-id="' + current_image + '"]');
			updateGallery(selector);
		});

		function updateGallery(selector) {
			var $sel = selector;
			current_image = $sel.data('image-id');
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#photoviewdialogcaption').html(caption)
			$('#photoviewdialoginfo').html(info)

			$('#photoviewdialogimg').attr('src',$sel.attr('href'))

			disableButtons(counter, $sel.data('image-id'));
			
			$("#photoviewdialog").modal("show");
		}

		
		$('[data-image-id]').each(function(){
			counter++;
			$(this).attr('data-image-id',counter);
		});
		
		$(setClickAttr).on('click',function(event){
			event.preventDefault();
			if(event.target.nodeName == 'IMG') {
				updateGallery($(this));
			}
		});
	}
	//This function disables buttons when needed
	function disableButtons(counter_max, counter_current){
		$('#show-previous-image, #show-next-image').show();
		console.log(counter_current+','+counter_max)
		if(counter_max == counter_current){
			$('#show-next-image').hide();
			
		}
		if (counter_current == 1){
			$('#show-previous-image').hide();
		}
	}
</script>


			</div>
			<div class="col-md-6 col-sm-12 objectcomments">
								<script src="/js/comments.js"></script>
        <div class="panel panel-default">
        <div class="panel-heading">
           <div class="row">
            <div class="col-xs-4 h3">
            Коментарі
            </div>
            <div class="col-xs-8 text-right">
				
				

    

<script>
    $(function() {
            $(".addcomment").click(function() {
                    if (!loginRequired("Лише зареєстровані користувачі можуть коментувати")) {
                        return;
                    }


            });

            


    });
    
</script>




                <button type="button" class="btn btn-info addcomment"><i class="fas fa-plus-circle"></i> 
					<span class="hidden-xs">Додати коментар або фото</span><span class="visible-xs">Додати</span></button>
            </div>
            </div>
        </div>
        <div class="panel-body" id="commentslist">
                        <div class="row comment" id="commentpanel22753">
                <div class="row commentinfo"><a name="comment22753"></a>perf - <span class="commenttime">2025-07-07 12:37:53</span>
                                                </div>
                <div class="row commenttext" id="comment22753">Вирішили розтягнути маршрут на 2 дні, йдучи ззаду наперед, починаючи зі сторони малого пустошака. Компанія складалась з 6 непідготовлених людей. В перший день вийшли на Горган Ілемський та трохи спустились до місця таборування.

На німецькій полонині дуже гарно, але було багато людей, тому ночували не там.

Якщо йти як ми, то перший день долаєте біля 70% маршруту, тому в другий день якщо вийти біля 9-10 ранку, вже в 13 будете на початку маршруту.

Загалом маршрут середній, не дуже складний і не особливо цікавий.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel13521">
                <div class="row commentinfo"><a name="comment13521"></a>devmind - <span class="commenttime">2023-05-29 09:28:56</span>
                                                </div>
                <div class="row commenttext" id="comment13521">Маршрут сподобався. Підіймався жовтим маршрутом з Мислівки. На самому початку після мосту вирубка, міток стежки не побачив. Перетинайте орієнтовно вздовж паркану. На тій стороні вже є жовта мітка на дереві при дорозі і від неї стежка забирає одразу круто в гору. Є повалені дерева, доведеться трохи полазити. Підйом особисто мені дався непросто, але погоджуся з думкою, що підійматись краще тут, ніж зі сторони Мшаної. Ночував на полонині Німецькій. Джерело в лісі на схилі, що відмічене на мапі ледве текло. Плюс довелось ще трохи попрацювати, щоби мати змогу набирати хоча б в горнятко. А от по центру самої полонини класне облаштоване джерело, сильне з чистою водою. Стежка через полонину йде майже поруч, тож пропустити буде важко. Як підійматиметесь на вершину, насолоджуйтесь видами по дорозі і фотографуйте, бо з самої вершини видно небагато. Під час спуску також чудові види, в першу чергу на Яйко-Ілемське. Величезна вирубка по дорозі дуже засмучує. Дорога в Мислівку синім маршрутом після спуску трохи одноманітна, але симпатична. Є кілька багнистих ділянок.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel8634">
                <div class="row commentinfo"><a name="comment8634"></a>Андрій Заяць - <span class="commenttime">2021-11-02 12:56:27</span>
                                                </div>
                <div class="row commenttext" id="comment8634">Йшли компанієм 5 людей. Маршрут йшов до гори від Мислівки через Малий та Великий Пустошак. Вертались по рівнині вздовж струмка.
В плюсів цього маршруту - це велика різноманітність. Так, здебільшого дорога йде лісом. Але цей ліс красивий і в деякій мірі "дикий" (нема відчуття що перед тобою стадом пройшлося багато людей). Навіть вирізані ліси та завали з дерев додавали свою атмосферу. Особисто вважаю, що тут дорога значно цікавіша за саму вершину.
З мінусів - це дорога назад. Йти близько 10 км по рінині це якось невесело. Це,мабудь сама легша і водночас важча частина походу (легко, бо просто йдеш і все; важко, бо втома дається чутись і дорога одноманітна). Компанія була перевірено, тому похід тривав 10 год. Але переконаний, що якби хтось не мав хорошої форми, то йшли б значно довше. Тому рекомендую йти на 2 дні.
Походом задоволений, але скоріш за все, 2 раз не піду туди)) А хоча...хто-зна</div>
                                
            </div>
                        <div class="row comment" id="commentpanel7973">
                <div class="row commentinfo"><a name="comment7973"></a>Дмитро - <span class="commenttime">2021-09-12 12:12:47</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/7973.jpg" 
                        id="commentphotourl7973"
                        commentid="7973"
                        data-footer="Пройшли маршрут за 10 годин, як на мене початок з Мислівки через Пустошаки і на Горган-Ілемський дуже вдала ідея, так як зразу йде підйом висоти. Бо якщо йти в сторону Яйка-Ілемського та звідти поверати то будьте готові до такого дикуватого набору висоти. Можна було б сказати, що маршрут крутий та класний але вирубки лісу від Мислівки до Яйка паскудять всі враження, мов йдеш по території якогось апокаліпсису." 
                        data-addedby="Дмитро" 
                        data-whenadded="2021, 12 вересня, 12:12" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/7973.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/7973_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/7973_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/7973_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/7973_100.jpg" class="commentphoto" id="commentphoto7973"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment7973">Пройшли маршрут за 10 годин, як на мене початок з Мислівки через Пустошаки і на Горган-Ілемський дуже вдала ідея, так як зразу йде підйом висоти. Бо якщо йти в сторону Яйка-Ілемського та звідти поверати то будьте готові до такого дикуватого набору висоти. Можна було б сказати, що маршрут крутий та класний але вирубки лісу від Мислівки до Яйка паскудять всі враження, мов йдеш по території якогось апокаліпсису.</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel6496">
                <div class="row commentinfo"><a name="comment6496"></a>Yaroslav - <span class="commenttime">2021-07-31 19:19:07</span>
                                                </div>
                <div class="row commenttext" id="comment6496">Цей маршрут займає 11.5 годин якщо йти постійно хорошим темпом.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel6470">
                <div class="row commentinfo"><a name="comment6470"></a>Roman Gelembjuk - <span class="commenttime">2021-07-31 08:45:07</span>
                                                </div>
                <div class="row commenttext" id="comment6470">Ви пройшли за день? Скільки часу зайняло?</div>
                                
            </div>
                        <div class="row comment" id="commentpanel6469">
                <div class="row commentinfo"><a name="comment6469"></a>Володимир Марків - <span class="commenttime">2021-07-31 08:43:52</span>
                                                </div>
                <div class="row commenttext" id="comment6469">Доволі одноманітний маршрут з постійним набором висоти. Ідеш переважно лісом, тому побачиш небагато. Якщо плануєш пройти за день, то це можливо, якщо дуже зранку вийти і так фізична підготовка вітається ;) Хоча як на мене оптимально йти з ночівлею.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel4620">
                <div class="row commentinfo"><a name="comment4620"></a>Yulia Stelmakh - <span class="commenttime">2021-06-13 12:08:03</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/4620.jpg" 
                        id="commentphotourl4620"
                        commentid="4620"
                        data-footer="Німецька полонина" 
                        data-addedby="Yulia Stelmakh" 
                        data-whenadded="2021, 13 червня, 12:08" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/4620.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/4620_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/4620_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/4620_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/4620_100.jpg" class="commentphoto" id="commentphoto4620"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment4620">Німецька полонина</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel2038">
                <div class="row commentinfo"><a name="comment2038"></a>Den Belitskiy - <span class="commenttime">2020-10-17 04:56:40</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/2038.jpg" 
                        id="commentphotourl2038"
                        commentid="2038"
                        data-footer="Пол. Німецька. Жовтень 2020" 
                        data-addedby="Den Belitskiy" 
                        data-whenadded="2020, 17 жовтня, 04:56" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2038.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2038_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2038_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/2038_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/2038_100.jpg" class="commentphoto" id="commentphoto2038"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment2038">Пол. Німецька. Жовтень 2020</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel2009">
                <div class="row commentinfo"><a name="comment2009"></a>Володимир Гораєцький - <span class="commenttime">2020-10-11 06:38:27</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/2009.jpg" 
                        id="commentphotourl2009"
                        commentid="2009"
                        data-footer="Пустошак великий" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:38" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2009.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2009_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2009_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/2009_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/2009_100.jpg" class="commentphoto" id="commentphoto2009"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment2009">Пустошак великий</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel2006">
                <div class="row commentinfo"><a name="comment2006"></a>Володимир Гораєцький - <span class="commenttime">2020-10-11 06:33:51</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/2006.jpg" 
                        id="commentphotourl2006"
                        commentid="2006"
                        data-footer="Пустошак малий" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:33" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2006.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2006_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2006_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/2006_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/2006_100.jpg" class="commentphoto" id="commentphoto2006"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment2006">Пустошак малий</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel2005">
                <div class="row commentinfo"><a name="comment2005"></a>Володимир Гораєцький - <span class="commenttime">2020-10-11 06:31:06</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/2005.jpg" 
                        id="commentphotourl2005"
                        commentid="2005"
                        data-footer="Німецька полонина" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:31" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2005.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2005_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2005_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/2005_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/2005_100.jpg" class="commentphoto" id="commentphoto2005"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment2005">Німецька полонина</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel2004">
                <div class="row commentinfo"><a name="comment2004"></a>Володимир Гораєцький - <span class="commenttime">2020-10-11 06:30:19</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/2004.jpg" 
                        id="commentphotourl2004"
                        commentid="2004"
                        data-footer="Підніжжя гори
 Горган Ілемський" 
                        data-addedby="Володимир Гораєцький" 
                        data-whenadded="2020, 11 жовтня, 06:30" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/2004.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2004_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/2004_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/2004_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/2004_100.jpg" class="commentphoto" id="commentphoto2004"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment2004">Підніжжя гори
 Горган Ілемський</div>
				</div>
                                
            </div>
                                </div>
        </div>

<div id="singlephotoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="singlephotoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialoginfo"></div>
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialogcaption"></div>
			<div class="col-xs-10" style="padding:10px;">
				<a href="" id="singlephotoviewdialoglink">Показати оригінал зображення</a>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    $(function() {
		$('.commentphotolink').on('click',function(event){
			event.preventDefault();
			
			$('#singlephotoviewdialogimg').attr('src',$(this).attr('href'))
			$('#singlephotoviewdialoglink').attr('href',$(this).attr('href'))

            var selector = $('#commentphotourl'+$(this).attr('commentid'));
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#commentphotoviewdialogcaption').html(caption)
			$('#commentphotoviewdialoginfo').html(info)
			
			$('#singlephotoviewdialog').modal('show')
		});
    });
</script>


			</div>
		</div>
	</div>
</div>


<script language="javascript">
    var list = [];
		
    
		
	var route = Array
		
        list.push({lat: 48.79173700, lng: 23.770626000})
        list.push({lat: 48.79125600, lng: 23.770755000})
        list.push({lat: 48.78676100, lng: 23.771742000})
        list.push({lat: 48.78379200, lng: 23.770240000})
        list.push({lat: 48.78271700, lng: 23.769682000})
        list.push({lat: 48.78184000, lng: 23.769639000})
        list.push({lat: 48.78167100, lng: 23.769810000})
        list.push({lat: 48.78104900, lng: 23.770797000})
        list.push({lat: 48.77921000, lng: 23.772385000})
        list.push({lat: 48.77779600, lng: 23.771441000})
        list.push({lat: 48.77584500, lng: 23.771184000})
        list.push({lat: 48.77544900, lng: 23.772214000})
        list.push({lat: 48.77457200, lng: 23.773716000})
        list.push({lat: 48.77318700, lng: 23.774059000})
        list.push({lat: 48.77216800, lng: 23.775518000})
        list.push({lat: 48.77146100, lng: 23.775432000})
        list.push({lat: 48.77052800, lng: 23.773201000})
        list.push({lat: 48.76758600, lng: 23.771613000})
        list.push({lat: 48.76546500, lng: 23.772943000})
        list.push({lat: 48.76289000, lng: 23.773287000})
        list.push({lat: 48.76102300, lng: 23.774746000})
        list.push({lat: 48.75895800, lng: 23.773458000})
        list.push({lat: 48.75697800, lng: 23.771784000})
        list.push({lat: 48.75646900, lng: 23.772171000})
        list.push({lat: 48.75692100, lng: 23.772857000})
        list.push({lat: 48.75584600, lng: 23.773887000})
        list.push({lat: 48.75511000, lng: 23.775475000})
        list.push({lat: 48.75446000, lng: 23.778308000})
        list.push({lat: 48.75389400, lng: 23.779595000})
        list.push({lat: 48.75267700, lng: 23.780067000})
        list.push({lat: 48.75061200, lng: 23.782256000})
        list.push({lat: 48.74979100, lng: 23.783844000})
        list.push({lat: 48.74996100, lng: 23.786118000})
        list.push({lat: 48.74970600, lng: 23.787835000})
        list.push({lat: 48.74970600, lng: 23.789423000})
        list.push({lat: 48.74775400, lng: 23.791225000})
        list.push({lat: 48.74560300, lng: 23.796651000})
        list.push({lat: 48.74433000, lng: 23.797853000})
        list.push({lat: 48.74365000, lng: 23.801286000})
        list.push({lat: 48.74308400, lng: 23.804934000})
        list.push({lat: 48.74373500, lng: 23.807938000})
        list.push({lat: 48.74280100, lng: 23.810513000})
        list.push({lat: 48.74062200, lng: 23.812873000})
        list.push({lat: 48.73917900, lng: 23.813689000})
        list.push({lat: 48.73799000, lng: 23.813946000})
        list.push({lat: 48.73702800, lng: 23.813860000})
        list.push({lat: 48.73612200, lng: 23.814633000})
        list.push({lat: 48.73442400, lng: 23.817079000})
        list.push({lat: 48.73281000, lng: 23.817637000})
        list.push({lat: 48.73142300, lng: 23.824031000})
        list.push({lat: 48.72938500, lng: 23.829653000})
        list.push({lat: 48.72799800, lng: 23.833215000})
        list.push({lat: 48.72714900, lng: 23.835576000})
        list.push({lat: 48.72545000, lng: 23.838494000})
        list.push({lat: 48.72417700, lng: 23.840554000})
        list.push({lat: 48.72284600, lng: 23.841670000})
        list.push({lat: 48.72126000, lng: 23.843772000})
        list.push({lat: 48.71967500, lng: 23.846133000})
        list.push({lat: 48.72022200, lng: 23.847741000})
        list.push({lat: 48.72061800, lng: 23.848299000})
        list.push({lat: 48.72095800, lng: 23.849050000})
        list.push({lat: 48.72196300, lng: 23.849866000})
        list.push({lat: 48.72228900, lng: 23.850380000})
        list.push({lat: 48.72305300, lng: 23.851132000})
        list.push({lat: 48.72371900, lng: 23.851089000})
        list.push({lat: 48.72458200, lng: 23.851453000})
        list.push({lat: 48.72611100, lng: 23.850380000})
        list.push({lat: 48.72773900, lng: 23.849951000})
        list.push({lat: 48.72846000, lng: 23.850359000})
        list.push({lat: 48.72918200, lng: 23.850187000})
        list.push({lat: 48.73017300, lng: 23.851389000})
        list.push({lat: 48.73255100, lng: 23.852419000})
        list.push({lat: 48.73299000, lng: 23.852376000})
        list.push({lat: 48.73348500, lng: 23.852591000})
        list.push({lat: 48.73434800, lng: 23.852676000})
        list.push({lat: 48.73502700, lng: 23.853427000})
        list.push({lat: 48.73593300, lng: 23.853685000})
        list.push({lat: 48.73699500, lng: 23.854608000})
        list.push({lat: 48.73836700, lng: 23.856539000})
        list.push({lat: 48.73899000, lng: 23.857075000})
        list.push({lat: 48.73921600, lng: 23.857590000})
        list.push({lat: 48.73947100, lng: 23.857590000})
        list.push({lat: 48.73988100, lng: 23.858513000})
        list.push({lat: 48.74143800, lng: 23.858384000})
        list.push({lat: 48.74262700, lng: 23.858170000})
        list.push({lat: 48.74441200, lng: 23.857397000})
        list.push({lat: 48.74499200, lng: 23.856775000})
        list.push({lat: 48.74554400, lng: 23.856925000})
        list.push({lat: 48.74653400, lng: 23.855831000})
        list.push({lat: 48.74722700, lng: 23.854114000})
        list.push({lat: 48.74804800, lng: 23.852891000})
        list.push({lat: 48.74858600, lng: 23.851968000})
        list.push({lat: 48.74872700, lng: 23.851818000})
        list.push({lat: 48.74878400, lng: 23.851346000})
        list.push({lat: 48.74916600, lng: 23.850788000})
        list.push({lat: 48.74949100, lng: 23.850810000})
        list.push({lat: 48.74970300, lng: 23.851089000})
        list.push({lat: 48.75004300, lng: 23.851153000})
        list.push({lat: 48.75041100, lng: 23.851067000})
        list.push({lat: 48.75113200, lng: 23.851239000})
        list.push({lat: 48.75179700, lng: 23.851132000})
        list.push({lat: 48.75329700, lng: 23.850445000})
        list.push({lat: 48.75465500, lng: 23.850187000})
        list.push({lat: 48.75526300, lng: 23.850745000})
        list.push({lat: 48.75563100, lng: 23.850702000})
        list.push({lat: 48.75612600, lng: 23.850960000})
        list.push({lat: 48.75751200, lng: 23.850316000})
        list.push({lat: 48.75789400, lng: 23.850488000})
        list.push({lat: 48.75819100, lng: 23.849479000})
        list.push({lat: 48.75874300, lng: 23.848964000})
        list.push({lat: 48.76062400, lng: 23.845274000})
        list.push({lat: 48.76157200, lng: 23.844008000})
        list.push({lat: 48.76212100, lng: 23.842207000})
        list.push({lat: 48.76217700, lng: 23.840791000})
        list.push({lat: 48.76197900, lng: 23.839740000})
        list.push({lat: 48.76223400, lng: 23.837830000})
        list.push({lat: 48.76216300, lng: 23.836757000})
        list.push({lat: 48.76241800, lng: 23.834676000})
        list.push({lat: 48.76373300, lng: 23.832208000})
        list.push({lat: 48.76370500, lng: 23.831693000})
        list.push({lat: 48.76397400, lng: 23.830491000})
        list.push({lat: 48.76490700, lng: 23.829075000})
        list.push({lat: 48.76722700, lng: 23.824526000})
        list.push({lat: 48.76823100, lng: 23.822531000})
        list.push({lat: 48.76793400, lng: 23.820986000})
        list.push({lat: 48.76817400, lng: 23.820578000})
        list.push({lat: 48.76879700, lng: 23.819955000})
        list.push({lat: 48.76999900, lng: 23.818839000})
        list.push({lat: 48.77077700, lng: 23.819139000})
        list.push({lat: 48.77238900, lng: 23.817981000})
        list.push({lat: 48.77289900, lng: 23.816693000})
        list.push({lat: 48.77329500, lng: 23.816071000})
        list.push({lat: 48.77526000, lng: 23.812316000})
        list.push({lat: 48.77581200, lng: 23.811179000})
        list.push({lat: 48.77567000, lng: 23.810363000})
        list.push({lat: 48.77630700, lng: 23.809634000})
        list.push({lat: 48.77650500, lng: 23.808132000})
        list.push({lat: 48.77657500, lng: 23.807145000})
        list.push({lat: 48.77634900, lng: 23.804763000})
        list.push({lat: 48.77705600, lng: 23.802746000})
        list.push({lat: 48.77715500, lng: 23.802123000})
        list.push({lat: 48.77808800, lng: 23.801587000})
        list.push({lat: 48.77916300, lng: 23.800300000})
        list.push({lat: 48.78086000, lng: 23.796201000})
        list.push({lat: 48.78197700, lng: 23.793798000})
        list.push({lat: 48.78286700, lng: 23.791180000})
        list.push({lat: 48.78276800, lng: 23.790472000})
        list.push({lat: 48.78207600, lng: 23.789893000})
        list.push({lat: 48.78151000, lng: 23.789785000})
        list.push({lat: 48.78108600, lng: 23.789356000})
        list.push({lat: 48.78131200, lng: 23.789335000})
        list.push({lat: 48.78132600, lng: 23.788927000})
        list.push({lat: 48.78077500, lng: 23.788262000})
        list.push({lat: 48.78141100, lng: 23.788004000})
        list.push({lat: 48.78111400, lng: 23.787403000})
        list.push({lat: 48.78042100, lng: 23.786996000})
        list.push({lat: 48.78074700, lng: 23.786567000})
        list.push({lat: 48.78172200, lng: 23.784120000})
        list.push({lat: 48.78184900, lng: 23.783112000})
        list.push({lat: 48.78214600, lng: 23.781352000})
        list.push({lat: 48.78220300, lng: 23.780194000})
        list.push({lat: 48.78235800, lng: 23.778756000})
        list.push({lat: 48.78217500, lng: 23.778756000})
        list.push({lat: 48.78217500, lng: 23.777919000})
        list.push({lat: 48.78190600, lng: 23.778284000})
        list.push({lat: 48.78136900, lng: 23.777082000})
        list.push({lat: 48.78127000, lng: 23.775108000})
        list.push({lat: 48.78170800, lng: 23.774035000})
        list.push({lat: 48.78200500, lng: 23.772340000})
        list.push({lat: 48.78220300, lng: 23.771761000})
        list.push({lat: 48.78165100, lng: 23.770066000})
    		
	
		
    

    function mapLoadedHook() {
        var latlngs = []
        
        for (var i = 0; i < list.length; i++) {
			latlngs.push([list[i].lat, list[i].lng])
		}
		
		
		var polyline = L.polyline(latlngs, {
			color: '#038a10',
			opacity: 1.0,
            weight: 5
			}).addTo(map);
		// zoom the map to the polyline
		map.fitBounds(polyline.getBounds());
		
		L.marker(polyline.getLatLngs()[polyline.getLatLngs().length-1],{
			icon: L.icon({
				iconUrl: '/images/icons/route_finish.png',
				iconSize:     [32, 32]
			}),
            title: 'Кінець маршруту',
			}).addTo(map);
		
		L.marker(polyline.getLatLngs()[0],{
			icon: L.icon({
				iconUrl: '/images/icons/route_start.png',
				iconSize:     [32, 32]
			}),
            title: 'Початок маршруту',
			}).addTo(map);
		var center = polyline.getLatLngs()[parseInt(polyline.getLatLngs().length/2)]

		map.panTo(center);
		map.setZoom(14);
    }

</script>


<div id="markerinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-1" ><img id="markerinfodialogimage" src="" width="40" width="40"></div>
        <div class="col-xs-10 h3" ><a href="" id="markerinfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="markerinfodialogbody">
        <div class="col-sm-8 col-xs-12">
            <div class="row" id="markerinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="markerinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="markerinfodialogcommentslist"></div>
            <div class="text-center" id="markerinfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="markerinfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="towninfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" ><a href="" id="towninfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body" style="padding:25px;">
        <div class="row" id="towninfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="towninfodialogdetails"></div>
            <div class="row" id="towninfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="towninfodialogcomments">
            <h4>Коментарі</h4>
            <div id="towninfodialogcommentslist"></div>
            <div class="text-center" id="towninfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="towninfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="inetcoverdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" >Область покриття мобільний інтернетом</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" >
			<div class="col-xs-12">Підтверджені мобільні оператори:</div>
			<div class="col-xs-12" ><h4 id="inetcoveroperators"></h4></div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 col-xs-offset-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="routeinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11" >
			Маршрут<br>
			<h3><a href="" id="routeinfodialogtitle" target="_top"></a></a></h3>
			</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="routeinfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="routeinfodialogdetails"></div>
            <div class="row" id="routeinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="routeinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="routeinfodialogcommentslist"></div>
            <div class="text-center" id="routeinfodialogcommentslink">
                <a href="#"  target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="routeinfodialoglink" class="btn btn-info" role="button"  target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="embedcodebuttondialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
			<div class="col-xs-10">
				Код для інтеграції	
			</div>
			<div class="col-xs-2">
				<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
			</div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-xs-12 form-group">
                Пряме посилання на відображене на карті
            </div>
			<div class="col-xs-12 form-group">
				<input type="text" name="mapstatelink" class="form-control" id="mapstatelinkinput" >
			</div>
        </div>
        <div class="row">
            <div class="col-xs-12 form-group">
                Код інтеграції обраного виду
            </div>
			<div class="col-xs-12 form-group">
				<textarea name="embedcodetext" class="form-control" id="embedcodeinput" rows="5" cols="80"></textarea>
			</div>
        </div>
    </div>
    </div>
    </div>
</div>


<script>
    var map;
    
    var minZoomLevel = 8;
    var boundNorthEastLat = 50.663537;
    var boundNorthEastLng = 27.390398;
    var boundSouthWestLat  = 47.204799;
    var boundSouthWestLng = 22.034563;
    
    var loadingObjects = false;
    var loadingTowns = false;
    var loadingRoutes = false;
    var loadingInternetConn = false;
    
    var isDefaultLocale = 1;
    
    var centralMarker = false;
    var centerTitle = "";
        
    
    var markersArray = [];
    var townsArray = [];
    var townsMarkersArray = [];
    
    var polygonesArray = [];
    var polygonesTitlesArray = [];
    
    var routesArray = [];
    var routesMarkersArray = [];
    
    var internetCoverArray = [];
    
    var topareas = [];
    var areas = [];
    var loadingAreas = false;

    var markersGrid = {};
    
    var inetCoverZoomRadius = {15:50, 14: 80, 13: 150, 12: 300, 11:500, 10: 800}
    
    function initMap() {

		var Lat = 48.74441200;
		
		var Lnd = 23.857397000;
		
		var CZoom = 0

		
		map = initMapStandard('map',{lat: Lat, lng: Lnd})
		
		var scaleControl = L.control.scale({
			position: 'topleft',
			metric:true,
			imperial:false
		});
		scaleControl.addTo(map);
		
		var measureControl = new L.Control.Measure({
			primaryLengthUnit: 'meters', 
			secondaryLengthUnit: 'kilometers',
			primaryAreaUnit: 'sqmeters', 
			secondaryAreaUnit: 'hectares',
			activeColor: '#a30505',
			completedColor: '#a8323a'
			});
		measureControl.addTo(map);
		
				map.setZoom(13)	
				
		/*
		map.zoomControl = false
		map.scaleControl = false
		map.acrollwheel = false
		map.sisableDoubleClickZoom = true
		*/
        if (CZoom > 0) {
			map.setZoom(CZoom)	
		}
        
                var myLatLng = {lat: 48.74441200, lng: 23.857397000};
        
                map.whenReady(function() {setTimeout(tilesLoaded,1000)});
        
                // Bounds for Ukrainian Karpathians
        var strictBounds = L.latLngBounds(
            L.latLng(boundSouthWestLat, boundSouthWestLng),
            L.latLng(boundNorthEastLat, boundNorthEastLng)
        );
        
        map.on("dragend",function() {
                setCenterLocation()

                if (strictBounds.contains(map.getCenter())) {

                    return;
                }

                // We're out of bounds - Move the map back within the bounds

                var c = map.getCenter()

                x = c.lng;
                y = c.lat;
                maxX = strictBounds.getNorthEast().lng;
                maxY = strictBounds.getNorthEast().lat;
                minX = strictBounds.getSouthWest().lng;
                minY = strictBounds.getSouthWest().lat;
                
                if (x < minX) x = minX;
                if (x > maxX) x = maxX;
                if (y < minY) y = minY;
                if (y > maxY) y = maxY;
                
                map.panTo(new L.LatLng(y,x));
                
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
                
                setCenterLocation()
        });
        
        // control maximum zoom
        map.on('zoomend', function() {
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
        });	
                
        
    }
    function tilesLoaded() {
		updateShiftCoef()
		
		loadAreas()
        loadData()
        
                map.on('zoomend', reloadObjects);	
		map.on('dragend', reloadObjects);	 
        
        map.on('zoomend', updateShiftCoef);	
        
        setCenterLocation()
        
        if (typeof mapLoadedHook === 'function') {
			mapLoadedHook()
		}
    } 
    function makeGrid()
    {
        var bounds = getBoundaries()

        markersGrid = []
        // limits are from bounds.boundSouthWestLat to  bounds.boundNorthEastLat
        // and from bounds.boundSouthWestLng to  bounds.boundNorthEastLng
        // make the grid 10x10 , remember bounds of every cell 
        // save cells in markersGrid
        // every cell is 1/10 of the map
        var cellLat = (bounds.boundNorthEastLat - bounds.boundSouthWestLat) / 10
        var cellLng = (bounds.boundNorthEastLng - bounds.boundSouthWestLng) / 10

        for (var i = 0; i < 10; i++) {
            for (var j = 0; j < 10; j++ ) {
                var cell = {
                    boundSouthWestLat: bounds.boundSouthWestLat + cellLat * i,
                    boundSouthWestLng: bounds.boundSouthWestLng + cellLng * j,
                    boundNorthEastLat: bounds.boundSouthWestLat + cellLat * (i+1),
                    boundNorthEastLng: bounds.boundSouthWestLng + cellLng * (j+1),
                    minimumAltitude:0,
                    markers: []
                }
                markersGrid[i+'_'+j] = cell
            }
        }
    }
    function getGridIndexForLocation(lat, lng) {
        // check every cell in markersGrid to find matching cell 
        // return index of the cell
        for (var key in markersGrid) {
            if (lat >= markersGrid[key].boundSouthWestLat && lat <= markersGrid[key].boundNorthEastLat) {
                if (lng >= markersGrid[key].boundSouthWestLng && lng <= markersGrid[key].boundNorthEastLng) {
                    return key
                }
            }
        }
        return false
    }

    function reloadObjects() {
        loadData()
    }
    
		$(function() {
            initMap()// start map loading
		});
         // ==================================================================
    
    function loadData()
	{
		console.log("load data for zoom "+map.getZoom())
		
		if (map.getZoom() <= 10) {
			showAreas()
			showCenterMarker()
			return;
		}
		loadObjects()
		loadTowns()
		loadRoutes()
		loadInternetCover()
		showCenterMarker()
	}
    function showCenterMarker()
    {
		if (centralMarker) {
			console.log("show center marker 48.74441200, 23.857397000")
			L.marker([48.74441200, 23.857397000],{
				title: centerTitle,
				}).addTo(map);
		}
	}
    function setCenterLocation()
    {
        var lng = $('#geocoordslng')
        
        if (!lng || lng === 'undefined') {
            return
        }
        
        var lat = $('#geocoordslat')
        
        lng.val(roundCoord(map.getCenter().lng))
        lat.val(roundCoord(map.getCenter().lat))
    }
    
    function allKindsChecked()
    {
        var allChecked = false
        
        if ($('#filtercheckall').is(":checked")) {
            allChecked = true
        } else {
            allChecked = true
            $. each($(".filtercheckbox"), function(){
                if (!$(this).is(":checked")) {
                    allChecked = false 
                }
            });
        }
        return allChecked
    }
    function loadAreas() {
		if (areas.length == 0) {
			loadingAreas = true
			// load areas
			$.get("/json/map/v/areas/",{},
	        function(data){
	            
	            if(data.status=='ok'){
	                var data = data.response.areas;
	                for (i=0;i<data.areas.length;i++) {
	                    areas[data.areas[i].id] = data.areas[i];
	                }
                    for (i=0;i<data.topareas.length;i++) {
	                    topareas[data.topareas[i].id] = data.topareas[i];
	                }
	                
	                if (map.getZoom() <= 10) {
                        showAreas()
			        }
	                
	            }else{
	                	            }
	            loadingAreas = true
	        }, "json");
		}
	}
    
    function showAreas(att = 0)
    {
		clearAllRegions()
		clearAllMarkers()
		clearAllTowns()
		clearAllRoutes()
		clearInternetConnCover()
		
		$("#listing").html('');
		
		if (att == "undefined") {
			att = 1
		}

		if (areas.length == 0 && att < 5) {
			setTimeout(showAreas, 1000, att+1)
			return
		}

		if (map.getZoom() <= 8) {
            for (var key in topareas) {
                displayPolygone(topareas[key], false, true)
            }
			return 
		}
		
		for (var key in areas) {
			displayPolygone(areas[key], false, true)
		}
	}
    function loadObjects()
    {
        if (loadingObjects) {
            return;
        }
        
        loadingObjects = true;
        
                
        var loadKinds = getKinds()
        
        if (map.getZoom() < 13) {
			removeFromArray(loadKinds,'pasture')
			removeFromArray(loadKinds,'rescuepost')
			removeFromArray(loadKinds,'dangerplace')
		} 
		if (map.getZoom() < 14) {
			removeFromArray(loadKinds,'guide')
			removeFromArray(loadKinds,'watersource')
			removeFromArray(loadKinds,'kampplace')
			removeFromArray(loadKinds,'usefulbuilding')
		}
		
        var request = {
			"kind":loadKinds,
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
                
        
                
        
        $.get("/json/map/v/items/",request,
        function(data){
            
            if(data.status=='ok'){
            
                                
                clearAllMarkers()// remove all existent markers
                clearAllRegions()

                makeGrid()

                // check markers and assign to grid cells  
                for (i=0;i<data.response.items.length;i++) {
                    var item = data.response.items[i]
                    // item has properties latitude and longitude 
                    var gridIndex = getGridIndexForLocation(item.latitude, item.longitude)
                    if (gridIndex) {
                        //console.log("add marker to grid "+gridIndex)
                        // push to markersGrid[gridIndex].markers but keep sorted by sealevel
                        if (markersGrid[gridIndex].markers.length == 0) {
                            markersGrid[gridIndex].markers.push(item)
                        } else if (item.sealevel <= markersGrid[gridIndex].markers[0].sealevel) {
                            markersGrid[gridIndex].markers.push(item)
                        } else {
                            for (var j = 0; j < markersGrid[gridIndex].markers.length; j++) {
                                if (item.sealevel > markersGrid[gridIndex].markers[j].sealevel) {
                                    //console.log('insert marker at '+j+' position')
                                    markersGrid[gridIndex].markers.splice(j, 0, item)
                                    break
                                }
                            }
                        }
                        // keep not more 10 markers in the cell
                        if (markersGrid[gridIndex].markers.length > 5) {
                            markersGrid[gridIndex].markers.pop()
                        }
                    }
                } 
                // now we have markers in grid cells
                // check every cell and display markers
                for (var key in markersGrid) {
                    var cell = markersGrid[key]
                    for (var j = 0; j < cell.markers.length; j++) {
                        addObjectOnMap(cell.markers[j])
                    }
                }  
                //for (i=0;i<data.response.items.length;i++) {
                //    addObjectOnMap(data.response.items[i])
                //}
                if (map.getZoom() < 13) {
					// show areas too
					for (var key in areas) {
						var area = areas[key]
				
						if (area.kind != "area") {
							continue
						}
						displayPolygone(area, true)
					}
				}
                
                            }else{
                            }
            loadingObjects = false
        }, "json");
    }
    function loadTowns()
    {
        if (loadingTowns) {
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('towns'))) {
			// towns should not be loaded
			
			clearAllTowns()
			return;
		}
        
        loadingTowns = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
        $.get("/json/towns/v/townpolygons/",request,
        function(data){
            
            if(data.status=='ok'){
                clearAllTowns()
                
                for (var i=0;i<data.response.towns.length;i++) {
					var town = data.response.towns[i]
					
					addTownOnMap(town)	
                }
            }else{
				console.log(data.message)
            }
            loadingTowns = false
        }, "json");
    }
    function loadRoutes()
    {

		
				return;// disabled on this page
				
		
		if (loadingRoutes) {
            return;
        }
        
                
        if (map.getZoom() <= 9) {
            clearAllRoutes()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('routes'))) {
			// routes should not be loaded
			clearAllRoutes()
			return;
		}
        
        loadingRoutes = true;
        
        var request = {
			"zoom":map.getZoom(),
			"disableextrainfo":"y",
			"includepoints":"y",
			"bounds":getBoundaries()
            };
            
        $.get("/json/routes/?limit=500&",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearAllRoutes()
                
                for (var i=0;i<data.response.routes.list.length;i++) {
					addRouteOnMap(data.response.routes.list[i])	
                }
                
                                
            }else{
				console.log(data.message)
            }
            loadingRoutes = false
        }, "json");
	}
    function loadInternetCover()
    {		
		if (loadingInternetConn) {
            return;
        }
        
        if (map.getZoom() <= 10) {
            clearInternetConnCover()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('intconn'))) {
			// routes should not be loaded
			clearInternetConnCover()
			return;
		}
        
        loadingInternetConn = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
       
        $.get("/json/map/v/internetcover/",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearInternetConnCover()
                
                for (var i=0;i<data.response.polygons.length;i++) {
					addInternetCoverOnMap(data.response.polygons[i])	
                }
            }else{
				console.log(data.message)
            }
            loadingInternetConn = false
        }, "json");
	}
	function getKinds() {
		var kinds = [];
        
                
        kinds.push('all');
        
                
        return kinds
	}
    function addObjectOnMap(obj)
    {
        var zoom = map.getZoom();
        
        if (zoom <= 13 && allKindsChecked()) {
            if (obj.kind == 'usefulbuilding' ||
                obj.kind == 'kampplace' ||
                obj.kind == 'guide' ||
                obj.kind == 'watersource') {
                return ;
            }
        }
        
        if (zoom <= 11 && allKindsChecked()) {
            if (obj.kind == 'rescuepost' ||
                obj.kind == 'placeofinterest') {
                return ;
            }
        }
        if (zoom <= 10 && allKindsChecked()) {
            if (obj.kind == 'lake' ||
                obj.kind == 'pasture') {
                return ;
            }
        }
         
        var image = '/images/markers/'+obj.kind+'.svg';

        if (obj.kind == "marker" && obj.private == "y") {
            image = '/images/markers/privatemarker.svg';
        }
        
        var imageSize = 40
        
        if (zoom == 11) {
			imageSize = 26
		} else if (zoom == 12) {
			imageSize = 30
		}
           
        var marker = L.marker([parseFloat(obj.latitude), parseFloat(obj.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: obj.title
			})
			
        marker.id = obj.id;
        marker.icon_url = image;
        marker.viewurl = obj.viewurl;
        marker.description = obj.description;
        
        if ( 
			//(isDefaultLocale == 0 && obj.kind == 'mount' && (zoom > 12 || obj.sealevel > 1600))  ||
            (obj.kind == 'placeofinterest' || obj.kind == 'rescuepost') && zoom > 13 ||
            (obj.kind == 'lake' || obj.kind == 'pasture') && zoom > 11 ||
            zoom > 16) {
            var fw = "bold"
            
            if (zoom <= 13) {
                fw = "normal"
            }
            marker.bindTooltip(truncateString(obj.title, 20), 
			{
				permanent: true, 
				className: 'markersubtitle',
				direction: 'center'
			})
        }
        
        marker.on('click', markerClick);
        
        marker.addTo(map);
        
        markersArray.push(marker);
        
            }
    function addTownOnMap(townData)
    {
		var image = '/images/markers/town.svg';
        
        var imageSize = 30
           
        var marker = L.marker([parseFloat(townData.latitude), parseFloat(townData.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: townData.title
			})
			
        marker.title = townData.title;
        marker.id = townData.id;
        marker.viewurl = townData.viewurl;
        marker.description = townData.description;

        marker.bindTooltip(truncateString(townData.title, 20), 
        {
            permanent: true, 
            className: 'markersubtitle',
            direction: 'center'
        })
        
        marker.on('click', townPolygonClick);
        
        marker.addTo(map);
        
        townsArray.push(marker);
        
		return true;
	}
	function addInternetCoverOnMap(icPolygon)
    {
		var latlngs = []
        
        for (var i = 0; i < icPolygon.pointslist.length; i++) {
			latlngs.push([icPolygon.pointslist[i][0], icPolygon.pointslist[i][1]])
		}
		var pol ;
		
		if (latlngs.length == 1) {
			
			var radius = inetCoverZoomRadius[map.getZoom()]
			
			if (!radius) {
				radius = 50
			}
			
			pol = L.circle(latlngs[0], 
				{
				radius: radius,
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3});
		} else {
			pol = L.polygon(latlngs, 
				{
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3
				});
		}
        
        pol.title = icPolygon.operator;
        pol.operators = icPolygon.operators;
        
        pol.on('click', inetConnPolygonClick);
        
		pol.addTo(map)
        
        internetCoverArray.push(pol)
        
		return true;
	}
	function addRouteOnMap(routeData)
    {
		
		// Define the LatLng coordinates for the polygon's path.
        var coords = []
        
        for (var i = 0; i < routeData.points.length; i++) {
			var point = correctAllPointsPoint(routeData.points[i])
			coords.push([parseFloat(point[0]), parseFloat(point[1])])
		}
		
		addToAllPoints(routeData.points)
		
        var poly = L.polyline(coords, {
			color: routeData.color,
			opacity: 1.0,
            weight: 3
		})
        
        poly.routeindex = routesArray.length;
        poly.title = routeData.title;
        poly.id = routeData.id;
        poly.viewurl = routeData.link;
        poly.shortdescription = routeData.shortdescription;
        
        poly.addTo(map);
        
        poly.on('click', routeMarkerClick)
        
        routesArray.push(poly)
        var routeindex = routesArray.length-1
        
        if (map.getZoom() > 14) {
			var em = L.marker(poly.getLatLngs()[poly.getLatLngs().length-1],{
				icon: L.icon({
					iconUrl: '/images/icons/route_finish.png',
					iconSize:     [32, 32]
				}),
				title: 'Кінець маршруту',
				}).addTo(map);
			
			var sm = L.marker(poly.getLatLngs()[0],{
				icon: L.icon({
					iconUrl: '/images/icons/route_start.png',
					iconSize:     [32, 32]
				}),
				title: 'Початок маршруту',
				}).addTo(map);
				
			sm.routeindex = routeindex;
			routesMarkersArray.push(sm)

			em.routeindex = routeindex;
			routesMarkersArray.push(em)
			
			sm.on('click',routeMarkerClick);
			em.on('click',routeMarkerClick);
			
		}

        		
		return true;
	}
	function displayPolygone(polData, liteVer = false, longTitle = false)
    {
		// Define the LatLng coordinates for the polygon's path.
        var coords = []

        var pol = polData.polygone || polData.polygon
        
        for (var i = 0; i < pol.length; i++) {
			coords.push([pol[i][0], pol[i][1]])
		}

		var vFillOpacity = 0.3;
		
		if (liteVer == true) {
			var vFillOpacity = 0.2;
			
			if (map.getZoom() > 12) {
				var vFillOpacity = 0.1;
			}
		}
		// Construct the polygon.
		var pol = L.polygon(coords, 
			{
			color: polData.color,
			opacity:0.8,
			weight:2,
			fillColor:polData.color,
			fillOpacity:vFillOpacity
			}).addTo(map);
        
        polygonesArray.push(pol)
        
        var cl = 'polygontitleonmap'
        
        if (longTitle) {
			cl = 'polygonlongtitleonmap'
		}
        
        if (liteVer != true) {
			var marker = L.marker(pol.getBounds().getCenter(),{
				icon: L.divIcon({ 
					className: cl,
					iconSize: new L.Point(200, 26), 
					html: polData.title
				}),
				title: polData.title,
			}).addTo(map);
			
			polygonesTitlesArray.push(marker);
			
			return [pol, marker]
		}
		return [pol, null]
	}
    
    function clearAllMarkers() 
    {
        for (var i = 0; i < markersArray.length; i++ ) {
            markersArray[i].remove()
        }
        markersArray.length = 0;
    }
    function clearAllTowns() 
    {
        for (var i = 0; i < townsArray.length; i++ ) {
            townsArray[i].remove()
        }
        townsArray.length = 0;
        
        for (var i = 0; i < townsMarkersArray.length; i++ ) {
            townsMarkersArray[i].remove()
        }
        townsMarkersArray.length = 0;
    }
    function clearAllRoutes() 
    {
    
        for (var i = 0; i < routesArray.length; i++ ) {
            routesArray[i].remove()
        }
        routesArray.length = 0;
        
        for (var i = 0; i < routesMarkersArray.length; i++ ) {
			routesMarkersArray[i].remove()
        }
        routesMarkersArray.length = 0;
        
        cleanAllPointsCache()
    }
    function clearInternetConnCover() 
    {
        for (var i = 0; i < internetCoverArray.length; i++ ) {
            internetCoverArray[i].remove()
        }
        internetCoverArray.length = 0;
    }
    function clearAllRegions() 
    {
        for (var i = 0; i < polygonesArray.length; i++ ) {
            polygonesArray[i].remove()
        }
        polygonesArray.length = 0;
        
        for (var i = 0; i < polygonesTitlesArray.length; i++ ) {
			polygonesTitlesArray[i].remove()
        }
        polygonesTitlesArray.length = 0
    } 
    function markerClick()
    {
        
        $('#markerinfodialogtitle').text(this.title)
        $('#markerinfodialogtitle').attr('href', this.viewurl)
        $('#markerinfodialoglink').attr('href', this.viewurl)
        $('#markerinfodialogphotos a').attr('href',this.viewurl)
        $('#markerinfodialogimage').attr('src',this.icon_url)
        $('#markerinfodialogdescription').html(this.description)
        
        $('#markerinfodialogphotos').hide()
        $('#markerinfodialogcomments').hide()
        $('#markerinfodialogloading').show()
        
        $('#markerinfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#markerinfodialogloading').hide()
                
                if(data.status=='ok'){
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'markerinfodialogcommentslist', 'markerinfodialogcommentslink', 'markerinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'markerinfodialogphotos')
                    }
                    
                    if (data.response.item.kind == "mount") {
						$('#markerinfodialogtitle').text(data.response.item.title + " ("+data.response.item.sealevel+")")
					} else {
                        $('#markerinfodialogtitle').text(data.response.item.title)
                    }
                }else{
                    alert(data.message);
                }
            }, "json");
    }
    function townPolygonClick()
    {
		
		$('#towninfodialogtitle').text(this.title)
        $('#towninfodialogtitle').attr('href', this.viewurl)
        $('#towninfodialoglink').attr('href', this.viewurl)
        $('#towninfodialogphotos a').attr('href',this.viewurl)
        $('#towninfodialogdescription').html(this.description)
        
        $('#towninfodialogdetails').html('')
        
        $('#towninfodialogphotos').hide()
        $('#towninfodialogcomments').hide()
        $('#towninfodialogloading').show()
        
        $('#towninfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#towninfodialogloading').hide()
                
                if(data.status=='ok'){
					//console.log('comments '+data.response.comments.commentscount)
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'towninfodialogcommentslist', 'towninfodialogcommentslink', 'towninfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'towninfodialogphotos')
                    }
                    var infohtml = data.response.item.kindtitle+' <br>'+data.response.item.districttitle+'<br><br>'
                    
                                        if (data.response.item.hastransportinfo == 'y') {
						infohtml += '<img src="/images/icons/bus-front-red.png" width="20"> &nbsp;'
					}
										if (data.response.item.hastrainstation == 'y') {
						infohtml += '<img src="/images/icons/train-front.png" width="20" > &nbsp;'
					}
					if (data.response.item.transportnode == 'y') {
						infohtml += '<img src="/images/icons/road-sign.png"  width="20"> &nbsp;'
					}
					if (data.response.item.important == 'y') {
						infohtml += '<img src="/images/icons/star.png"  width="20"> &nbsp;'
					}
                    
                    $('#towninfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
	function inetConnPolygonClick()
    {
		$('#inetcoveroperators').text(this.operators)
        
        $('#inetcoverdialog').modal('toggle');
	}
	function routeMarkerClick() {
		var poly = routesArray[this.routeindex]
		
		$('#routeinfodialogtitle').text(poly.title)
		var viewurl = poly.viewurl+"?backto=map"
		
        $('#routeinfodialogtitle').attr('href', viewurl)
        $('#routeinfodialoglink').attr('href', viewurl)
        $('#routeinfodialogphotos a').attr('href',viewurl)
        $('#routeinfodialogdescription').html(poly.shortdescription)
        
        $('#routeinfodialogdetails').html('')
        
        $('#routeinfodialogphotos').hide()
        $('#routeinfodialogcomments').hide()
        $('#routeinfodialogloading').show()
        
        $('#routeinfodialog').modal('toggle');
        
        var action = poly.viewurl+"?short=y&responseformat=json"

        $.get(action,
            function(data){
                $('#routeinfodialogloading').hide()
                
                if(data.status=='ok'){
					
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, viewurl,
							'routeinfodialogcommentslist', 'routeinfodialogcommentslink', 'routeinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'routeinfodialogphotos')
                    }
                    var infohtml = data.response.route.description+'<br><br>'
                    
                    $('#routeinfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
    function addCommentsToDialog(comments, allcommentsurl, infodialogcommentslist, infodialogcommentslink, infodialogcomments)
    {
        $('#'+infodialogcommentslist).html('')
        
        for (i=0;i<comments.comments.length;i++) {
            var c = comments.comments[i]
            
            var html = '<div class="row comment">';
            html += '<div class="row commentinfo">'+c.name+' - ';
            html += '<span class="commenttime">'+c.whenadded+'</span>';
            html += '</div>';
            if (c.photo == 'y') {
				var cm = c.comment
				
				if (cm == "") {
					cm = "[фото]"
				}
				html += '<div class="row">'
				html += '<div class="col-xs-6 col-sm-3 col-md-2"><img src="'+c.photoinfo.thumbviewurl+'" class="commentphoto"></div>'
				html += '<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment'+c.id+'">'+c.comment+'</div>'
				html += '</div>'
			} else {
				html += '<div class="row commenttext" id="comment'+c.id+'">'+c.comment+'</div>';
			}
            html += '</div>';
            
            $( "#"+infodialogcommentslist).append(html);
        }
        if (comments.commentscount > comments.comments.length) {
            $('#'+infodialogcommentslink+' span').text(comments.commentscount)
            $('#'+infodialogcommentslink+' a').attr('href',allcommentsurl)
            $('#'+infodialogcommentslink).show()
        }  else {
            $('#'+infodialogcommentslink).hide()
        }

        $('#'+infodialogcomments).show()
    }
    function addPhotoToDialog(photos, infodialogphotos)
    {

        $('#'+infodialogphotos+' img').attr('src',photos.photos[0].photoinfo.thumbviewurl)
        $('#'+infodialogphotos+' span').text(photos.photoscount)
        
        $('#'+infodialogphotos).show()
        
        if ($('#'+infodialogphotos+' .thumbnail').width() > $('#'+infodialogphotos+' .thumbnail').height()) {
            $('#'+infodialogphotos+' .thumbnail').height($('#'+infodialogphotos+' .thumbnail').width())
        }
    }
    // ======================================================================
    
</script>


<script>
	var allPointsShiftCoef = 0.0002
	var allPointsOnRoutes = {}
	
    function getBoundaries() {
		var bounds = map.getBounds();
        var southWest = bounds.getSouthWest();
        var northEast = bounds.getNorthEast();
            
        			return {
                "boundNorthEastLat":northEast.lat,
                "boundSouthWestLat":southWest.lat,
                "boundNorthEastLng":northEast.lng,
                "boundSouthWestLng":southWest.lng
                }
        	}
    function roundCoord(num)
    {
        return Math.round(num * 100000) / 100000
    }
    function truncateString(content, limit) {
        if (content.length > limit) {
            return content.substring(0, limit);
        }
        return content
    }
    function saveMapState() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat; 
        var mapLng = mapCentre.lng; 
        var mapType = 'STD';
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("MapCookie",cookiestring, 30, 'y');
    } 
	function loadAndGetMapState() { 
        var gotCookieString=getCookie("MapCookie"); 

        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            
        
                        
			var b= {
                "boundNorthEastLat":50.663537,
                "boundSouthWestLat":47.204799,
                "boundNorthEastLng":27.390398,
                "boundSouthWestLng":22.034563
                }
            
            
            if (savedMapLat < boundSouthWestLat || savedMapLat > boundNorthEastLat) {
                return [0, 0, 0, 0];
            }
            if (savedMapLng < boundSouthWestLng || savedMapLng > boundNorthEastLng) {
                return [0, 0, 0, 0];
            }
            
            
			return [1, savedMapLat, savedMapLng, savedMapZoom];
        }

        return [0, 0, 0, 0];
    }
    function loadMapState() { 
        var st = loadAndGetMapState()
        
        if (st[0] == 1) {
			savedMapLat = st[1]
			savedMapLng = st[2]
			savedMapZoom = st[3]

			map.panTo(new L.LatLng(savedMapLat,savedMapLng));

            map.setZoom(savedMapZoom);
        }
    }
    function saveMapStateGoogle() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat(); 
        var mapLng = mapCentre.lng(); 
        var mapType = map.getMapTypeId();
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("GoogleMapCookie",cookiestring, 30, 'y');
    } 

    function loadMapStateGoogle() { 
        var gotCookieString=getCookie("GoogleMapCookie"); 
        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            map.setCenter(new google.maps.LatLng(savedMapLat,savedMapLng));
            map.setZoom(savedMapZoom);
        }
        
        if (splitStr.length > 3 && splitStr[3].length > 0) {
            var mapType = splitStr[3]
            if (mapType == "OSML" || mapType == "STD") {
                mapType = "OTM";
            }

            map.setMapTypeId(mapType);
        }
    }
    function initMapWithOSM(mapdivid,centerPoint, allowOutdors = false, mapType = "")
    {
		
        var mapTypeIds = [];
        for(var type in google.maps.MapTypeId) {
            mapTypeIds.push(google.maps.MapTypeId[type]);
        }
        mapTypeIds.push("OSM");
        mapTypeIds.push("OTM");
        
        if (allowOutdors) {
            mapTypeIds.push("OSMO");
        }
        
        if (mapType == "") {
            mapType = "OSM";
        }
        
        if (mapType == "OSML") {
            mapType = "OTM";
        }
        
        var map = new google.maps.Map(document.getElementById(mapdivid), {
                center: centerPoint,
                zoom: 11,
                mapTypeId: mapType,
                mapTypeControl: true,
                streetViewControl: false,
				mapTypeControlOptions: {
					mapTypeIds: mapTypeIds
				}
        });
        
        map.mapTypes.set("OSM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.openstreetmap.org/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OTM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://maps.vpohid.com.ua/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OpenTopoMaps",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OSMO", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.thunderforest.com/outdoors/" + zoom + "/" + coord.x + "/" + coord.y + ".png?apikey=bb9e57ff4e8743328dad2e1aafbb7c6f";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM Outdoors",
		  maxZoom: 18
		}));
		return map
	}
	function initMapStandard(mapdivid,centerPoint)
    {
		
        var map = L.map(mapdivid).setView([centerPoint.lat, centerPoint.lng], 11);
		//L.tileLayer.provider('OpenTopoMap',{
		//		lang: 'en'
		//	}).addTo(map);
		L.tileLayer('https://maps.vpohid.com.ua//{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);
		//L.tileLayer.provider('OpenStreetMap').addTo(map);
      
		return map
	}
	function updateShiftCoef()
    {
		if (map.getZoom() > 17) {
			allPointsShiftCoef = 0.00001
		} else if (map.getZoom() > 16) {
			allPointsShiftCoef = 0.00002
		} else if (map.getZoom() > 15) {
			allPointsShiftCoef = 0.00005
			
		} else if (map.getZoom() > 14) {
			allPointsShiftCoef = 0.0001
			
		} else if (map.getZoom() > 13) {
			allPointsShiftCoef = 0.0002
		} else {
			allPointsShiftCoef = 0.0003
		}
	}
	function cleanAllPointsCache()
	{
		allPointsOnRoutes = {}
	}
	function getAllPointsKey(point)
	{
		return parseFloat(point[0]).toFixed(6).toString()+':'+parseFloat(point[1]).toFixed(6).toString()
	}
	function correctAllPointsPoint(point) {
		var key = getAllPointsKey(point)
		
		if (key in allPointsOnRoutes) {
			var k1 = ((parseFloat(point[0])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			var k2 = ((parseFloat(point[1])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			return [k1, k2]
		}
		return [point[0], point[1]]
	}
	function addToAllPoints(pointslist) {
		var checked = []
		
		for (var i = 0; i< pointslist.length; i++) {
			var key = getAllPointsKey(pointslist[i])
		
			if (checked.includes(key)) {
				continue
			}
			checked.push(key)
			
			if (key in allPointsOnRoutes) {
				allPointsOnRoutes[key] = allPointsOnRoutes[key] - (-1)
			} else {
				allPointsOnRoutes[key] = 1
			}
		}
		//console.log(allPointsOnRoutes)
	}
	function getGoodMapTextColor() {
		var tColor = "white"
		
		if (map.getMapTypeId() != google.maps.MapTypeId.HYBRID && map.getMapTypeId() != google.maps.MapTypeId.SATELLITE) {
			tColor = "brown"
		}
		
		return tColor
	}
</script>


<link rel="stylesheet" href="/components/leaflet/leaflet.css" />
<link rel="stylesheet" href="/components/leaflet/leaflet-measure.css" />
<script src="/components/leaflet/leaflet.js"></script>
<script src="/components/leaflet/leaflet-providers.js"></script>
<script src="/components/leaflet/leaflet-measure.en.js"></script>



    </section>
    
<section class="footersection">
    <footer class="container footer">
    <div class="container">
            </div>
    	<nav class="navbar navbar-default navbar-expand-xs">
	  <div class="container">
	    
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bottomnavbar" aria-expanded="true">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
		  <img src="/images/logo_200.png" width="46">
	      <a class="navbar-brand" href="#">В Похід Карпатами</a>
	    </div>
	
	    <div class="navbar-collapse collapse" id="bottomnavbar">
	      <ul class="nav navbar-nav ">
	        <li class="nav-item">
			  <a href="/map/">Карта</a>
			</li>
			<li class="nav-item">
			  <a href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
			</li>
			<li class="nav-item">
			  <a href="/contact/">Контакт</a>
			</li>
						<li class="nav-item">
				<a href="/pages/privacypolicy/Politika+privatnosti.htm">Приватність</a>
			</li>
												<li class="nav-item">
				<a href="/pages/termsofuse/Pravila+vikoristannya.htm">Правила користування</a>
			</li>
				      </ul>
	      <ul class="nav navbar-nav navbar-center">
	        <li class="nav-item">
			  <a href="/forum/">Форум</a>
			</li>
			<li class="nav-item">
			  <a href="/chat/">Чат</a>			
			</li>
			
	      </ul>
	      <ul class="nav navbar-nav navbar-right hidden-xs">
	        				<li class="nav-item text-center"><a href="https://www.facebook.com/vpohid.com.ua/" target="_blank"><i class="fab fa-facebook fa-fw fa-3x"></i></a></li>
													<li class="nav-item text-center"><a href="https://www.instagram.com/vpohid_com_ua/" target="_blank"><i class="fab fa-instagram fa-fw fa-3x" ></i></a></li>
										<li class="nav-item text-center"><a href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" target="_blank"><i class="fab fa-youtube fa-fw fa-3x" ></i></a></li>
				      </ul>
	    </div>
	  </div>
	</nav>

			<div class="row text-center">
				<div class="col-xs-12 visible-xs text-center">
													<a title="facebook" target="_blank" href="https://www.facebook.com/vpohid.com.ua/" class="btn-social btn-md btn-facebook">
								<i class="fab fa-facebook" ></i>
						  	</a>
																									<a title="Instagram" target="_blank" href="https://www.instagram.com/vpohid_com_ua/" class="btn-social btn-md btn-instagram">
								<i class="fab fa-instagram"></i>
							</a>
																			<a title="Youtube" target="_blank" href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" class="btn-social btn-md btn-youtube">
								<i class="fab fa-youtube"></i>
							</a>
											
				</div>
				<div class="col-xs-12 col-sm-4 text-center">
					<div class="row">
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking"><img src="/images/android-app-icon.png" width="100%"></a>
						</div>
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001"><img src="/images/ios-app-icon.png" width="100%"></a>
						</div>
					</div>
				</div>
				<div class="col-xs-10 col-xs-offset-1 col-sm-6 text-center">
					<form action="/browse/" class="form" role="form" method="POST" id="filterform">
					<label for="searchfilter" class="frontlabel reversed-text">Знайти на сайті:</label> 
					<input type="text" id="searchfilter" name="filter" value="" class="form-control" placeholder="Пошук">
					</form>
				</div>
			</div>
            <div class="row text-center">
                    <hr class="small">
					<div class="col-xs-12 col-sm-9">
                    <p class="text-muted reversed-text">Copyright &copy; Roman Gelembjuk
                    
                                        2019 - 2025
                    										&nbsp;&nbsp;&nbsp;&nbsp;
					Web-site design concept by Anna Maimurenko
						
                    </p>
					</div>
					<div class="col-xs-12 col-sm-3 text-right">
						<button type="button" data-cc="c-settings">🍪 Cookies</button>
					</div>
            </div>
    </footer>
 </section>   
 <div id="loginformext" class="modal fade" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
    <div class="modal-header">
		<h3 class="panel-title">Будь ласка, ввійдіть</h3>
	</div>
	<div class="modal-body">
			<div class="row modal-header" id="loginformmessage"></div>
		
			<div class="row">
				
				<div class="col-md-7" style="border-right:1px solid #ccc;height:180px">
				<form action="/login/d/login/" method="POST" class="form-horizontal">
					<fieldset>
			
					<input name="email" type="text" placeholder="Email Адреса" class="form-control input-md">
					<div class="spacing"><input type="checkbox" name="rememberme" value="y"><small> Запам’ятати мене</small></div>
					<input name="password" type="password" placeholder="Пароль" class="form-control input-md">
					<div class="spacing"><a href="/login/v/forgot/"><small> Забув пароль?</small></a><br/></div>
					
					<div class="row">
						<div class="col-xs-6"	>	
						<button type="submit" class="btn btn-info pull-left">Вхід</button>
						</div>
						<div class="col-xs-6"	>			
						<a href="/login/v/register/" class="btn btn-warning pull-right" role="buttont">Зареєструватися</a>
						</div>
					</div>
					</fieldset>
				</form>
				</div>
								<div class="col-md-5 text-center" >
					<ul>
					<li><small class="text-muted">швидкий вхід із</small></li>
										<li><a href="/login/d/sociallogin/facebook/" class="btn btn-l btn-fb"><i class="fab fa-facebook"></i> Facebook</a></li>
															<li><a href="/login/d/sociallogin/twitter/" class="btn btn-l btn-tw"><i class="fab fa-twitter"></i> Twitter</a></li>
															<li><a href="/login/d/sociallogin/google/" class="btn btn-l btn-gp"><i class="fab fa-google"></i> Google</a></li>
																				<li><a href="/login/d/sociallogin/apple/" class="btn btn-l btn-ap"><i class="fab fa-apple"></i> Apple</a></li>
										</ul>
				</div>
							</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="fa fa-close"></i> Закрити</button>
	</div>
	</div>
	</div>
	</div>
</div>
<script type="text/javascript">
var iserislogedin=0;

function loginRequired(message){
	if(iserislogedin>0) return true;
	$('#loginformmessage').html(message);
	$('#loginformext').modal('toggle');
	
	return false;
}

</script>


<script src="/components/bootstrap/js/bootstrap.min.js"></script>
<script defer src="/components/cookieconsent/cookieconsent.js"></script>
<script type="text/javascript">
	var privacyPolicy = "/pages/privacypolicy/Politika+privatnosti.htm";	
	var contactPage = "/contact/";	
</script>
<script defer src="/components/cookieconsent/cookieconsent-init.js"></script>

    
</body>
</html>
