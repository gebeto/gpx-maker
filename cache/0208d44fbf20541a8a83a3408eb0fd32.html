<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link type="image/x-icon" href='/images/favicon.ico' rel='shortcut icon' />

    <title>Маршрут Явірник-Горган з Яремче в Микуличин чи Татарів. На сайті "В Похід Карпатами"</title>
    
    <meta name="description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.'>
    
    <meta name="author" content="">
    
    <meta property="og:type" content="website" />    
    <meta property="fb:app_id" content="560240094486420" />
    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta property="og:url" content="https://vpohid.com.ua/routes/v/route/31/" />    
<meta property="og:title" content='Маршрут Явірник-Горган з Яремче в Микуличин чи Татарів. На сайті &quot;В Похід Карпатами&quot;' />    
<meta property="og:description" content='Всі пішохідні маршрути в Карпатах. Найдетальніша інтерактивна онлайн карта. Маршрути для всіх регіонів та масивів в Карпатах.' />    
<meta property="og:image" content="https://vpohid.com.ua/images/og_image_routes.png" />
    <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <LINK type="text/css" rel="stylesheet" href="/css/basetheme.css">
    <LINK type="text/css" rel="stylesheet" href="/css/app.css?20250607131441">
    <LINK type="text/css" rel="stylesheet" href="/css/customstyle.css?20250530141609">
    
    <link href="/components/font-awesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="/components/cookieconsent/cookieconsent.css" rel="stylesheet" >
    
    <script src="/components/jquery/jquery.min.js"></script>
    <script src="/js/common.js?4"></script>
    
      </head>
 <body class="shortheader" >

<section class="defaultheadercontainer">

<div class="container-fluid" id="topnavigation">

<nav class="topnavbar navbar navbar-default">
	<div class="container navbarcontainer">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsednavbar" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">
			<img src="/images/logo_200.png" width="46">
			<span >В Похід<br>Карпатами</span>
			</a>
		</div>

		<div class="collapse navbar-collapse" id="collapsednavbar">
			
			<ul class="nav navbar-nav navbar-nav-right" id="rightnavbar">
				
				<li></li>

								<li class="nav-item ">
					<a class="nav-link btn btn-default" href="#" data-toggle="modal" data-target="#ai_mcp_modal_div">
						<img src="/images/icons/chatbot.png" width="24"> AI Connect</a>
				</li>
								
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="routesdropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Маршрути <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="routesdropdown">
						<a class="dropdown-item" href="/routes/">Маршрути</a>
						<a class="dropdown-item" href="/map/">Карта</a>
						<a class="dropdown-item" href="/browse/">Місця</a>
						<a class="dropdown-item" href="/towns/">Села та Міста</a>
						<a class="dropdown-item" href="/browse/?kindlist=mount&">Гірські вершини</a>
												<a class="dropdown-item" href="/browse/?filter=%D0%9E%D0%B7%D0%B5%D1%80%D0%BE&kindlist=lake&">Озера</a>
																		<a class="dropdown-item" href="/browse/?filter=%D0%92%D0%BE%D0%B4%D0%BE%D1%81%D0%BF%D0%B0%D0%B4&kindlist=lake&">Водоспади</a>
												<a class="dropdown-item" href="/browse/?kindlist=placeofinterest&">Цікаві місця</a>
					</div>
				</li>
				
				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Спільнота <span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
						<a class="dropdown-item" href="/chat/">Чат</a>
						<a class="dropdown-item" href="/forum/">Форум</a>
											</div>
				</li>

				<li class="nav-item visible-xs active">
					<a class="nav-link special" href="/routes/">Маршрути</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link special" href="/map/">Карта</a>
				</li>
									<li class="nav-item visible-xs">
						<a class="nav-link" href="/guides/">Гіди</a>
					</li>
													<li class="nav-item visible-xs">
						<a class="nav-link" href="/shop/">Спорядження</a>
					</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/weather/">Погода</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/forum/">Форум</a>
				</li>
				<li class="nav-item visible-xs">
				  <a class="nav-link" href="/chat/">Чат</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/quests/">Квести</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/blog/">Блог</a>
				</li>
								<li class="nav-item visible-xs">
				  <a class="nav-link" href="/pages/v/handbook/">Довідник</a>
				</li>
				
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/about/">Про сайт</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/pages/v/developer/">Розробник</a>
				</li>
				<li class="nav-item visible-xs">
					<a class="nav-link" href="/contact/">Контакт</a>
				</li>
				 
				<li class="nav-item hidden-xs">
					<a class="nav-link" href="#"><i class="fas fa-search"></i></a>
				</li>
																<li class="nav-item dropdown" id="loginformdropdown">
				<a href="#" class="dropdown-toggle " data-toggle="dropdown">
					<i class="far fa-user"></i> <span class="caret"></span></a>
				<ul id="login-dp" class="dropdown-menu">
				<li >
				<div class="row">
					
					<div class="col-md-12">
					 <form class="form" role="form" method="POST" action="/json/login/d/login/" accept-charset="UTF-8" id="login-nav">
						<input type="hidden" name="afterloginredirect" value="" >
						
						<div class="form-group">
							 <label class="sr-only" for="login">Email Адреса</label>
							 <input type="text" class="form-control" name="email" placeholder="Email Адреса" 
							 	required id="login-nav-email">
						</div>
						<div class="form-group">
							 <label class="sr-only" for="password">Пароль</label>
							 <input type="password" class="form-control" name="password" placeholder="Пароль" required>
							 <div class="help-block text-right"><a href="/login/v/forgot/">Забув пароль</a></div>
						</div>
						<div class="form-group text-danger text-center" id="login-nav-error" style="display:none;">
							 
						</div>
						<div class="form-group">
							 <button type="submit" class="btn btn-primary btn-block" id="loginformsubmit">Вхід</button>
						</div>
						<div class="checkbox">
							 <label>
							 <input type="checkbox" name="rememberme" value="y"> Запам’ятати мене
							 </label>
						</div>
					</form>
					<script type="text/javascript">
					
					$(function() {	
						$( "#login-nav" ).submit(function(e) {

							e.preventDefault();
							$('#login-nav-error').hide();
							$("#loginformsubmit").attr('disabled','disabled');
							$.ajax({
								type: "POST",
								url: $("#login-nav").attr('action'),
								dataType: "json",
								data: $("#login-nav").serialize(), 
								success: function(data)
								{
									if(data.status!='ok'){
										$('#login-nav-error').text(data.message);
										$('#login-nav-error').show();
										$("#login-nav-email").focus();
										$("#loginformsubmit").removeAttr('disabled');
									}else{
										window.location.href = getThisUrlToReload(data.response.redirecturl);
									}
								}
							});
						});
						
					});
					
					</script>
					</div>
				</div>
								<div class="row">
					<div class="col-md-12">
						<span class="hint">швидкий вхід із</span> 
						<div class="social-buttons">
												<a href="/login/d/sociallogin/facebook/" class="btn btn-fb"><i class="fab fa-facebook"></i> Facebook</a>
																		<a href="/login/d/sociallogin/twitter/" class="btn btn-tw"><i class="fab fa-twitter"></i> Twitter</a><br>
																		<a href="/login/d/sociallogin/google/" class="imagebtn btn">
							<img src="/images/google_signin.png" width="100%">
						</a>
																								<a href="/login/d/sociallogin/apple/" class="btn btn-ap"><i class="fab fa-apple"></i> Apple ID</a>
												</div>
					</div>
				</div>
								<div class="bottom text-center">
					<a href="/login/v/register/" class="btn btn-danger btn-block"><b>Зареєструватися</b></a>
				</div>
				
				</li>
				</ul>
			</li>
       
				
				<li class="nav-item dropdown hidden-xs">
					<button type="button" class="navbar-toggle navbar-toggle-visible" id="commondropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="dropdown-menu" aria-labelledby="commondropdown">
												<a class="dropdown-item" href="/guides/">Гіди</a>
						
												<a class="dropdown-item" href="/shop/">Спорядження</a>
						
												<a class="dropdown-item" href="/quests/">Квести</a>
						
												<a class="dropdown-item" href="/pages/v/handbook/">Довідник</a>
						
						<a class="dropdown-item" href="/weather/">Погода</a>
						<a class="dropdown-item" href="/blog/">Блог</a>
						<a class="dropdown-item" href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
                        <a class="dropdown-item" href="/pages/developer/Informatsiya+pro+rozrobnika.htm">Розробник</a>
						<a class="dropdown-item" href="/contact/">Контакт</a>
					</div>
				</li>

				<li class="nav-item dropdown hidden-xs">
					<a class="nav-link dropdown-toggle" href="#" id="communitydropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
							<span class="caret"></span>
					</a>
					<div class="dropdown-menu" aria-labelledby="communitydropdown">
												<a class="dropdown-item" href="/de/routes/v/route/31/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="24">
							German</a>
												<a class="dropdown-item" href="/en/routes/v/route/31/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="24">
							English</a>
												<a class="dropdown-item" href="/pl/routes/v/route/31/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="24">
							Polish</a>
												<a class="dropdown-item" href="/routes/v/route/31/">
														<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="24">
							Ukrainian</a>
											</div>
				</li>
			</ul>
			
		</div><!-- /.navbar-collapse -->
		<div class="row visible-xs languageselectorxs">
		<div class="col-xs-12">
			<div class="row text-right">
									<span class="languageitem">
										<a href="/de/routes/v/route/31/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/de.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/en/routes/v/route/31/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/en.svg" width="18">
										</a>					</span>
									<span class="languageitem">
										<a href="/pl/routes/v/route/31/" class="page-scroll changelanguagelink">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/pl.svg" width="18">
										</a>					</span>
									<span class="languageitem">
															<img src="https://hatscripts.github.io/circle-flags/flags/language/uk.svg" width="18">
															</span>
								&nbsp;&nbsp;
			</div>
		</div>
		</div>
	</div><!-- /.container-fluid -->
</nav>
<div id="ai_mcp_modal_div" class="modal fade" role="dialog">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal">&times;</button>
		  <h4 class="modal-title"><img src="/images/icons/chatbot.png" width="24"> AI Connect - Інтеграція з AI-чатом</h4>
		</div>
		<div class="modal-body">
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<p class="muted" style="font-size:x-small">Цей сайт може бути інтегрований з вашим улюбленим AI-чатом, наприклад, Claude Desktop, CleverChatty CLI та інші.</p>
					<p class="muted" style="font-size:xx-small">AI-чат повинен підтримувати MCP (Model Context Protocol) для роботи з цим сайтом.</p>
					<p class="muted" style="font-size:x-small">Скопіюйте це MCP URL та додайте до налаштувань вашого AI-чату.</p>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-6 text-center">
							<a href="#">
								<img src="/images/icons/chatgpt.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
						<div class="col-xs-6">
							<a href="#">
								<img src="/images/icons/claude.png" width="100" class="img-responsive thumbnail center-block" alt="ChatGPT"> 
							</a>
						</div>
					</div>
				</div>
			</div>
		  
		</div>
		<div class="modal-footer">
			<div class="row form-group">
				<label class="control-label col-sm-2" for="urlInput">MCP URL:</label>
				<div class="col-sm-10">
					<input type="text" id="urlInput" class="form-control" 
						value="http://vpohid.com.ua:8888/sse/" readonly onclick="this.select();" />
				</div>
			</div>
		</div>
	  </div>
	</div>
</div>
</div>
	<section class="container headershort">
		<div class="row text-center">
			<div class="col-xs-6 col-sm-3">
				<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001" class="btn craft-btn">
				<span class="fab fa-apple"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Apple iOS</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
				<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking" class="btn craft-btn">
				<span class="fab fa-android"></span>
				<div class="craft-btn-content">
					<h6>Download for</h6>
					<h4>Android</h4>
				</div>
				</a>
			</div>
			<div class="col-xs-6 col-sm-3">
								<a href="/pages/donate/Pidtrimayte+proekt+finansovo.htm" class="btn craft-btn">
				<span class="fa fa-usd"></span>
				<div class="craft-btn-content">
					<h6>Підтримайте проєкт</h6>
					<h4>DONATE</h4>
				</div>
				</a>
							</div>
			<div class="col-xs-6 col-sm-3">
								 
				<a href="https://www.tsypa.beer/" class="btn craft-btn sponsor-btn">
										<img src="/images/sponsor/web_logo_mini.png?2">
									<div class="craft-btn-content">
					<h6>Наш спонсор</h6>
					<h4>ЦИПА</h4>
				</div>
				</a>
											</div>
        </div>
		
	</section>
</section>      
    <section class="container" id="content">
	    
        
<div class="panel panel-default">
    <div class="panel-heading ">
		<div class="row">
        <div class="col-xs-4">

		        <a href="/routes/"><i class="fas fa-long-arrow-alt-left"></i><span class="hidden-xs"> Назад до списку</span></a>
		        </div>
        <div class="col-xs-8 text-right">
                    </div>
		</div>
    </div>
    <div class="panel-body routeview">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-9 col-lg-10">
                <div class="row routetitle">
                    <div class="col-xs-1">
                        <span style="color:#01690b"><i class="fas fa-square fa-lg"></i></span>
                    </div>
                    <div class="col-xs-11">
                        <h2>Явірник-Горган з Яремче в Микуличин чи Татарів</h2>
                    </div>
                    
                </div>
                <div class="row ">
                    
                    <div class="col-sm-6 col-xs-12 " id="leftcol">
                        
                        <div class="row shortdescription">
                            Яремче - Явірник-Горган-Татарів-Микуличин
                        </div>
                        
                        <div class="row">
                            <div class="col-xs-8">
                                                                <span class="text-muted">Вихід з:</span> <a href="/towns/v/town/6/">Яремче</a> - 
                                <span class="text-muted">Фініш в: </span><a href="/towns/v/town/10/">Татарів</a>
                                                            </div>
                            <div class="col-xs-4 text-right text-muted">
                                <span class="text-info">32.3 км</span><br>
                                <span class="text-dark">7 годин</span><br>
                                <span class="text-muted">Рівень: Любитель</span>
                            </div>
                        </div>
                        
                        <div class="row routemounts">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Вершини на маршруті: </span>
                                                                                                                                <a href="/map/v/item/120/">Явірник-Горган</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/810/">Круглий Явірник</a>
                                                                
                                                                                            </div>	
                        </div>
                        <div class="row routeinterestingplaces">
                            <div class="col-xs-12">
                                                                <span class="text-muted">Цікаве на маршруті: </span>
                                                                                                                                <a href="/map/v/item/5036/">Водоспад Прудкий</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/4937/">Водоспад Багровецький</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/4406/">Оглядовий майданчик</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/4945/">Водоспад Багровецький Малий</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/2398/">Річка Багрівець</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5018/">Водоспад Чоловічі Сльози</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/41/">Водоспад Дівочі Сльози</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/5155/">Водоспад Пробій</a>
                                                                
                                                                                                , 
                                                                <a href="/map/v/item/2964/">Маршрут Яремче - гора Сынячка - Яремче </a>
                                                                
                                                                                            </div>	
                        </div>
                                                <div class="row routeweather">
                            <div class="col-xs-12">
                                <span class="text-muted">Прогноз погоди в населених пунктах в районі маршруту: </span>
                            </div>
                            <div class="col-xs-2">
                                <img src="/images/icons/cloud.png" width="48">
                            </div>
                            <div class="col-xs-10">
                                
                                <ul>
                                                                <li><span class="text-muted">Місто</span> <a href="/weather/v/view/6/?kind=town&">Яремче</a></li>
                                                                <li><span class="text-muted">Село</span> <a href="/weather/v/view/10/?kind=town&">Татарів</a></li>
                                                                </ul>
                            </div>	
                        </div>
                                                
                    </div>
                    <div class="col-sm-6 col-xs-12" >
                                                <div class="row text-right"><a href="/profile/v/public/0/?edit=y&addroute=31&">
                                <i class="fas fa-address-card"></i> Я пройшов цей маршрут</a></div>
                                                <div class="row description">Популярний маршрут з Яремче на гору Явірник-Горган.</div>
                        
                                                <div class="row routeguides">
														<div class="col-xs-12">
								<div><b>Гіди на цьому маршруті</b></div>
																	
																		<div class="row guideline">
										<div class="col-xs-2">
										<img src="/guides/v/photo/24/" width="50">  
										</div>
										<div class="col-xs-10">
										<b><a href="/guides/v/guide/24/" >TURE</a></b><br>
										<span class="text-muted">Організовуємо походи в Карпатах протягом усього року різної тривалості та складності. Локації трекінгових мандрівок: Чорногора, Свидовець, Ґорґани тощо. Наша мережа кемпів «Білий Слон» пропонує мандрівникам проживання, харчування та інші послуги: гірська хатина «Білий Слон Ґаджина» (1100 м н. р. м.), кемп «Білий Слон Дземброня» (720 м н. р. м.).</span>
										</div>
									</div>
																																										<div class="guideline text-muted text-center">
									Ви гід? <a href="/guides/">Покажіть свої послуги тут</a>
								</div>
															</div>	
                        </div>
							
                                                <div class="row routelinks">
                            <div class="col-xs-12">
								Корисні посилання
                                <ul>
                                                                <li><a href="https://www.gorgany.com/r/Alc3" target="_blank">Про хребет Явірник на Gorgany PRO</a></li>
                                                                </ul>
                            </div>	
                        </div>
                                            </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-2 hidden-xs hidden-sm">
                            </div>
        </div>
		        <div class="row text-left hidden-md hidden-lg">
                    </div>
                <div class="row" id="mapout">
			<div id="map"></div>
		</div>
		<div class="row text-center" style="margin-bottom:30px;">
            <a href="/map/?mclat=48.44561400&mclng=24.550366000&mz=14&" >Показати на загальній карті</a>
		</div>
		<div class="row text-center">
                    </div>
                <div class="row text-center">
            <h3>3D відео анімація цього маршруту</h3>
        </div>
        <div class="row text-center">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
				<div class="youtubeVideoWrapper">
                <iframe src="https://www.youtube.com/embed/wMvM49vCWfo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
            </div>
    </div>
<div class="row">
	<div class="col-sm-12">
		<div class="row">
						<div class="col-md-6 col-sm-12 objectphotos">
				                												                                				<script src="/js/comments.js"></script>
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
            <div class="col-xs-6 h3">
            Фотогалерея
            </div>
            <div class="col-xs-6">
				                            </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="row photogallery" id="photogallerydiv">
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb23049">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/23049_1000.jpg" 
                        id="photourl23049"
                        data-footer="Класний маршрут для одноденного походу. Краєвиди бомба. Людей майже немає. По дистанції вийшло близько 20км, але ми починали не з вокзалу в Яремче, а біля готелю Станіславський. По часу  - 8 годин, з 30хв привалом на перекус на горі та 3-4 короткими привалами на попити води." 
                        data-image-id="" 
                        data-addedby="Володимир" 
                        data-whenadded="26 липня, 22:34" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/23049.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/23049_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/23049_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/23049_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/23049_300.jpg" alt="Класний маршрут для одноденного походу. Краєвиди бомба. Людей майже немає. По дистанції вийшло близько 20км, але ми починали не з вокзалу в Яремче, а біля готелю Станіславський. По часу  - 8 годин, з 30хв привалом на перекус на горі та 3-4 короткими привалами на попити води." style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb21404">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/21404_1000.jpg" 
                        id="photourl21404"
                        data-footer="Хребет Явірник" 
                        data-image-id="" 
                        data-addedby="Vitalii Yakymchuk" 
                        data-whenadded="24 вересня, 09:51" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21404.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21404_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21404_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/21404_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/21404_300.jpg" alt="Хребет Явірник" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb19492">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/19492_1000.jpg" 
                        id="photourl19492"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Maxim Durdas" 
                        data-whenadded="2024, 12 червня, 21:07" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/19492.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/19492_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/19492_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/19492_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/19492_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb19491">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/19491_1000.jpg" 
                        id="photourl19491"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Maxim Durdas" 
                        data-whenadded="2024, 12 червня, 21:06" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/19491.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/comments\/v\/photo\/19491\/?thumb=100&","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/19491_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/19491_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/19491_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb18941">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/18941_1000.jpg" 
                        id="photourl18941"
                        data-footer="Маю досвід проходження цього маршруту з початку та до кінця. Гарні ліси, чудові полонині та місця для відпочинку, але є кілька важливих нюансів:
1. Дійсно краще починати з Татарова, погоджуюсь з попереднім коментарем;
2. Якщо йти увесь маршрут (включно з виходом на Явірник-Горган який усіяний валунами), варто йти з мінімальною вагою / маленьким наплічником;
3. Помічені на мапі джерела наче чисті, але принаймні на травень місяць не дають великий приток, тод готуйтесь буквально по краплі збирати воду у гнучкий посуд." 
                        data-image-id="" 
                        data-addedby="Sun Александр" 
                        data-whenadded="2024, 13 травня, 13:30" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/18941.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/18941_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/18941_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/18941_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/18941_300.jpg" alt="Маю досвід проходження цього маршруту з початку та до кінця. Гарні ліси, чудові полонині та місця для відпочинку, але є кілька важливих нюансів:
1. Дійсно краще починати з Татарова, погоджуюсь з попереднім коментарем;
2. Якщо йти увесь маршрут (включно з виходом на Явірник-Горган який усіяний валунами), варто йти з мінімальною вагою / маленьким наплічником;
3. Помічені на мапі джерела наче чисті, але принаймні на травень місяць не дають великий приток, тод готуйтесь буквально по краплі збирати воду у гнучкий посуд." style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb14264">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/14264_1000.jpg" 
                        id="photourl14264"
                        data-footer="" 
                        data-image-id="" 
                        data-addedby="Petruk" 
                        data-whenadded="2023, 1 липня, 20:56" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/14264.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/14264_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/14264_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/14264_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/14264_300.jpg" alt="" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb11649">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/11649_1000.jpg" 
                        id="photourl11649"
                        data-footer="Ранковий вид з г.Явірник-Горган. 
Внизу урочище Женець" 
                        data-image-id="" 
                        data-addedby="Ivan Maljarenko" 
                        data-whenadded="2022, 12 вересня, 15:29" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/11649.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11649_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11649_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/11649_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/11649_300.jpg" alt="Ранковий вид з г.Явірник-Горган. 
Внизу урочище Женець" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb11648">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/11648_1000.jpg" 
                        id="photourl11648"
                        data-footer="Вид з г.Явірник-Горган в бік Татарова. Літній вечір" 
                        data-image-id="" 
                        data-addedby="Ivan Maljarenko" 
                        data-whenadded="2022, 12 вересня, 15:24" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/11648.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11648_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11648_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/11648_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/11648_300.jpg" alt="Вид з г.Явірник-Горган в бік Татарова. Літній вечір" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem" id="photothumb5256">
                <div class="thumbnail">
                    <a class="thumbnaila" href="/static/photothumbs/5256_1000.jpg" 
                        id="photourl5256"
                        data-footer="Явірник Горган" 
                        data-image-id="" 
                        data-addedby="Сергей Ониш" 
                        data-whenadded="2021, 30 червня, 19:57" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/5256.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5256_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5256_300.jpg","license":"own"}'>
                        <img src="https://vpohid.com.ua/static/photothumbs/5256_300.jpg" 
                            origsrc="https://vpohid.com.ua/static/photothumbs/5256_300.jpg" alt="Явірник Горган" style="width:100%">
                    </a>
                                    </div>
                
            </div>
                        
                        <div class="col-xs-6 col-sm-4 col-md-4 photogalleryitem">
                <div class = "thumbnail">
                <a href="/comments/v/photos/31/?kind=route&" role="button" class="btn btn-info">Всі фото</a> 
                </div>
            </div>
                        </div>
        </div>
        </div>
   

<div id="photoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="photoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-10">
				<div class="row">
					<div class="col-xs-2 col-md-1 text-left">
						<button type="button" class="btn btn-primary" id="show-previous-image"><i class="fas fa-angle-double-left"></i></button>
					</div>
					<div class="col-xs-2 col-md-1 text-right">
						<button type="button" id="show-next-image" class="btn btn-info"><i class="fas fa-angle-double-right"></i></button>
					</div>
					<div class="col-xs-8 col-md-10 text-center text-muted" id="photoviewdialoginfo"></div>
				</div>
                <div class="row">
					<div class="col-xs-12 col-md-10 col-md-offset-1 text-center" id="photoviewdialogcaption"></div>
                </div>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    var setClickAttr = '.thumbnail a.thumbnaila';
    $(function() {
            $('body').on('click', '.editphoto', function(e) {
                    e.stopPropagation();
              
                    if ($('#editcommentlink'+$(this).attr("photoid")).length) {
						$('#editcommentlink'+$(this).attr("photoid")).click()
						return ;
					}
                    $('#editcommentarea').val($('#photourl'+$(this).attr("photoid")).attr('data-footer'));
                    $('#commentid').val($(this).attr("photoid"));

                    var selector = $('#photourl'+$(this).attr('photoid'));
                    var photoInfo = getPhotoLicenseInfo(selector);

                    if (photoInfo.license != "own") {
                        $('#editphotolicense').val(photoInfo.licenseid);
                        $('#editphotosource').val(photoInfo.photosource);
                        $('#editphotocopyright').val(photoInfo.photocopyright);
                        $("#editthisismyphoto").prop('checked', false);
                    } else {
                        $('#editphotosource').val('');
                        $('#editphotocopyright').val('');
                        $("#editthisismyphoto").prop('checked', true);
                    }
                    $("#editthisismyphoto").change();
                    
                    $('#editphotodiv').show()
					
                    $("#editcommentdialog").modal("toggle");
                    $('#editcommentarea').focus()
            });
            
            loadGallery();

            
            
            
    });
    function loadGallery(){
		var current_image,
			selector,
			counter = 0;

		$('#show-next-image, #show-previous-image').click(function(){
			if($(this).attr('id') == 'show-previous-image'){
				current_image--;
			} else {
				current_image++;
			}

			selector = $('[data-image-id="' + current_image + '"]');
			updateGallery(selector);
		});

		function updateGallery(selector) {
			var $sel = selector;
			current_image = $sel.data('image-id');
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#photoviewdialogcaption').html(caption)
			$('#photoviewdialoginfo').html(info)

			$('#photoviewdialogimg').attr('src',$sel.attr('href'))

			disableButtons(counter, $sel.data('image-id'));
			
			$("#photoviewdialog").modal("show");
		}

		
		$('[data-image-id]').each(function(){
			counter++;
			$(this).attr('data-image-id',counter);
		});
		
		$(setClickAttr).on('click',function(event){
			event.preventDefault();
			if(event.target.nodeName == 'IMG') {
				updateGallery($(this));
			}
		});
	}
	//This function disables buttons when needed
	function disableButtons(counter_max, counter_current){
		$('#show-previous-image, #show-next-image').show();
		console.log(counter_current+','+counter_max)
		if(counter_max == counter_current){
			$('#show-next-image').hide();
			
		}
		if (counter_current == 1){
			$('#show-previous-image').hide();
		}
	}
</script>


			</div>
			<div class="col-md-6 col-sm-12 objectcomments">
								<script src="/js/comments.js"></script>
        <div class="panel panel-default">
        <div class="panel-heading">
           <div class="row">
            <div class="col-xs-4 h3">
            Коментарі
            </div>
            <div class="col-xs-8 text-right">
				
				

    

<script>
    $(function() {
            $(".addcomment").click(function() {
                    if (!loginRequired("Лише зареєстровані користувачі можуть коментувати")) {
                        return;
                    }


            });

            


    });
    
</script>




                <button type="button" class="btn btn-info addcomment"><i class="fas fa-plus-circle"></i> 
					<span class="hidden-xs">Додати коментар або фото</span><span class="visible-xs">Додати</span></button>
            </div>
            </div>
        </div>
        <div class="panel-body" id="commentslist">
                        <div class="row comment" id="commentpanel23049">
                <div class="row commentinfo"><a name="comment23049"></a>Володимир - <span class="commenttime">2025-07-26 19:34:56</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/23049.jpg" 
                        id="commentphotourl23049"
                        commentid="23049"
                        data-footer="Класний маршрут для одноденного походу. Краєвиди бомба. Людей майже немає. По дистанції вийшло близько 20км, але ми починали не з вокзалу в Яремче, а біля готелю Станіславський. По часу  - 8 годин, з 30хв привалом на перекус на горі та 3-4 короткими привалами на попити води." 
                        data-addedby="Володимир" 
                        data-whenadded="26 липня, 19:34" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/23049.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/23049_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/23049_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/23049_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/23049_100.jpg" class="commentphoto" id="commentphoto23049"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment23049">Класний маршрут для одноденного походу. Краєвиди бомба. Людей майже немає. По дистанції вийшло близько 20км, але ми починали не з вокзалу в Яремче, а біля готелю Станіславський. По часу  - 8 годин, з 30хв привалом на перекус на горі та 3-4 короткими привалами на попити води.</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21729">
                <div class="row commentinfo"><a name="comment21729"></a>Iulia Ia - <span class="commenttime">2025-01-01 14:15:27</span>
                                                </div>
                <div class="row commenttext" id="comment21729">доброго дня, як цей маршрут для зимового походу?</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21404">
                <div class="row commentinfo"><a name="comment21404"></a>Vitalii Yakymchuk - <span class="commenttime">2024-09-24 06:51:28</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/21404.jpg" 
                        id="commentphotourl21404"
                        commentid="21404"
                        data-footer="Хребет Явірник" 
                        data-addedby="Vitalii Yakymchuk" 
                        data-whenadded="24 вересня, 06:51" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/21404.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21404_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/21404_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/21404_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/21404_100.jpg" class="commentphoto" id="commentphoto21404"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment21404">Хребет Явірник</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21045">
                <div class="row commentinfo"><a name="comment21045"></a>Оля Чернюк - <span class="commenttime">2024-08-21 17:46:10</span>
                                                </div>
                <div class="row commenttext" id="comment21045">А який інакший маршрут можете порадити? 
Я підіймалась лише на Петрос та Говерлу, соло йду вперше</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21044">
                <div class="row commentinfo"><a name="comment21044"></a>Олександра Тригуб - <span class="commenttime">2024-08-21 17:43:10</span>
                                                </div>
                <div class="row commenttext" id="comment21044">Так, цей варіант чудово підійде) також можете повернутися назад у Яремче з полонини Явірник, це навіть буде швидше, ніж йти до Татарова чи Микуличина

Але якщо боїтеся чи не дуже впевнено ходите по брилистому камінню, то раджу пошукати якийсь інший маршрут, бо від вершини і до самої полонини дорога йде виключно насипами каміння</div>
                                
            </div>
                        <div class="row comment" id="commentpanel21039">
                <div class="row commentinfo"><a name="comment21039"></a>Оля Чернюк - <span class="commenttime">2024-08-21 14:08:23</span>
                                                </div>
                <div class="row commenttext" id="comment21039">Підскажіть будь ласка, чи підійде цей маршрут для одноденного соло походу? Планую вирушати з Яремче до Микуличина. Чи можливо порадите якісь кращі маршрути? 
Дякую за відповідь.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel20596">
                <div class="row commentinfo"><a name="comment20596"></a>Vasia Skripnik - <span class="commenttime">2024-08-05 12:27:50</span>
                                                </div>
                <div class="row commenttext" id="comment20596">Добрий день
Планую пройти цей маршрут 
З с,Татарів нормально буде?
Як там з блокпостами?</div>
                                
            </div>
                        <div class="row comment" id="commentpanel19553">
                <div class="row commentinfo"><a name="comment19553"></a>Roman Gelembjuk - <span class="commenttime">2024-06-16 12:40:52</span>
                                                </div>
                <div class="row commenttext" id="comment19553">Це маршрут на 1 день. Можна на два якщо хочете почілити на полонині</div>
                                
            </div>
                        <div class="row comment" id="commentpanel19552">
                <div class="row commentinfo"><a name="comment19552"></a>Illia - <span class="commenttime">2024-06-16 12:24:32</span>
                                                </div>
                <div class="row commenttext" id="comment19552">Хто проходив цей маршрут, підскажіть будь ласка — він буде на 2 дні, чи на 3?</div>
                                
            </div>
                        <div class="row comment" id="commentpanel18941">
                <div class="row commentinfo"><a name="comment18941"></a>Sun Александр - <span class="commenttime">2024-05-13 10:30:43</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/18941.jpg" 
                        id="commentphotourl18941"
                        commentid="18941"
                        data-footer="Маю досвід проходження цього маршруту з початку та до кінця. Гарні ліси, чудові полонині та місця для відпочинку, але є кілька важливих нюансів:
1. Дійсно краще починати з Татарова, погоджуюсь з попереднім коментарем;
2. Якщо йти увесь маршрут (включно з виходом на Явірник-Горган який усіяний валунами), варто йти з мінімальною вагою / маленьким наплічником;
3. Помічені на мапі джерела наче чисті, але принаймні на травень місяць не дають великий приток, тод готуйтесь буквально по краплі збирати воду у гнучкий посуд." 
                        data-addedby="Sun Александр" 
                        data-whenadded="2024, 13 травня, 10:30" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/18941.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/18941_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/18941_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/18941_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/18941_100.jpg" class="commentphoto" id="commentphoto18941"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment18941">Маю досвід проходження цього маршруту з початку та до кінця. Гарні ліси, чудові полонині та місця для відпочинку, але є кілька важливих нюансів:
1. Дійсно краще починати з Татарова, погоджуюсь з попереднім коментарем;
2. Якщо йти увесь маршрут (включно з виходом на Явірник-Горган який усіяний валунами), варто йти з мінімальною вагою / маленьким наплічником;
3. Помічені на мапі джерела наче чисті, але принаймні на травень місяць не дають великий приток, тод готуйтесь буквально по краплі збирати воду у гнучкий посуд.</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel17052">
                <div class="row commentinfo"><a name="comment17052"></a>Ivan Zvaryka - <span class="commenttime">2023-09-25 11:48:40</span>
                                                </div>
                <div class="row commenttext" id="comment17052">Загубив павербанк з яскравим помаранчевим шнурком десь по дорозі з вершини г. Явірник-Горган на полонину. Якщо хтось знайде, заберіть його плз з гори. Якщо раптом хтось захоче повернути - t.me/zvaryka</div>
                                
            </div>
                        <div class="row comment" id="commentpanel15491">
                <div class="row commentinfo"><a name="comment15491"></a>Margaret V - <span class="commenttime">2023-08-07 12:53:35</span>
                                                </div>
                <div class="row commenttext" id="comment15491">А які саме галявини маєте на увазі? Чи вони знаходяться на полонині чи у лісі?</div>
                                
            </div>
                        <div class="row comment" id="commentpanel14263">
                <div class="row commentinfo"><a name="comment14263"></a>Petruk - <span class="commenttime">2023-07-01 17:53:57</span>
                                                </div>
                <div class="row commenttext" id="comment14263">Почав маршрут з зворотнього напрямку з с. Татарів. Маршрут набагато легший. Дві чудові галявини для кемпінгу.</div>
                                
            </div>
                        <div class="row comment" id="commentpanel11649">
                <div class="row commentinfo"><a name="comment11649"></a>Ivan Maljarenko - <span class="commenttime">2022-09-12 12:29:49</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/11649.jpg" 
                        id="commentphotourl11649"
                        commentid="11649"
                        data-footer="Ранковий вид з г.Явірник-Горган. 
Внизу урочище Женець" 
                        data-addedby="Ivan Maljarenko" 
                        data-whenadded="2022, 12 вересня, 12:29" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/11649.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11649_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11649_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/11649_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/11649_100.jpg" class="commentphoto" id="commentphoto11649"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment11649">Ранковий вид з г.Явірник-Горган. 
Внизу урочище Женець</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel11648">
                <div class="row commentinfo"><a name="comment11648"></a>Ivan Maljarenko - <span class="commenttime">2022-09-12 12:24:45</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/11648.jpg" 
                        id="commentphotourl11648"
                        commentid="11648"
                        data-footer="Вид з г.Явірник-Горган в бік Татарова. Літній вечір" 
                        data-addedby="Ivan Maljarenko" 
                        data-whenadded="2022, 12 вересня, 12:24" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/11648.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11648_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/11648_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/11648_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/11648_100.jpg" class="commentphoto" id="commentphoto11648"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment11648">Вид з г.Явірник-Горган в бік Татарова. Літній вечір</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel5256">
                <div class="row commentinfo"><a name="comment5256"></a>Сергей Ониш - <span class="commenttime">2021-06-30 16:57:46</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/5256.jpg" 
                        id="commentphotourl5256"
                        commentid="5256"
                        data-footer="Явірник Горган" 
                        data-addedby="Сергей Ониш" 
                        data-whenadded="2021, 30 червня, 16:57" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/5256.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5256_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5256_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/5256_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/5256_100.jpg" class="commentphoto" id="commentphoto5256"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment5256">Явірник Горган</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel5249">
                <div class="row commentinfo"><a name="comment5249"></a>Назар Рябуха - <span class="commenttime">2021-06-30 13:02:45</span>
                                                </div>
                                <div class="row">
					<div class="col-xs-6 col-sm-3 col-md-2">
                        <a class="commentphotolink" href="https://vpohid.com.ua/static/photos/5249.jpg" 
                        id="commentphotourl5249"
                        commentid="5249"
                        data-footer="Вид на Яремче" 
                        data-addedby="Назар Рябуха" 
                        data-whenadded="2021, 30 червня, 13:02" 
                        data-photoinfo='{"viewurl":"https:\/\/vpohid.com.ua\/static\/photos\/5249.jpg","thumbviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5249_100.jpg","thumbmiddleviewurl":"https:\/\/vpohid.com.ua\/static\/photothumbs\/5249_300.jpg","license":"own"}'
                        >
							<img src="https://vpohid.com.ua/static/photothumbs/5249_100.jpg" origsrc="https://vpohid.com.ua/static/photothumbs/5249_100.jpg" class="commentphoto" id="commentphoto5249"></a></div>
					<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment5249">Вид на Яремче</div>
				</div>
                                
            </div>
                        <div class="row comment" id="commentpanel3658">
                <div class="row commentinfo"><a name="comment3658"></a>Roman Gelembjuk - <span class="commenttime">2021-05-13 14:33:46</span>
                                                </div>
                <div class="row commenttext" id="comment3658">Яремче дуже гарне місто!</div>
                                
            </div>
                                </div>
        </div>

<div id="singlephotoviewdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-body">
        <div class="thumbnail">
        <img id="singlephotoviewdialogimg" src="" style="width:100%" class="img-responsive">
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialoginfo"></div>
            <div class="col-xs-12 text-center text-muted" id="commentphotoviewdialogcaption"></div>
			<div class="col-xs-10" style="padding:10px;">
				<a href="" id="singlephotoviewdialoglink">Показати оригінал зображення</a>
			</div>
            <div class="col-xs-2 text-right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
            </div>
        </div>
    </div>
    </div>
    </div>
    </form>
</div>


<script>
    $(function() {
		$('.commentphotolink').on('click',function(event){
			event.preventDefault();
			
			$('#singlephotoviewdialogimg').attr('src',$(this).attr('href'))
			$('#singlephotoviewdialoglink').attr('href',$(this).attr('href'))

            var selector = $('#commentphotourl'+$(this).attr('commentid'));
            
            const [caption, info] = getPhotoLicenseInfoHTML(selector)

			$('#commentphotoviewdialogcaption').html(caption)
			$('#commentphotoviewdialoginfo').html(info)
			
			$('#singlephotoviewdialog').modal('show')
		});
    });
</script>


			</div>
		</div>
	</div>
</div>


<script language="javascript">
    var list = [];
		
    
		
	var route = Array
		
        list.push({lat: 48.44561400, lng: 24.550366000})
        list.push({lat: 48.44511600, lng: 24.549766000})
        list.push({lat: 48.44450400, lng: 24.549433000})
        list.push({lat: 48.44402000, lng: 24.548864000})
        list.push({lat: 48.44362900, lng: 24.548488000})
        list.push({lat: 48.44340800, lng: 24.548070000})
        list.push({lat: 48.44396300, lng: 24.547019000})
        list.push({lat: 48.44416300, lng: 24.546289000})
        list.push({lat: 48.44394900, lng: 24.545710000})
        list.push({lat: 48.44379300, lng: 24.543908000})
        list.push({lat: 48.44446200, lng: 24.541976000})
        list.push({lat: 48.44476000, lng: 24.540560000})
        list.push({lat: 48.44496700, lng: 24.537589000})
        list.push({lat: 48.44455100, lng: 24.537079000})
        list.push({lat: 48.44427700, lng: 24.536408000})
        list.push({lat: 48.44370700, lng: 24.536312000})
        list.push({lat: 48.44308100, lng: 24.535024000})
        list.push({lat: 48.44107400, lng: 24.532492000})
        list.push({lat: 48.44002000, lng: 24.532213000})
        list.push({lat: 48.43922300, lng: 24.531806000})
        list.push({lat: 48.43913800, lng: 24.531462000})
        list.push({lat: 48.43782800, lng: 24.529252000})
        list.push({lat: 48.43728700, lng: 24.528973000})
        list.push({lat: 48.43653300, lng: 24.528909000})
        list.push({lat: 48.43543600, lng: 24.529080000})
        list.push({lat: 48.43539400, lng: 24.528651000})
        list.push({lat: 48.43495200, lng: 24.528244000})
        list.push({lat: 48.43456800, lng: 24.527578000})
        list.push({lat: 48.43308700, lng: 24.528201000})
        list.push({lat: 48.43261100, lng: 24.528126000})
        list.push({lat: 48.43260400, lng: 24.527996000})
        list.push({lat: 48.43304500, lng: 24.527771000})
        list.push({lat: 48.43365700, lng: 24.526634000})
        list.push({lat: 48.43243300, lng: 24.525476000})
        list.push({lat: 48.43108000, lng: 24.523416000})
        list.push({lat: 48.43064600, lng: 24.523501000})
        list.push({lat: 48.43006900, lng: 24.522707000})
        list.push({lat: 48.42934300, lng: 24.521270000})
        list.push({lat: 48.42797600, lng: 24.519768000})
        list.push({lat: 48.42737800, lng: 24.519317000})
        list.push({lat: 48.42640300, lng: 24.519639000})
        list.push({lat: 48.42609700, lng: 24.519639000})
        list.push({lat: 48.42504300, lng: 24.517772000})
        list.push({lat: 48.42407500, lng: 24.515090000})
        list.push({lat: 48.42344800, lng: 24.514243000})
        list.push({lat: 48.42276500, lng: 24.512644000})
        list.push({lat: 48.41998800, lng: 24.508170000})
        list.push({lat: 48.41867000, lng: 24.506979000})
        list.push({lat: 48.41727500, lng: 24.506539000})
        list.push({lat: 48.41588600, lng: 24.505123000})
        list.push({lat: 48.41532400, lng: 24.504179000})
        list.push({lat: 48.41445800, lng: 24.503208000})
        list.push({lat: 48.41421800, lng: 24.503259000})
        list.push({lat: 48.41402400, lng: 24.503063000})
        list.push({lat: 48.41384300, lng: 24.502886000})
        list.push({lat: 48.41359000, lng: 24.502886000})
        list.push({lat: 48.41332400, lng: 24.502765000})
        list.push({lat: 48.41312300, lng: 24.502387000})
        list.push({lat: 48.41204100, lng: 24.502387000})
        list.push({lat: 48.41150700, lng: 24.502226000})
        list.push({lat: 48.40934900, lng: 24.500273000})
        list.push({lat: 48.40922800, lng: 24.499887000})
        list.push({lat: 48.40886400, lng: 24.499522000})
        list.push({lat: 48.40842300, lng: 24.499351000})
        list.push({lat: 48.40739700, lng: 24.498332000})
        list.push({lat: 48.40748100, lng: 24.498447000})
        list.push({lat: 48.40695100, lng: 24.499188000})
        list.push({lat: 48.40626200, lng: 24.500391000})
        list.push({lat: 48.40612000, lng: 24.500804000})
        list.push({lat: 48.40600200, lng: 24.500890000})
        list.push({lat: 48.40516900, lng: 24.502370000})
        list.push({lat: 48.40474200, lng: 24.503325000})
        list.push({lat: 48.40422200, lng: 24.504661000})
        list.push({lat: 48.40412200, lng: 24.505063000})
        list.push({lat: 48.40376200, lng: 24.505160000})
        list.push({lat: 48.40361600, lng: 24.505278000})
        list.push({lat: 48.40352700, lng: 24.505675000})
        list.push({lat: 48.40374800, lng: 24.506721000})
        list.push({lat: 48.40416800, lng: 24.507477000})
        list.push({lat: 48.40435000, lng: 24.507665000})
        list.push({lat: 48.40467000, lng: 24.508223000})
        list.push({lat: 48.40470200, lng: 24.508926000})
        list.push({lat: 48.40451000, lng: 24.509467000})
        list.push({lat: 48.40449200, lng: 24.510009000})
        list.push({lat: 48.40436400, lng: 24.510181000})
        list.push({lat: 48.40433600, lng: 24.510471000})
        list.push({lat: 48.40425400, lng: 24.510599000})
        list.push({lat: 48.40420000, lng: 24.511404000})
        list.push({lat: 48.40420400, lng: 24.511967000})
        list.push({lat: 48.40397600, lng: 24.512536000})
        list.push({lat: 48.40365900, lng: 24.513169000})
        list.push({lat: 48.40334600, lng: 24.513416000})
        list.push({lat: 48.40309500, lng: 24.513670000})
        list.push({lat: 48.40296600, lng: 24.513713000})
        list.push({lat: 48.40291300, lng: 24.513826000})
        list.push({lat: 48.40281300, lng: 24.513778000})
        list.push({lat: 48.40224300, lng: 24.514234000})
        list.push({lat: 48.40186600, lng: 24.514336000})
        list.push({lat: 48.40143700, lng: 24.514214000})
        list.push({lat: 48.40096300, lng: 24.513855000})
        list.push({lat: 48.40073500, lng: 24.513822000})
        list.push({lat: 48.40075600, lng: 24.514396000})
        list.push({lat: 48.40079500, lng: 24.514822000})
        list.push({lat: 48.40094400, lng: 24.515133000})
        list.push({lat: 48.40152800, lng: 24.516571000})
        list.push({lat: 48.40148600, lng: 24.517579000})
        list.push({lat: 48.40153900, lng: 24.518626000})
        list.push({lat: 48.40143900, lng: 24.519698000})
        list.push({lat: 48.40075500, lng: 24.521356000})
        list.push({lat: 48.40027500, lng: 24.522858000})
        list.push({lat: 48.39976600, lng: 24.523549000})
        list.push({lat: 48.39948400, lng: 24.524135000})
        list.push({lat: 48.39889300, lng: 24.524403000})
        list.push({lat: 48.39849400, lng: 24.524789000})
        list.push({lat: 48.39814500, lng: 24.524977000})
        list.push({lat: 48.39793400, lng: 24.525074000})
        list.push({lat: 48.39797300, lng: 24.525986000})
        list.push({lat: 48.39791000, lng: 24.530303000})
        list.push({lat: 48.39777500, lng: 24.533146000})
        list.push({lat: 48.39749700, lng: 24.534917000})
        list.push({lat: 48.39730700, lng: 24.535926000})
        list.push({lat: 48.39695500, lng: 24.537063000})
        list.push({lat: 48.39645200, lng: 24.538110000})
        list.push({lat: 48.39569200, lng: 24.538535000})
        list.push({lat: 48.39563300, lng: 24.539600000})
        list.push({lat: 48.39584400, lng: 24.540389000})
        list.push({lat: 48.39611900, lng: 24.540839000})
        list.push({lat: 48.39608200, lng: 24.541150000})
        list.push({lat: 48.39591000, lng: 24.541443000})
        list.push({lat: 48.39586600, lng: 24.541703000})
        list.push({lat: 48.39562000, lng: 24.542229000})
        list.push({lat: 48.39522000, lng: 24.543468000})
        list.push({lat: 48.39487500, lng: 24.544916000})
        list.push({lat: 48.39441200, lng: 24.547780000})
        list.push({lat: 48.39398800, lng: 24.548086000})
        list.push({lat: 48.39342200, lng: 24.548306000})
        list.push({lat: 48.39319400, lng: 24.548821000})
        list.push({lat: 48.39248100, lng: 24.549594000})
        list.push({lat: 48.39125600, lng: 24.550066000})
        list.push({lat: 48.39067200, lng: 24.550377000})
        list.push({lat: 48.39015200, lng: 24.550420000})
        list.push({lat: 48.38896200, lng: 24.548746000})
        list.push({lat: 48.38812100, lng: 24.548392000})
        list.push({lat: 48.38763500, lng: 24.547384000})
        list.push({lat: 48.38733400, lng: 24.547309000})
        list.push({lat: 48.38697900, lng: 24.547427000})
        list.push({lat: 48.38646800, lng: 24.548135000})
        list.push({lat: 48.38616500, lng: 24.548425000})
        list.push({lat: 48.38573400, lng: 24.548478000})
        list.push({lat: 48.38530000, lng: 24.548135000})
        list.push({lat: 48.38468400, lng: 24.548277000})
        list.push({lat: 48.38383900, lng: 24.547775000})
        list.push({lat: 48.38301600, lng: 24.546879000})
        list.push({lat: 48.38210700, lng: 24.545259000})
        list.push({lat: 48.38130200, lng: 24.543843000})
        list.push({lat: 48.38062500, lng: 24.542341000})
        list.push({lat: 48.38015500, lng: 24.541893000})
        list.push({lat: 48.37978500, lng: 24.541896000})
        list.push({lat: 48.37874400, lng: 24.543457000})
        list.push({lat: 48.37799600, lng: 24.545624000})
        list.push({lat: 48.37663500, lng: 24.546740000})
        list.push({lat: 48.37637100, lng: 24.547341000})
        list.push({lat: 48.37617100, lng: 24.547223000})
        list.push({lat: 48.37631400, lng: 24.546429000})
        list.push({lat: 48.37698400, lng: 24.544444000})
        list.push({lat: 48.37685600, lng: 24.544337000})
        list.push({lat: 48.37646400, lng: 24.544584000})
        list.push({lat: 48.37563000, lng: 24.546810000})
        list.push({lat: 48.37518100, lng: 24.547137000})
        list.push({lat: 48.37496700, lng: 24.547555000})
        list.push({lat: 48.37487400, lng: 24.548210000})
        list.push({lat: 48.37466100, lng: 24.548510000})
        list.push({lat: 48.37500300, lng: 24.545479000})
        list.push({lat: 48.37515200, lng: 24.544390000})
        list.push({lat: 48.37486500, lng: 24.544496000})
        list.push({lat: 48.37467100, lng: 24.545482000})
        list.push({lat: 48.37432400, lng: 24.546231000})
        list.push({lat: 48.37387400, lng: 24.546699000})
        list.push({lat: 48.37338600, lng: 24.547570000})
        list.push({lat: 48.37318700, lng: 24.548368000})
        list.push({lat: 48.37318900, lng: 24.549030000})
        list.push({lat: 48.37292500, lng: 24.549230000})
        list.push({lat: 48.37286800, lng: 24.548580000})
        list.push({lat: 48.37323800, lng: 24.547137000})
        list.push({lat: 48.37323500, lng: 24.545967000})
        list.push({lat: 48.37307800, lng: 24.546069000})
        list.push({lat: 48.37264700, lng: 24.547459000})
        list.push({lat: 48.37221600, lng: 24.549047000})
        list.push({lat: 48.37202700, lng: 24.549702000})
        list.push({lat: 48.37194900, lng: 24.550410000})
        list.push({lat: 48.37192700, lng: 24.550709000})
        list.push({lat: 48.37202700, lng: 24.551069000})
        list.push({lat: 48.37160700, lng: 24.550768000})
        list.push({lat: 48.37132500, lng: 24.550505000})
        list.push({lat: 48.37111100, lng: 24.550307000})
    		
	
		
    

    function mapLoadedHook() {
        var latlngs = []
        
        for (var i = 0; i < list.length; i++) {
			latlngs.push([list[i].lat, list[i].lng])
		}
		
		
		var polyline = L.polyline(latlngs, {
			color: '#01690b',
			opacity: 1.0,
            weight: 5
			}).addTo(map);
		// zoom the map to the polyline
		map.fitBounds(polyline.getBounds());
		
		L.marker(polyline.getLatLngs()[polyline.getLatLngs().length-1],{
			icon: L.icon({
				iconUrl: '/images/icons/route_finish.png',
				iconSize:     [32, 32]
			}),
            title: 'Кінець маршруту',
			}).addTo(map);
		
		L.marker(polyline.getLatLngs()[0],{
			icon: L.icon({
				iconUrl: '/images/icons/route_start.png',
				iconSize:     [32, 32]
			}),
            title: 'Початок маршруту',
			}).addTo(map);
		var center = polyline.getLatLngs()[parseInt(polyline.getLatLngs().length/2)]

		map.panTo(center);
		map.setZoom(14);
    }

</script>


<div id="markerinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-1" ><img id="markerinfodialogimage" src="" width="40" width="40"></div>
        <div class="col-xs-10 h3" ><a href="" id="markerinfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="markerinfodialogbody">
        <div class="col-sm-8 col-xs-12">
            <div class="row" id="markerinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="markerinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="markerinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="markerinfodialogcommentslist"></div>
            <div class="text-center" id="markerinfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="markerinfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="towninfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" ><a href="" id="towninfodialogtitle" target="_top"></a></a></div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body" style="padding:25px;">
        <div class="row" id="towninfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="towninfodialogdetails"></div>
            <div class="row" id="towninfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="towninfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="towninfodialogcomments">
            <h4>Коментарі</h4>
            <div id="towninfodialogcommentslist"></div>
            <div class="text-center" id="towninfodialogcommentslink">
                <a href="#" target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="towninfodialoglink" class="btn btn-info" role="button" target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="inetcoverdialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11 h3" >Область покриття мобільний інтернетом</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" >
			<div class="col-xs-12">Підтверджені мобільні оператори:</div>
			<div class="col-xs-12" ><h4 id="inetcoveroperators"></h4></div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 col-xs-offset-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="routeinfodialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
        <div class="col-xs-11" >
			Маршрут<br>
			<h3><a href="" id="routeinfodialogtitle" target="_top"></a></a></h3>
			</div>
        <div class="col-xs-1 hidden-xs" ><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button></div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row" id="routeinfodialogbody">
        <div class="col-sm-8 col-xs-12">
			<div class="row" id="routeinfodialogdetails"></div>
            <div class="row" id="routeinfodialogdescription"></div>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogphotos">
                <a href="" target="_top">
                <div class="thumbnail">
                <img src="" style="width:100%">
                <div class="caption" >
                    Показати всі <span></span> фотографій
                </div>
                </div>
                </a>
        </div>
        <div class="col-sm-4 col-xs-12" id="routeinfodialogloading">
                <img src="/images/spinner_smaller.gif" style="width:100%">
        </div>
        </div>
        <div class="row" id="routeinfodialogcomments">
            <h4>Коментарі</h4>
            <div id="routeinfodialogcommentslist"></div>
            <div class="text-center" id="routeinfodialogcommentslink">
                <a href="#"  target="_top">Показати всі <span></span> коментарів</a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
        <div class="col-xs-6 text-left">
                <a href="" id="routeinfodialoglink" class="btn btn-info" role="button"  target="_top">Більше інформації</a>
        </div>  
        <div class="col-xs-6">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i> Закрити</button>
        </div>  
        </div>
    </div>
    </div>
    </div>
</div>

<div id="embedcodebuttondialog" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    
    <div class="modal-header">
        <div class="row">
			<div class="col-xs-10">
				Код для інтеграції	
			</div>
			<div class="col-xs-2">
				<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="far fa-times-circle"></i></button>
			</div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-xs-12 form-group">
                Пряме посилання на відображене на карті
            </div>
			<div class="col-xs-12 form-group">
				<input type="text" name="mapstatelink" class="form-control" id="mapstatelinkinput" >
			</div>
        </div>
        <div class="row">
            <div class="col-xs-12 form-group">
                Код інтеграції обраного виду
            </div>
			<div class="col-xs-12 form-group">
				<textarea name="embedcodetext" class="form-control" id="embedcodeinput" rows="5" cols="80"></textarea>
			</div>
        </div>
    </div>
    </div>
    </div>
</div>


<script>
    var map;
    
    var minZoomLevel = 8;
    var boundNorthEastLat = 50.663537;
    var boundNorthEastLng = 27.390398;
    var boundSouthWestLat  = 47.204799;
    var boundSouthWestLng = 22.034563;
    
    var loadingObjects = false;
    var loadingTowns = false;
    var loadingRoutes = false;
    var loadingInternetConn = false;
    
    var isDefaultLocale = 1;
    
    var centralMarker = false;
    var centerTitle = "";
        
    
    var markersArray = [];
    var townsArray = [];
    var townsMarkersArray = [];
    
    var polygonesArray = [];
    var polygonesTitlesArray = [];
    
    var routesArray = [];
    var routesMarkersArray = [];
    
    var internetCoverArray = [];
    
    var topareas = [];
    var areas = [];
    var loadingAreas = false;

    var markersGrid = {};
    
    var inetCoverZoomRadius = {15:50, 14: 80, 13: 150, 12: 300, 11:500, 10: 800}
    
    function initMap() {

		var Lat = 48.40186600;
		
		var Lnd = 24.514336000;
		
		var CZoom = 0

		
		map = initMapStandard('map',{lat: Lat, lng: Lnd})
		
		var scaleControl = L.control.scale({
			position: 'topleft',
			metric:true,
			imperial:false
		});
		scaleControl.addTo(map);
		
		var measureControl = new L.Control.Measure({
			primaryLengthUnit: 'meters', 
			secondaryLengthUnit: 'kilometers',
			primaryAreaUnit: 'sqmeters', 
			secondaryAreaUnit: 'hectares',
			activeColor: '#a30505',
			completedColor: '#a8323a'
			});
		measureControl.addTo(map);
		
				map.setZoom(13)	
				
		/*
		map.zoomControl = false
		map.scaleControl = false
		map.acrollwheel = false
		map.sisableDoubleClickZoom = true
		*/
        if (CZoom > 0) {
			map.setZoom(CZoom)	
		}
        
                var myLatLng = {lat: 48.40186600, lng: 24.514336000};
        
                map.whenReady(function() {setTimeout(tilesLoaded,1000)});
        
                // Bounds for Ukrainian Karpathians
        var strictBounds = L.latLngBounds(
            L.latLng(boundSouthWestLat, boundSouthWestLng),
            L.latLng(boundNorthEastLat, boundNorthEastLng)
        );
        
        map.on("dragend",function() {
                setCenterLocation()

                if (strictBounds.contains(map.getCenter())) {

                    return;
                }

                // We're out of bounds - Move the map back within the bounds

                var c = map.getCenter()

                x = c.lng;
                y = c.lat;
                maxX = strictBounds.getNorthEast().lng;
                maxY = strictBounds.getNorthEast().lat;
                minX = strictBounds.getSouthWest().lng;
                minY = strictBounds.getSouthWest().lat;
                
                if (x < minX) x = minX;
                if (x > maxX) x = maxX;
                if (y < minY) y = minY;
                if (y > maxY) y = maxY;
                
                map.panTo(new L.LatLng(y,x));
                
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
                
                setCenterLocation()
        });
        
        // control maximum zoom
        map.on('zoomend', function() {
                if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
        });	
                
        
    }
    function tilesLoaded() {
		updateShiftCoef()
		
		loadAreas()
        loadData()
        
                map.on('zoomend', reloadObjects);	
		map.on('dragend', reloadObjects);	 
        
        map.on('zoomend', updateShiftCoef);	
        
        setCenterLocation()
        
        if (typeof mapLoadedHook === 'function') {
			mapLoadedHook()
		}
    } 
    function makeGrid()
    {
        var bounds = getBoundaries()

        markersGrid = []
        // limits are from bounds.boundSouthWestLat to  bounds.boundNorthEastLat
        // and from bounds.boundSouthWestLng to  bounds.boundNorthEastLng
        // make the grid 10x10 , remember bounds of every cell 
        // save cells in markersGrid
        // every cell is 1/10 of the map
        var cellLat = (bounds.boundNorthEastLat - bounds.boundSouthWestLat) / 10
        var cellLng = (bounds.boundNorthEastLng - bounds.boundSouthWestLng) / 10

        for (var i = 0; i < 10; i++) {
            for (var j = 0; j < 10; j++ ) {
                var cell = {
                    boundSouthWestLat: bounds.boundSouthWestLat + cellLat * i,
                    boundSouthWestLng: bounds.boundSouthWestLng + cellLng * j,
                    boundNorthEastLat: bounds.boundSouthWestLat + cellLat * (i+1),
                    boundNorthEastLng: bounds.boundSouthWestLng + cellLng * (j+1),
                    minimumAltitude:0,
                    markers: []
                }
                markersGrid[i+'_'+j] = cell
            }
        }
    }
    function getGridIndexForLocation(lat, lng) {
        // check every cell in markersGrid to find matching cell 
        // return index of the cell
        for (var key in markersGrid) {
            if (lat >= markersGrid[key].boundSouthWestLat && lat <= markersGrid[key].boundNorthEastLat) {
                if (lng >= markersGrid[key].boundSouthWestLng && lng <= markersGrid[key].boundNorthEastLng) {
                    return key
                }
            }
        }
        return false
    }

    function reloadObjects() {
        loadData()
    }
    
		$(function() {
            initMap()// start map loading
		});
         // ==================================================================
    
    function loadData()
	{
		console.log("load data for zoom "+map.getZoom())
		
		if (map.getZoom() <= 10) {
			showAreas()
			showCenterMarker()
			return;
		}
		loadObjects()
		loadTowns()
		loadRoutes()
		loadInternetCover()
		showCenterMarker()
	}
    function showCenterMarker()
    {
		if (centralMarker) {
			console.log("show center marker 48.40186600, 24.514336000")
			L.marker([48.40186600, 24.514336000],{
				title: centerTitle,
				}).addTo(map);
		}
	}
    function setCenterLocation()
    {
        var lng = $('#geocoordslng')
        
        if (!lng || lng === 'undefined') {
            return
        }
        
        var lat = $('#geocoordslat')
        
        lng.val(roundCoord(map.getCenter().lng))
        lat.val(roundCoord(map.getCenter().lat))
    }
    
    function allKindsChecked()
    {
        var allChecked = false
        
        if ($('#filtercheckall').is(":checked")) {
            allChecked = true
        } else {
            allChecked = true
            $. each($(".filtercheckbox"), function(){
                if (!$(this).is(":checked")) {
                    allChecked = false 
                }
            });
        }
        return allChecked
    }
    function loadAreas() {
		if (areas.length == 0) {
			loadingAreas = true
			// load areas
			$.get("/json/map/v/areas/",{},
	        function(data){
	            
	            if(data.status=='ok'){
	                var data = data.response.areas;
	                for (i=0;i<data.areas.length;i++) {
	                    areas[data.areas[i].id] = data.areas[i];
	                }
                    for (i=0;i<data.topareas.length;i++) {
	                    topareas[data.topareas[i].id] = data.topareas[i];
	                }
	                
	                if (map.getZoom() <= 10) {
                        showAreas()
			        }
	                
	            }else{
	                	            }
	            loadingAreas = true
	        }, "json");
		}
	}
    
    function showAreas(att = 0)
    {
		clearAllRegions()
		clearAllMarkers()
		clearAllTowns()
		clearAllRoutes()
		clearInternetConnCover()
		
		$("#listing").html('');
		
		if (att == "undefined") {
			att = 1
		}

		if (areas.length == 0 && att < 5) {
			setTimeout(showAreas, 1000, att+1)
			return
		}

		if (map.getZoom() <= 8) {
            for (var key in topareas) {
                displayPolygone(topareas[key], false, true)
            }
			return 
		}
		
		for (var key in areas) {
			displayPolygone(areas[key], false, true)
		}
	}
    function loadObjects()
    {
        if (loadingObjects) {
            return;
        }
        
        loadingObjects = true;
        
                
        var loadKinds = getKinds()
        
        if (map.getZoom() < 13) {
			removeFromArray(loadKinds,'pasture')
			removeFromArray(loadKinds,'rescuepost')
			removeFromArray(loadKinds,'dangerplace')
		} 
		if (map.getZoom() < 14) {
			removeFromArray(loadKinds,'guide')
			removeFromArray(loadKinds,'watersource')
			removeFromArray(loadKinds,'kampplace')
			removeFromArray(loadKinds,'usefulbuilding')
		}
		
        var request = {
			"kind":loadKinds,
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
                
        
                
        
        $.get("/json/map/v/items/",request,
        function(data){
            
            if(data.status=='ok'){
            
                                
                clearAllMarkers()// remove all existent markers
                clearAllRegions()

                makeGrid()

                // check markers and assign to grid cells  
                for (i=0;i<data.response.items.length;i++) {
                    var item = data.response.items[i]
                    // item has properties latitude and longitude 
                    var gridIndex = getGridIndexForLocation(item.latitude, item.longitude)
                    if (gridIndex) {
                        //console.log("add marker to grid "+gridIndex)
                        // push to markersGrid[gridIndex].markers but keep sorted by sealevel
                        if (markersGrid[gridIndex].markers.length == 0) {
                            markersGrid[gridIndex].markers.push(item)
                        } else if (item.sealevel <= markersGrid[gridIndex].markers[0].sealevel) {
                            markersGrid[gridIndex].markers.push(item)
                        } else {
                            for (var j = 0; j < markersGrid[gridIndex].markers.length; j++) {
                                if (item.sealevel > markersGrid[gridIndex].markers[j].sealevel) {
                                    //console.log('insert marker at '+j+' position')
                                    markersGrid[gridIndex].markers.splice(j, 0, item)
                                    break
                                }
                            }
                        }
                        // keep not more 10 markers in the cell
                        if (markersGrid[gridIndex].markers.length > 5) {
                            markersGrid[gridIndex].markers.pop()
                        }
                    }
                } 
                // now we have markers in grid cells
                // check every cell and display markers
                for (var key in markersGrid) {
                    var cell = markersGrid[key]
                    for (var j = 0; j < cell.markers.length; j++) {
                        addObjectOnMap(cell.markers[j])
                    }
                }  
                //for (i=0;i<data.response.items.length;i++) {
                //    addObjectOnMap(data.response.items[i])
                //}
                if (map.getZoom() < 13) {
					// show areas too
					for (var key in areas) {
						var area = areas[key]
				
						if (area.kind != "area") {
							continue
						}
						displayPolygone(area, true)
					}
				}
                
                            }else{
                            }
            loadingObjects = false
        }, "json");
    }
    function loadTowns()
    {
        if (loadingTowns) {
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('towns'))) {
			// towns should not be loaded
			
			clearAllTowns()
			return;
		}
        
        loadingTowns = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
            
        $.get("/json/towns/v/townpolygons/",request,
        function(data){
            
            if(data.status=='ok'){
                clearAllTowns()
                
                for (var i=0;i<data.response.towns.length;i++) {
					var town = data.response.towns[i]
					
					addTownOnMap(town)	
                }
            }else{
				console.log(data.message)
            }
            loadingTowns = false
        }, "json");
    }
    function loadRoutes()
    {

		
				return;// disabled on this page
				
		
		if (loadingRoutes) {
            return;
        }
        
                
        if (map.getZoom() <= 9) {
            clearAllRoutes()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('all') || k.includes('routes'))) {
			// routes should not be loaded
			clearAllRoutes()
			return;
		}
        
        loadingRoutes = true;
        
        var request = {
			"zoom":map.getZoom(),
			"disableextrainfo":"y",
			"includepoints":"y",
			"bounds":getBoundaries()
            };
            
        $.get("/json/routes/?limit=500&",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearAllRoutes()
                
                for (var i=0;i<data.response.routes.list.length;i++) {
					addRouteOnMap(data.response.routes.list[i])	
                }
                
                                
            }else{
				console.log(data.message)
            }
            loadingRoutes = false
        }, "json");
	}
    function loadInternetCover()
    {		
		if (loadingInternetConn) {
            return;
        }
        
        if (map.getZoom() <= 10) {
            clearInternetConnCover()
            return;
        }
        
        var k = getKinds()
        
        if (!(k.includes('intconn'))) {
			// routes should not be loaded
			clearInternetConnCover()
			return;
		}
        
        loadingInternetConn = true;
        
        var request = {
			"zoom":map.getZoom(),
			"bounds":getBoundaries()
            };
       
        $.get("/json/map/v/internetcover/",request,
        function(data){
            
            if(data.status=='ok'){
				
				clearInternetConnCover()
                
                for (var i=0;i<data.response.polygons.length;i++) {
					addInternetCoverOnMap(data.response.polygons[i])	
                }
            }else{
				console.log(data.message)
            }
            loadingInternetConn = false
        }, "json");
	}
	function getKinds() {
		var kinds = [];
        
                
        kinds.push('all');
        
                
        return kinds
	}
    function addObjectOnMap(obj)
    {
        var zoom = map.getZoom();
        
        if (zoom <= 13 && allKindsChecked()) {
            if (obj.kind == 'usefulbuilding' ||
                obj.kind == 'kampplace' ||
                obj.kind == 'guide' ||
                obj.kind == 'watersource') {
                return ;
            }
        }
        
        if (zoom <= 11 && allKindsChecked()) {
            if (obj.kind == 'rescuepost' ||
                obj.kind == 'placeofinterest') {
                return ;
            }
        }
        if (zoom <= 10 && allKindsChecked()) {
            if (obj.kind == 'lake' ||
                obj.kind == 'pasture') {
                return ;
            }
        }
         
        var image = '/images/markers/'+obj.kind+'.svg';

        if (obj.kind == "marker" && obj.private == "y") {
            image = '/images/markers/privatemarker.svg';
        }
        
        var imageSize = 40
        
        if (zoom == 11) {
			imageSize = 26
		} else if (zoom == 12) {
			imageSize = 30
		}
           
        var marker = L.marker([parseFloat(obj.latitude), parseFloat(obj.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: obj.title
			})
			
        marker.id = obj.id;
        marker.icon_url = image;
        marker.viewurl = obj.viewurl;
        marker.description = obj.description;
        
        if ( 
			//(isDefaultLocale == 0 && obj.kind == 'mount' && (zoom > 12 || obj.sealevel > 1600))  ||
            (obj.kind == 'placeofinterest' || obj.kind == 'rescuepost') && zoom > 13 ||
            (obj.kind == 'lake' || obj.kind == 'pasture') && zoom > 11 ||
            zoom > 16) {
            var fw = "bold"
            
            if (zoom <= 13) {
                fw = "normal"
            }
            marker.bindTooltip(truncateString(obj.title, 20), 
			{
				permanent: true, 
				className: 'markersubtitle',
				direction: 'center'
			})
        }
        
        marker.on('click', markerClick);
        
        marker.addTo(map);
        
        markersArray.push(marker);
        
            }
    function addTownOnMap(townData)
    {
		var image = '/images/markers/town.svg';
        
        var imageSize = 30
           
        var marker = L.marker([parseFloat(townData.latitude), parseFloat(townData.longitude)],{
				icon: L.icon({
					iconUrl: image,
					iconSize:     [imageSize, imageSize]
				}),
				title: townData.title
			})
			
        marker.title = townData.title;
        marker.id = townData.id;
        marker.viewurl = townData.viewurl;
        marker.description = townData.description;

        marker.bindTooltip(truncateString(townData.title, 20), 
        {
            permanent: true, 
            className: 'markersubtitle',
            direction: 'center'
        })
        
        marker.on('click', townPolygonClick);
        
        marker.addTo(map);
        
        townsArray.push(marker);
        
		return true;
	}
	function addInternetCoverOnMap(icPolygon)
    {
		var latlngs = []
        
        for (var i = 0; i < icPolygon.pointslist.length; i++) {
			latlngs.push([icPolygon.pointslist[i][0], icPolygon.pointslist[i][1]])
		}
		var pol ;
		
		if (latlngs.length == 1) {
			
			var radius = inetCoverZoomRadius[map.getZoom()]
			
			if (!radius) {
				radius = 50
			}
			
			pol = L.circle(latlngs[0], 
				{
				radius: radius,
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3});
		} else {
			pol = L.polygon(latlngs, 
				{
				stroke:true,
				color: '#bd5200',
				opacity:0.6,
				weight:1,
				fill:true,
				fillColor:'#fa6f05',
				fillOpacity:0.3
				});
		}
        
        pol.title = icPolygon.operator;
        pol.operators = icPolygon.operators;
        
        pol.on('click', inetConnPolygonClick);
        
		pol.addTo(map)
        
        internetCoverArray.push(pol)
        
		return true;
	}
	function addRouteOnMap(routeData)
    {
		
		// Define the LatLng coordinates for the polygon's path.
        var coords = []
        
        for (var i = 0; i < routeData.points.length; i++) {
			var point = correctAllPointsPoint(routeData.points[i])
			coords.push([parseFloat(point[0]), parseFloat(point[1])])
		}
		
		addToAllPoints(routeData.points)
		
        var poly = L.polyline(coords, {
			color: routeData.color,
			opacity: 1.0,
            weight: 3
		})
        
        poly.routeindex = routesArray.length;
        poly.title = routeData.title;
        poly.id = routeData.id;
        poly.viewurl = routeData.link;
        poly.shortdescription = routeData.shortdescription;
        
        poly.addTo(map);
        
        poly.on('click', routeMarkerClick)
        
        routesArray.push(poly)
        var routeindex = routesArray.length-1
        
        if (map.getZoom() > 14) {
			var em = L.marker(poly.getLatLngs()[poly.getLatLngs().length-1],{
				icon: L.icon({
					iconUrl: '/images/icons/route_finish.png',
					iconSize:     [32, 32]
				}),
				title: 'Кінець маршруту',
				}).addTo(map);
			
			var sm = L.marker(poly.getLatLngs()[0],{
				icon: L.icon({
					iconUrl: '/images/icons/route_start.png',
					iconSize:     [32, 32]
				}),
				title: 'Початок маршруту',
				}).addTo(map);
				
			sm.routeindex = routeindex;
			routesMarkersArray.push(sm)

			em.routeindex = routeindex;
			routesMarkersArray.push(em)
			
			sm.on('click',routeMarkerClick);
			em.on('click',routeMarkerClick);
			
		}

        		
		return true;
	}
	function displayPolygone(polData, liteVer = false, longTitle = false)
    {
		// Define the LatLng coordinates for the polygon's path.
        var coords = []

        var pol = polData.polygone || polData.polygon
        
        for (var i = 0; i < pol.length; i++) {
			coords.push([pol[i][0], pol[i][1]])
		}

		var vFillOpacity = 0.3;
		
		if (liteVer == true) {
			var vFillOpacity = 0.2;
			
			if (map.getZoom() > 12) {
				var vFillOpacity = 0.1;
			}
		}
		// Construct the polygon.
		var pol = L.polygon(coords, 
			{
			color: polData.color,
			opacity:0.8,
			weight:2,
			fillColor:polData.color,
			fillOpacity:vFillOpacity
			}).addTo(map);
        
        polygonesArray.push(pol)
        
        var cl = 'polygontitleonmap'
        
        if (longTitle) {
			cl = 'polygonlongtitleonmap'
		}
        
        if (liteVer != true) {
			var marker = L.marker(pol.getBounds().getCenter(),{
				icon: L.divIcon({ 
					className: cl,
					iconSize: new L.Point(200, 26), 
					html: polData.title
				}),
				title: polData.title,
			}).addTo(map);
			
			polygonesTitlesArray.push(marker);
			
			return [pol, marker]
		}
		return [pol, null]
	}
    
    function clearAllMarkers() 
    {
        for (var i = 0; i < markersArray.length; i++ ) {
            markersArray[i].remove()
        }
        markersArray.length = 0;
    }
    function clearAllTowns() 
    {
        for (var i = 0; i < townsArray.length; i++ ) {
            townsArray[i].remove()
        }
        townsArray.length = 0;
        
        for (var i = 0; i < townsMarkersArray.length; i++ ) {
            townsMarkersArray[i].remove()
        }
        townsMarkersArray.length = 0;
    }
    function clearAllRoutes() 
    {
    
        for (var i = 0; i < routesArray.length; i++ ) {
            routesArray[i].remove()
        }
        routesArray.length = 0;
        
        for (var i = 0; i < routesMarkersArray.length; i++ ) {
			routesMarkersArray[i].remove()
        }
        routesMarkersArray.length = 0;
        
        cleanAllPointsCache()
    }
    function clearInternetConnCover() 
    {
        for (var i = 0; i < internetCoverArray.length; i++ ) {
            internetCoverArray[i].remove()
        }
        internetCoverArray.length = 0;
    }
    function clearAllRegions() 
    {
        for (var i = 0; i < polygonesArray.length; i++ ) {
            polygonesArray[i].remove()
        }
        polygonesArray.length = 0;
        
        for (var i = 0; i < polygonesTitlesArray.length; i++ ) {
			polygonesTitlesArray[i].remove()
        }
        polygonesTitlesArray.length = 0
    } 
    function markerClick()
    {
        
        $('#markerinfodialogtitle').text(this.title)
        $('#markerinfodialogtitle').attr('href', this.viewurl)
        $('#markerinfodialoglink').attr('href', this.viewurl)
        $('#markerinfodialogphotos a').attr('href',this.viewurl)
        $('#markerinfodialogimage').attr('src',this.icon_url)
        $('#markerinfodialogdescription').html(this.description)
        
        $('#markerinfodialogphotos').hide()
        $('#markerinfodialogcomments').hide()
        $('#markerinfodialogloading').show()
        
        $('#markerinfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#markerinfodialogloading').hide()
                
                if(data.status=='ok'){
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'markerinfodialogcommentslist', 'markerinfodialogcommentslink', 'markerinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'markerinfodialogphotos')
                    }
                    
                    if (data.response.item.kind == "mount") {
						$('#markerinfodialogtitle').text(data.response.item.title + " ("+data.response.item.sealevel+")")
					} else {
                        $('#markerinfodialogtitle').text(data.response.item.title)
                    }
                }else{
                    alert(data.message);
                }
            }, "json");
    }
    function townPolygonClick()
    {
		
		$('#towninfodialogtitle').text(this.title)
        $('#towninfodialogtitle').attr('href', this.viewurl)
        $('#towninfodialoglink').attr('href', this.viewurl)
        $('#towninfodialogphotos a').attr('href',this.viewurl)
        $('#towninfodialogdescription').html(this.description)
        
        $('#towninfodialogdetails').html('')
        
        $('#towninfodialogphotos').hide()
        $('#towninfodialogcomments').hide()
        $('#towninfodialogloading').show()
        
        $('#towninfodialog').modal('toggle');
        
        var action = this.viewurl+"?short=y&responseformat=json"
        
        $.get(action,
            function(data){
                $('#towninfodialogloading').hide()
                
                if(data.status=='ok'){
					//console.log('comments '+data.response.comments.commentscount)
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, data.response.item.allcommentsurl,
							'towninfodialogcommentslist', 'towninfodialogcommentslink', 'towninfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'towninfodialogphotos')
                    }
                    var infohtml = data.response.item.kindtitle+' <br>'+data.response.item.districttitle+'<br><br>'
                    
                                        if (data.response.item.hastransportinfo == 'y') {
						infohtml += '<img src="/images/icons/bus-front-red.png" width="20"> &nbsp;'
					}
										if (data.response.item.hastrainstation == 'y') {
						infohtml += '<img src="/images/icons/train-front.png" width="20" > &nbsp;'
					}
					if (data.response.item.transportnode == 'y') {
						infohtml += '<img src="/images/icons/road-sign.png"  width="20"> &nbsp;'
					}
					if (data.response.item.important == 'y') {
						infohtml += '<img src="/images/icons/star.png"  width="20"> &nbsp;'
					}
                    
                    $('#towninfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
	function inetConnPolygonClick()
    {
		$('#inetcoveroperators').text(this.operators)
        
        $('#inetcoverdialog').modal('toggle');
	}
	function routeMarkerClick() {
		var poly = routesArray[this.routeindex]
		
		$('#routeinfodialogtitle').text(poly.title)
		var viewurl = poly.viewurl+"?backto=map"
		
        $('#routeinfodialogtitle').attr('href', viewurl)
        $('#routeinfodialoglink').attr('href', viewurl)
        $('#routeinfodialogphotos a').attr('href',viewurl)
        $('#routeinfodialogdescription').html(poly.shortdescription)
        
        $('#routeinfodialogdetails').html('')
        
        $('#routeinfodialogphotos').hide()
        $('#routeinfodialogcomments').hide()
        $('#routeinfodialogloading').show()
        
        $('#routeinfodialog').modal('toggle');
        
        var action = poly.viewurl+"?short=y&responseformat=json"

        $.get(action,
            function(data){
                $('#routeinfodialogloading').hide()
                
                if(data.status=='ok'){
					
                    if (data.response.comments.commentscount > 0) {
                        addCommentsToDialog(data.response.comments, viewurl,
							'routeinfodialogcommentslist', 'routeinfodialogcommentslink', 'routeinfodialogcomments')
                    }
                    
                    if (data.response.photos.photoscount > 0) {
                        addPhotoToDialog(data.response.photos, 'routeinfodialogphotos')
                    }
                    var infohtml = data.response.route.description+'<br><br>'
                    
                    $('#routeinfodialogdetails').html(infohtml)
                }else{
                    alert(data.message);
                }
            }, "json");
	}
    function addCommentsToDialog(comments, allcommentsurl, infodialogcommentslist, infodialogcommentslink, infodialogcomments)
    {
        $('#'+infodialogcommentslist).html('')
        
        for (i=0;i<comments.comments.length;i++) {
            var c = comments.comments[i]
            
            var html = '<div class="row comment">';
            html += '<div class="row commentinfo">'+c.name+' - ';
            html += '<span class="commenttime">'+c.whenadded+'</span>';
            html += '</div>';
            if (c.photo == 'y') {
				var cm = c.comment
				
				if (cm == "") {
					cm = "[фото]"
				}
				html += '<div class="row">'
				html += '<div class="col-xs-6 col-sm-3 col-md-2"><img src="'+c.photoinfo.thumbviewurl+'" class="commentphoto"></div>'
				html += '<div class="col-xs-6 col-sm-9 col-md-10 commenttext" id="comment'+c.id+'">'+c.comment+'</div>'
				html += '</div>'
			} else {
				html += '<div class="row commenttext" id="comment'+c.id+'">'+c.comment+'</div>';
			}
            html += '</div>';
            
            $( "#"+infodialogcommentslist).append(html);
        }
        if (comments.commentscount > comments.comments.length) {
            $('#'+infodialogcommentslink+' span').text(comments.commentscount)
            $('#'+infodialogcommentslink+' a').attr('href',allcommentsurl)
            $('#'+infodialogcommentslink).show()
        }  else {
            $('#'+infodialogcommentslink).hide()
        }

        $('#'+infodialogcomments).show()
    }
    function addPhotoToDialog(photos, infodialogphotos)
    {

        $('#'+infodialogphotos+' img').attr('src',photos.photos[0].photoinfo.thumbviewurl)
        $('#'+infodialogphotos+' span').text(photos.photoscount)
        
        $('#'+infodialogphotos).show()
        
        if ($('#'+infodialogphotos+' .thumbnail').width() > $('#'+infodialogphotos+' .thumbnail').height()) {
            $('#'+infodialogphotos+' .thumbnail').height($('#'+infodialogphotos+' .thumbnail').width())
        }
    }
    // ======================================================================
    
</script>


<script>
	var allPointsShiftCoef = 0.0002
	var allPointsOnRoutes = {}
	
    function getBoundaries() {
		var bounds = map.getBounds();
        var southWest = bounds.getSouthWest();
        var northEast = bounds.getNorthEast();
            
        			return {
                "boundNorthEastLat":northEast.lat,
                "boundSouthWestLat":southWest.lat,
                "boundNorthEastLng":northEast.lng,
                "boundSouthWestLng":southWest.lng
                }
        	}
    function roundCoord(num)
    {
        return Math.round(num * 100000) / 100000
    }
    function truncateString(content, limit) {
        if (content.length > limit) {
            return content.substring(0, limit);
        }
        return content
    }
    function saveMapState() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat; 
        var mapLng = mapCentre.lng; 
        var mapType = 'STD';
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("MapCookie",cookiestring, 30, 'y');
    } 
	function loadAndGetMapState() { 
        var gotCookieString=getCookie("MapCookie"); 

        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            
        
                        
			var b= {
                "boundNorthEastLat":50.663537,
                "boundSouthWestLat":47.204799,
                "boundNorthEastLng":27.390398,
                "boundSouthWestLng":22.034563
                }
            
            
            if (savedMapLat < boundSouthWestLat || savedMapLat > boundNorthEastLat) {
                return [0, 0, 0, 0];
            }
            if (savedMapLng < boundSouthWestLng || savedMapLng > boundNorthEastLng) {
                return [0, 0, 0, 0];
            }
            
            
			return [1, savedMapLat, savedMapLng, savedMapZoom];
        }

        return [0, 0, 0, 0];
    }
    function loadMapState() { 
        var st = loadAndGetMapState()
        
        if (st[0] == 1) {
			savedMapLat = st[1]
			savedMapLng = st[2]
			savedMapZoom = st[3]

			map.panTo(new L.LatLng(savedMapLat,savedMapLng));

            map.setZoom(savedMapZoom);
        }
    }
    function saveMapStateGoogle() { 
        var mapZoom = map.getZoom(); 
        var mapCentre = map.getCenter(); 
        var mapLat = mapCentre.lat(); 
        var mapLng = mapCentre.lng(); 
        var mapType = map.getMapTypeId();
        
        var cookiestring = mapLat+"_"+mapLng+"_"+mapZoom+"_"+mapType; 
        setCookie("GoogleMapCookie",cookiestring, 30, 'y');
    } 

    function loadMapStateGoogle() { 
        var gotCookieString=getCookie("GoogleMapCookie"); 
        var splitStr = gotCookieString.split("_");
        var savedMapLat = parseFloat(splitStr[0]);
        var savedMapLng = parseFloat(splitStr[1]);
        var savedMapZoom = parseFloat(splitStr[2]);
        
        if ((!isNaN(savedMapLat)) && (!isNaN(savedMapLng)) && (!isNaN(savedMapZoom))) {
            map.setCenter(new google.maps.LatLng(savedMapLat,savedMapLng));
            map.setZoom(savedMapZoom);
        }
        
        if (splitStr.length > 3 && splitStr[3].length > 0) {
            var mapType = splitStr[3]
            if (mapType == "OSML" || mapType == "STD") {
                mapType = "OTM";
            }

            map.setMapTypeId(mapType);
        }
    }
    function initMapWithOSM(mapdivid,centerPoint, allowOutdors = false, mapType = "")
    {
		
        var mapTypeIds = [];
        for(var type in google.maps.MapTypeId) {
            mapTypeIds.push(google.maps.MapTypeId[type]);
        }
        mapTypeIds.push("OSM");
        mapTypeIds.push("OTM");
        
        if (allowOutdors) {
            mapTypeIds.push("OSMO");
        }
        
        if (mapType == "") {
            mapType = "OSM";
        }
        
        if (mapType == "OSML") {
            mapType = "OTM";
        }
        
        var map = new google.maps.Map(document.getElementById(mapdivid), {
                center: centerPoint,
                zoom: 11,
                mapTypeId: mapType,
                mapTypeControl: true,
                streetViewControl: false,
				mapTypeControlOptions: {
					mapTypeIds: mapTypeIds
				}
        });
        
        map.mapTypes.set("OSM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.openstreetmap.org/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OTM", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://maps.vpohid.com.ua/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OpenTopoMaps",
		  maxZoom: 18
		}));
		
		map.mapTypes.set("OSMO", new google.maps.ImageMapType({
		  getTileUrl: function(coord, zoom) {
			return "https://tile.thunderforest.com/outdoors/" + zoom + "/" + coord.x + "/" + coord.y + ".png?apikey=bb9e57ff4e8743328dad2e1aafbb7c6f";
		  },
		  tileSize: new google.maps.Size(256, 256),
		  name: "OSM Outdoors",
		  maxZoom: 18
		}));
		return map
	}
	function initMapStandard(mapdivid,centerPoint)
    {
		
        var map = L.map(mapdivid).setView([centerPoint.lat, centerPoint.lng], 11);
		//L.tileLayer.provider('OpenTopoMap',{
		//		lang: 'en'
		//	}).addTo(map);
		L.tileLayer('https://maps.vpohid.com.ua//{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);
		//L.tileLayer.provider('OpenStreetMap').addTo(map);
      
		return map
	}
	function updateShiftCoef()
    {
		if (map.getZoom() > 17) {
			allPointsShiftCoef = 0.00001
		} else if (map.getZoom() > 16) {
			allPointsShiftCoef = 0.00002
		} else if (map.getZoom() > 15) {
			allPointsShiftCoef = 0.00005
			
		} else if (map.getZoom() > 14) {
			allPointsShiftCoef = 0.0001
			
		} else if (map.getZoom() > 13) {
			allPointsShiftCoef = 0.0002
		} else {
			allPointsShiftCoef = 0.0003
		}
	}
	function cleanAllPointsCache()
	{
		allPointsOnRoutes = {}
	}
	function getAllPointsKey(point)
	{
		return parseFloat(point[0]).toFixed(6).toString()+':'+parseFloat(point[1]).toFixed(6).toString()
	}
	function correctAllPointsPoint(point) {
		var key = getAllPointsKey(point)
		
		if (key in allPointsOnRoutes) {
			var k1 = ((parseFloat(point[0])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			var k2 = ((parseFloat(point[1])- (-allPointsShiftCoef * allPointsOnRoutes[key])).toFixed(6)).toString()
			return [k1, k2]
		}
		return [point[0], point[1]]
	}
	function addToAllPoints(pointslist) {
		var checked = []
		
		for (var i = 0; i< pointslist.length; i++) {
			var key = getAllPointsKey(pointslist[i])
		
			if (checked.includes(key)) {
				continue
			}
			checked.push(key)
			
			if (key in allPointsOnRoutes) {
				allPointsOnRoutes[key] = allPointsOnRoutes[key] - (-1)
			} else {
				allPointsOnRoutes[key] = 1
			}
		}
		//console.log(allPointsOnRoutes)
	}
	function getGoodMapTextColor() {
		var tColor = "white"
		
		if (map.getMapTypeId() != google.maps.MapTypeId.HYBRID && map.getMapTypeId() != google.maps.MapTypeId.SATELLITE) {
			tColor = "brown"
		}
		
		return tColor
	}
</script>


<link rel="stylesheet" href="/components/leaflet/leaflet.css" />
<link rel="stylesheet" href="/components/leaflet/leaflet-measure.css" />
<script src="/components/leaflet/leaflet.js"></script>
<script src="/components/leaflet/leaflet-providers.js"></script>
<script src="/components/leaflet/leaflet-measure.en.js"></script>



    </section>
    
<section class="footersection">
    <footer class="container footer">
    <div class="container">
            </div>
    	<nav class="navbar navbar-default navbar-expand-xs">
	  <div class="container">
	    
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bottomnavbar" aria-expanded="true">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
		  <img src="/images/logo_200.png" width="46">
	      <a class="navbar-brand" href="#">В Похід Карпатами</a>
	    </div>
	
	    <div class="navbar-collapse collapse" id="bottomnavbar">
	      <ul class="nav navbar-nav ">
	        <li class="nav-item">
			  <a href="/map/">Карта</a>
			</li>
			<li class="nav-item">
			  <a href="/pages/about/About+V+Pohid+Karpatami.htm">Про сайт</a>
			</li>
			<li class="nav-item">
			  <a href="/contact/">Контакт</a>
			</li>
						<li class="nav-item">
				<a href="/pages/privacypolicy/Politika+privatnosti.htm">Приватність</a>
			</li>
												<li class="nav-item">
				<a href="/pages/termsofuse/Pravila+vikoristannya.htm">Правила користування</a>
			</li>
				      </ul>
	      <ul class="nav navbar-nav navbar-center">
	        <li class="nav-item">
			  <a href="/forum/">Форум</a>
			</li>
			<li class="nav-item">
			  <a href="/chat/">Чат</a>			
			</li>
			
	      </ul>
	      <ul class="nav navbar-nav navbar-right hidden-xs">
	        				<li class="nav-item text-center"><a href="https://www.facebook.com/vpohid.com.ua/" target="_blank"><i class="fab fa-facebook fa-fw fa-3x"></i></a></li>
													<li class="nav-item text-center"><a href="https://www.instagram.com/vpohid_com_ua/" target="_blank"><i class="fab fa-instagram fa-fw fa-3x" ></i></a></li>
										<li class="nav-item text-center"><a href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" target="_blank"><i class="fab fa-youtube fa-fw fa-3x" ></i></a></li>
				      </ul>
	    </div>
	  </div>
	</nav>

			<div class="row text-center">
				<div class="col-xs-12 visible-xs text-center">
													<a title="facebook" target="_blank" href="https://www.facebook.com/vpohid.com.ua/" class="btn-social btn-md btn-facebook">
								<i class="fab fa-facebook" ></i>
						  	</a>
																									<a title="Instagram" target="_blank" href="https://www.instagram.com/vpohid_com_ua/" class="btn-social btn-md btn-instagram">
								<i class="fab fa-instagram"></i>
							</a>
																			<a title="Youtube" target="_blank" href="https://www.youtube.com/channel/UCGlmwPkQKNRohA93LX50NZg" class="btn-social btn-md btn-youtube">
								<i class="fab fa-youtube"></i>
							</a>
											
				</div>
				<div class="col-xs-12 col-sm-4 text-center">
					<div class="row">
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://play.google.com/store/apps/details?id=com.gelembjuk.mytrekking"><img src="/images/android-app-icon.png" width="100%"></a>
						</div>
						<div class="col-xs-12 col-sm-6 text-center">
							<a href="https://apps.apple.com/us/app/trekking-carpathians/id6445875001"><img src="/images/ios-app-icon.png" width="100%"></a>
						</div>
					</div>
				</div>
				<div class="col-xs-10 col-xs-offset-1 col-sm-6 text-center">
					<form action="/browse/" class="form" role="form" method="POST" id="filterform">
					<label for="searchfilter" class="frontlabel reversed-text">Знайти на сайті:</label> 
					<input type="text" id="searchfilter" name="filter" value="" class="form-control" placeholder="Пошук">
					</form>
				</div>
			</div>
            <div class="row text-center">
                    <hr class="small">
					<div class="col-xs-12 col-sm-9">
                    <p class="text-muted reversed-text">Copyright &copy; Roman Gelembjuk
                    
                                        2019 - 2025
                    										&nbsp;&nbsp;&nbsp;&nbsp;
					Web-site design concept by Anna Maimurenko
						
                    </p>
					</div>
					<div class="col-xs-12 col-sm-3 text-right">
						<button type="button" data-cc="c-settings">🍪 Cookies</button>
					</div>
            </div>
    </footer>
 </section>   
 <div id="loginformext" class="modal fade" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
    <div class="modal-header">
		<h3 class="panel-title">Будь ласка, ввійдіть</h3>
	</div>
	<div class="modal-body">
			<div class="row modal-header" id="loginformmessage"></div>
		
			<div class="row">
				
				<div class="col-md-7" style="border-right:1px solid #ccc;height:180px">
				<form action="/login/d/login/" method="POST" class="form-horizontal">
					<fieldset>
			
					<input name="email" type="text" placeholder="Email Адреса" class="form-control input-md">
					<div class="spacing"><input type="checkbox" name="rememberme" value="y"><small> Запам’ятати мене</small></div>
					<input name="password" type="password" placeholder="Пароль" class="form-control input-md">
					<div class="spacing"><a href="/login/v/forgot/"><small> Забув пароль?</small></a><br/></div>
					
					<div class="row">
						<div class="col-xs-6"	>	
						<button type="submit" class="btn btn-info pull-left">Вхід</button>
						</div>
						<div class="col-xs-6"	>			
						<a href="/login/v/register/" class="btn btn-warning pull-right" role="buttont">Зареєструватися</a>
						</div>
					</div>
					</fieldset>
				</form>
				</div>
								<div class="col-md-5 text-center" >
					<ul>
					<li><small class="text-muted">швидкий вхід із</small></li>
										<li><a href="/login/d/sociallogin/facebook/" class="btn btn-l btn-fb"><i class="fab fa-facebook"></i> Facebook</a></li>
															<li><a href="/login/d/sociallogin/twitter/" class="btn btn-l btn-tw"><i class="fab fa-twitter"></i> Twitter</a></li>
															<li><a href="/login/d/sociallogin/google/" class="btn btn-l btn-gp"><i class="fab fa-google"></i> Google</a></li>
																				<li><a href="/login/d/sociallogin/apple/" class="btn btn-l btn-ap"><i class="fab fa-apple"></i> Apple</a></li>
										</ul>
				</div>
							</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default pull-right" data-dismiss="modal"><i class="fa fa-close"></i> Закрити</button>
	</div>
	</div>
	</div>
	</div>
</div>
<script type="text/javascript">
var iserislogedin=0;

function loginRequired(message){
	if(iserislogedin>0) return true;
	$('#loginformmessage').html(message);
	$('#loginformext').modal('toggle');
	
	return false;
}

</script>


<script src="/components/bootstrap/js/bootstrap.min.js"></script>
<script defer src="/components/cookieconsent/cookieconsent.js"></script>
<script type="text/javascript">
	var privacyPolicy = "/pages/privacypolicy/Politika+privatnosti.htm";	
	var contactPage = "/contact/";	
</script>
<script defer src="/components/cookieconsent/cookieconsent-init.js"></script>

    
</body>
</html>
